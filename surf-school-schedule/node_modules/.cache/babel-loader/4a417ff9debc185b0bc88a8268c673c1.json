{"ast":null,"code":"import _defineProperty from\"/home/michal/Desktop/projekty/java/SurfSchoolSchedule/SurfSchoolSchedule/surf-school-schedule/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/michal/Desktop/projekty/java/SurfSchoolSchedule/SurfSchoolSchedule/surf-school-schedule/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/michal/Desktop/projekty/java/SurfSchoolSchedule/SurfSchoolSchedule/surf-school-schedule/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/michal/Desktop/projekty/java/SurfSchoolSchedule/SurfSchoolSchedule/surf-school-schedule/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/michal/Desktop/projekty/java/SurfSchoolSchedule/SurfSchoolSchedule/surf-school-schedule/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/michal/Desktop/projekty/java/SurfSchoolSchedule/SurfSchoolSchedule/surf-school-schedule/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{Form,Card,Col,Button,Modal}from'react-bootstrap';import{faSave,faUndo,faArrowLeft,faEdit,faPlusSquare,faLanguage}from'@fortawesome/free-solid-svg-icons';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{Link}from'react-router-dom';import axios from'axios';import moment from'moment';import SuccessToast from'../SuccessToast';import Instructor from'../Instructor/Instructor';import Student from'../Student/Student';import{connect}from'react-redux';import{saveLesson as _saveLesson,fetchLesson as _fetchLesson,updateLesson as _updateLesson,fetchAllInstructors as _fetchAllInstructors,fetchAllStudents as _fetchAllStudents}from'../../services/index';var Lesson=/*#__PURE__*/function(_React$Component){_inherits(Lesson,_React$Component);var _super=_createSuper(Lesson);function Lesson(props){var _this;_classCallCheck(this,Lesson);_this=_super.call(this,props);_this.initialState={id:'',date:'Select Date',time:'Select Hour',nrStudents:'Select Nr of Students',status:0,howLong:'Select How Long',students:[],instructors:[],dates:[],times:[],nrStudTable:[],howLongTable:[],instructor:{id:'',lastName:'Select Instructor',firstName:'',NrHoursWeek:0,NrHoursFull:0,WeekWage:0},student:{id:'',lastName:'Select Student',firstName:'',idCardNr:'',telNr:'',paymentStatus:0,lessonHours:0,unpaidLessons:0,moneyOwing:0,moneyInAdvance:''}};_this.filterTimesArray=function(){axios.get(\"http://localhost:8080/lesson-api/\"+_this.state.instructor.id+\"/\"+_this.state.date).then(function(response){if(response.data!=null){//save when the lessons start \nvar timesTab=response.data.content;timesTab=timesTab.map(function(t){return t.time;});//save how long they take\nvar howLongTab=response.data.content;howLongTab=howLongTab.map(function(h){return h.howLong;});//if lesson is gonna e.g.  start at 12 and take 2h - delete not only 12 but also 1 pm \nfor(var i=0;i<howLongTab.length;++i){if(howLongTab[i]>1){var pieces=timesTab[i].split(':');for(var j=1;j<howLongTab[i];++j){++pieces[0];var tempHour=pieces[0]+\":00\";timesTab=timesTab.concat(tempHour);}}}_this.state.times=[];_this.state.times.push('Select Hour');_this.state.times=_this.state.times.concat(_this.arrayWithHours());_this.setState({times:_this.state.times.filter(function(e){return!timesTab.includes(e);})});}}).catch(function(error){console.error(\"Error: \"+error);});};_this.findAllStudents=function(addedStudent){_this.props.fetchAllStudents(1,999999999,\"asc\",addedStudent);};_this.findAllInstructors=function(addSelect){_this.props.fetchAllInstructors(1,999999999,\"asc\",addSelect);};_this.findLessonById=function(idLesson){axios.get(\"http://localhost:8080/lesson-api/\"+idLesson).then(function(response){if(response.data!=null){_this.props.student.students.unshift(response.data.student);_this.props.instructor.instructors.unshift(response.data.instructor);_this.setState({id:response.data.id,instructor:response.data.instructor,student:response.data.student,date:response.data.date,time:response.data.time,howLong:response.data.howLong,nrStudents:response.data.nrStudents,status:response.data.status});}}).catch(function(error){console.error(\"Error: \"+error);});};_this.isValid=function(){if(_this.state.student.lastName==='Select Student'||_this.state.nrStudents==='Select Nr of Students'||_this.state.howLong==='Select How Long'){_this.setState({\"showInvalidMessage\":true,\"method\":\"post\"});setTimeout(function(){return _this.setState({\"showInvalidMessage\":false});},3000);return false;}else return true;};_this.submitLesson=function(){if(!_this.isValid()){return;}var lesson={instructor:_this.props.instructor,student:JSON.parse(_this.state.student),date:_this.props.date,time:_this.props.lessonHour,howLong:_this.state.howLong,nrStudents:_this.state.nrStudents,status:_this.state.status};_this.props.saveLesson(lesson);setTimeout(function(){if(!_this.props.lesson.error){_this.setState({\"show\":true,\"method\":\"post\"});setTimeout(function(){return _this.setState({\"show\":false});},3000);_this.resetForm();setTimeout(function(){return _this.props.handleClose(null,_this.props.instrIndex,_this.props.lessonIndex,true,lesson);},1000);}else{_this.setState({\"showCantCreateLessonMessage\":true,\"method\":\"post\"});setTimeout(function(){return _this.setState({\"showCantCreateLessonMessage\":false});},3000);_this.props.lesson.error='';}},1000);};_this.updateLesson=function(){if(!_this.isValid()){return;}if(typeof _this.state.instructor===\"object\")_this.state.instructor=JSON.stringify(_this.state.instructor);if(typeof _this.state.student===\"object\")_this.state.student=JSON.stringify(_this.state.student);var lesson={id:_this.state.id,instructor:JSON.parse(_this.state.instructor),student:JSON.parse(_this.state.student),date:_this.state.date,time:_this.state.time,howLong:_this.state.howLong,nrStudents:_this.state.nrStudents,status:_this.state.status};_this.props.updateLesson(lesson);//        this.forceUpdate();//?????????????????????????\nsetTimeout(function(){if(!_this.props.lesson.error){_this.setState({\"show\":true,\"method\":\"put\"});setTimeout(function(){return _this.setState({\"show\":false});},3000);_this.resetForm();setTimeout(function(){return _this.props.handleClose(null,_this.props.instrIndex,_this.props.lessonIndex,null,lesson,true);},1000);}else{_this.setState({\"showCantCreateLessonMessage\":true,\"method\":\"put\"});setTimeout(function(){return _this.setState({\"showCantCreateLessonMessage\":false});},3000);_this.props.lesson.error='';}},2000);};_this.resetForm=function(){var selectStudent={id:-1,lastName:'Select Student',firstName:'',idCardNr:'',telNr:'',paymentStatus:0,lessonHours:0,unpaidLessons:0,moneyOwing:0,moneyInAdvance:''};_this.findAllStudents(selectStudent);_this.setState({\"student\":_this.initialState.student,\"howLong\":_this.initialState.howLong,\"nrStudents\":_this.initialState.nrStudents});};_this.lessonChange=function(event){_this.setState(_defineProperty({},event.target.name,event.target.value));};_this.lessonChangeInstructor=function(event){_this.setState(_defineProperty({},event.target.name,event.target.value));_this.state.instructor=event.target.value;if(typeof _this.state.instructor===\"string\")_this.state.instructor=JSON.parse(_this.state.instructor);_this.filterTimesArray();};_this.onShowHandle=function(){if(_this.props.editedLesson){_this.setState({id:_this.props.editedLesson.id,student:_this.props.editedLesson.student,howLong:_this.props.editedLesson.howLong,nrStudents:_this.props.editedLesson.nrStudents,instructor:_this.props.editedLesson.instructor,date:_this.props.editedLesson.date,time:_this.props.editedLesson.time,status:_this.props.editedLesson.status});_this.findAllStudents(_this.props.editedLesson.student);//musze dac booleana\n_this.props.student.students[0]=_this.props.editedLesson.student;}};_this.resetAndCloseForm=function(){_this.resetForm();_this.props.handleClose(false/*, null, null, null, null, true*/);};_this.state=_this.initialState;_this.state.show=false;_this.state.showInvalidMessage=false;_this.state.showCantCreateLessonMessage=false;_this.state.method='post';_this.lessonChange=_this.lessonChange.bind(_assertThisInitialized(_this));_this.submitLesson=_this.submitLesson.bind(_assertThisInitialized(_this));return _this;}_createClass(Lesson,[{key:\"componentDidMount\",value:function componentDidMount(){var selectStudent={id:-1,lastName:'Select Student',firstName:'',idCardNr:'',telNr:'',paymentStatus:0,lessonHours:0,unpaidLessons:0,moneyOwing:0,moneyInAdvance:''};this.findAllStudents(selectStudent);this.setArrays();}},{key:\"arrayWithHours\",value:function arrayWithHours(){var arr=[],i,j;for(i=9;i<21;i++){arr.push(i+\":00\");}return arr;}},{key:\"addDays\",value:function addDays(date,days){var result=new Date(date);result.setDate(result.getDate()+days);return result;}},{key:\"getDateArray\",value:function getDateArray(start,end){var arr=new Array();var dt=new Date(start);while(dt<end){var dd=dt.getDate();var mm=dt.getMonth()+1;var yyyy=dt.getFullYear();if(dd<10){dd='0'+dd;}if(mm<10){mm='0'+mm;}var fullDate=mm+'-'+dd+'-'+yyyy;arr.push(fullDate);dt.setDate(dt.getDate()+1);}return arr;}},{key:\"getNrStudArray\",value:function getNrStudArray(){var arr=new Array();for(var i=1;i<6;++i){arr.push(i);}return arr;}},{key:\"getHowLongArray\",value:function getHowLongArray(){var arr=new Array();for(var i=1;i<4;++i){arr.push(i);}return arr;}},{key:\"setArrays\",value:function setArrays(){this.state.dates.push('Select Date');this.state.times.push('Select Hour');this.state.howLongTable.push('Select How Long');this.state.nrStudTable.push('Select Nr of Students');this.setState({dates:this.state.dates.concat(this.getDateArray(new Date(),this.addDays(new Date(),7))),times:this.state.times.concat(this.arrayWithHours()),howLongTable:this.state.howLongTable.concat(this.getHowLongArray()),nrStudTable:this.state.nrStudTable.concat(this.getNrStudArray())});if(this.state.id){this.filterTimesArray();}}//leave only free hours - when instructor does not have other lessons\n//this doesn't check if student has other lessons\n},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,student=_this$state.student,time=_this$state.time,howLong=_this$state.howLong,nrStudents=_this$state.nrStudents;var instructors=this.props.instructor.instructors;var students=this.props.student.students;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Modal,{show:this.props.showForm,onHide:function onHide(){return _this2.resetAndCloseForm();},onShow:function onShow(){return _this2.onShowHandle();}},/*#__PURE__*/React.createElement(Modal.Header,{className:\"border border-light bg-dark text-white\",closeButton:true},/*#__PURE__*/React.createElement(\"div\",{style:{\"display\":this.state.show?\"block\":\"none\"}},/*#__PURE__*/React.createElement(SuccessToast,{show:this.state.show,message:this.state.method===\"put\"?\"Lesson Updated Successfully\":\"Lesson Saved Successfully.\",type:\"success\"})),/*#__PURE__*/React.createElement(\"div\",{style:{\"display\":this.state.showInvalidMessage?\"block\":\"none\"}},/*#__PURE__*/React.createElement(SuccessToast,{show:this.state.showInvalidMessage,message:\"Fill out the required fields.\",type:\"dangerNoSuccess\"})),/*#__PURE__*/React.createElement(\"div\",{style:{\"display\":this.state.showCantCreateLessonMessage?\"block\":\"none\"}},/*#__PURE__*/React.createElement(SuccessToast,{show:this.state.showCantCreateLessonMessage,message:\"Can't create such lesson - conflict with other lesson\",type:\"dangerNoSuccess\"})),/*#__PURE__*/React.createElement(Modal.Title,null,/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:this.props.editedLesson?faEdit:faPlusSquare}),\" \",this.props.editedLesson?\"Update Lesson\":\"Add New Lesson\")),/*#__PURE__*/React.createElement(Modal.Body,{className:\"border border-light bg-dark text-white\"},/*#__PURE__*/React.createElement(Card,{className:\"border border-dark bg-dark text-white\"},/*#__PURE__*/React.createElement(Form,{onReset:this.resetLesson,onSubmit:this.props.editedLesson?this.updateLesson:this.submitLesson},/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(\"h6\",null,\"Instructor\"),/*#__PURE__*/React.createElement(\"h5\",null,this.props.instructor.firstName+\" \"+this.props.instructor.lastName),/*#__PURE__*/React.createElement(\"h6\",null,\"Date\"),/*#__PURE__*/React.createElement(\"h5\",null,this.props.date),/*#__PURE__*/React.createElement(\"h6\",null,\"Time\"),/*#__PURE__*/React.createElement(\"h5\",null,this.props.lessonHour),/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"formGridStudent\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Student\"),/*#__PURE__*/React.createElement(Form.Control,{required:true,as:\"select\",name:\"student\",value:student,onChange:this.lessonChange,className:\"bg-dark text-white\"},students.filter(function(item,index,self){return index===self.findIndex(function(e){return e.id===item.id;});}).map(function(student){return/*#__PURE__*/React.createElement(\"option\",{key:student.id,value:JSON.stringify(student)},student.lastName+\" \"+student.firstName);}))),/*#__PURE__*/React.createElement(Form.Row,null,/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"formGridHowLong\"},/*#__PURE__*/React.createElement(Form.Label,null,\"How Long [h]\"),/*#__PURE__*/React.createElement(Form.Control,{required:true,as:\"select\",autoComplete:\"off\",name:\"howLong\",value:howLong,onChange:this.lessonChange,className:\"bg-dark text-white\"},this.state.howLongTable.map(function(howLong){return/*#__PURE__*/React.createElement(\"option\",{key:howLong,value:howLong},howLong);}))),/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"formGridNrStudents\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Nr Of Students\"),/*#__PURE__*/React.createElement(Form.Control,{required:true,as:\"select\",autoComplete:\"off\",name:\"nrStudents\",value:nrStudents,onChange:this.lessonChange,className:\"bg-dark text-white\"},this.state.nrStudTable.map(function(nrStudents){return/*#__PURE__*/React.createElement(\"option\",{key:nrStudents,value:nrStudents},nrStudents);})))))))),/*#__PURE__*/React.createElement(Modal.Footer,{className:\"border border-light bg-light text-white\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{size:\"sm\",variant:\"info\",type:\"submit\",onClick:this.props.editedLesson?function(){return _this2.updateLesson();}:function(){return _this2.submitLesson();}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faSave}),\" \",this.props.editedLesson?\"Update\":\"Submit\"),'      ',!this.props.editedLesson?/*#__PURE__*/React.createElement(Button,{size:\"sm\",variant:\"secondary\",type:\"reset\",onClick:function onClick(){return _this2.resetForm();}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faUndo}),\"  Reset\"):\" \"),'      ',/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{size:\"sm\",variant:\"border border-dark bg-light\",type:\"button\",onClick:function onClick(){return _this2.resetAndCloseForm();}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faArrowLeft}),\"  Return\")))));}}]);return Lesson;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{//savedStudentObject: state.student,\n//      studentObject: state.student,\n//  updatedStudent: state.student.student\nlesson:state.lesson,student:state.student};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{fetchAllStudents:function fetchAllStudents(currentPage,size,sortDir,addedStudent){return dispatch(_fetchAllStudents(currentPage,size,sortDir,addedStudent));},fetchAllInstructors:function fetchAllInstructors(currentPage,size,sortDir,addSelect){return dispatch(_fetchAllInstructors(currentPage,size,sortDir,addSelect));},saveLesson:function saveLesson(lesson){return dispatch(_saveLesson(lesson));},fetchLesson:function fetchLesson(lessonId){return dispatch(_fetchLesson(lessonId));},updateLesson:function updateLesson(lesson){return dispatch(_updateLesson(lesson));}};};export default connect(mapStateToProps,mapDispatchToProps)(Lesson);","map":{"version":3,"sources":["/home/michal/Desktop/projekty/java/SurfSchoolSchedule/SurfSchoolSchedule/surf-school-schedule/src/components/Lesson/LessonForm.js"],"names":["React","Form","Card","Col","Button","Modal","faSave","faUndo","faArrowLeft","faEdit","faPlusSquare","faLanguage","FontAwesomeIcon","Link","axios","moment","SuccessToast","Instructor","Student","connect","saveLesson","fetchLesson","updateLesson","fetchAllInstructors","fetchAllStudents","Lesson","props","initialState","id","date","time","nrStudents","status","howLong","students","instructors","dates","times","nrStudTable","howLongTable","instructor","lastName","firstName","NrHoursWeek","NrHoursFull","WeekWage","student","idCardNr","telNr","paymentStatus","lessonHours","unpaidLessons","moneyOwing","moneyInAdvance","filterTimesArray","get","state","then","response","data","timesTab","content","map","t","howLongTab","h","i","length","pieces","split","j","tempHour","concat","push","arrayWithHours","setState","filter","e","includes","catch","error","console","findAllStudents","addedStudent","findAllInstructors","addSelect","findLessonById","idLesson","unshift","isValid","setTimeout","submitLesson","lesson","JSON","parse","lessonHour","resetForm","handleClose","instrIndex","lessonIndex","stringify","selectStudent","lessonChange","event","target","name","value","lessonChangeInstructor","onShowHandle","editedLesson","resetAndCloseForm","show","showInvalidMessage","showCantCreateLessonMessage","method","bind","setArrays","arr","days","result","Date","setDate","getDate","start","end","Array","dt","dd","mm","getMonth","yyyy","getFullYear","fullDate","getDateArray","addDays","getHowLongArray","getNrStudArray","showForm","resetLesson","item","index","self","findIndex","Component","mapStateToProps","mapDispatchToProps","dispatch","currentPage","size","sortDir","lessonId"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Form, Card, Col, Button, Modal } from 'react-bootstrap';\nimport { faSave, faUndo, faArrowLeft, faEdit, faPlusSquare, faLanguage } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport moment from 'moment';\nimport SuccessToast from '../SuccessToast';\nimport Instructor from '../Instructor/Instructor';\nimport Student from '../Student/Student';\n\nimport { connect } from 'react-redux';\nimport { saveLesson, fetchLesson, updateLesson, fetchAllInstructors, fetchAllStudents } from '../../services/index';\n\nclass Lesson extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = this.initialState;\n        this.state.show = false;\n        this.state.showInvalidMessage = false;\n        this.state.showCantCreateLessonMessage = false;\n        this.state.method = 'post';\n        this.lessonChange = this.lessonChange.bind(this);\n        this.submitLesson = this.submitLesson.bind(this);\n\n    }\n\n    initialState = {\n        id: '', date: 'Select Date', time: 'Select Hour', nrStudents: 'Select Nr of Students', status: 0, howLong: 'Select How Long',\n        students: [], instructors: [], dates: [], times: [], nrStudTable: [], howLongTable: [],\n        instructor: {\n            id: '', lastName: 'Select Instructor', firstName: '', NrHoursWeek: 0, NrHoursFull: 0, WeekWage: 0\n        },\n        student: {\n            id: '', lastName: 'Select Student', firstName: '', idCardNr: '', telNr: '', paymentStatus: 0, lessonHours: 0, unpaidLessons: 0, moneyOwing: 0, moneyInAdvance: ''\n        }\n    }\n\n    componentDidMount() {\n        let selectStudent = {\n            id: -1, lastName: 'Select Student', firstName: '', idCardNr: '', telNr: '', paymentStatus: 0, lessonHours: 0, unpaidLessons: 0, moneyOwing: 0, moneyInAdvance: ''\n        };\n        this.findAllStudents(selectStudent);\n        this.setArrays();\n    };\n\n\n    arrayWithHours() {\n        var arr = [], i, j;\n        for (i = 9; i < 21; i++) {\n            arr.push(i + \":00\");\n        }\n        return arr;\n    };\n\n    addDays(date, days) {\n        var result = new Date(date);\n        result.setDate(result.getDate() + days);\n        return result;\n    }\n\n    getDateArray(start, end) {\n        var arr = new Array();\n        var dt = new Date(start);\n        while (dt < end) {\n            var dd = dt.getDate();\n            var mm = dt.getMonth() + 1;\n            var yyyy = dt.getFullYear();\n            if (dd < 10) {\n                dd = '0' + dd;\n            }\n            if (mm < 10) {\n                mm = '0' + mm;\n            }\n            var fullDate = mm + '-' + dd + '-' + yyyy;\n            arr.push(fullDate);\n            dt.setDate(dt.getDate() + 1);\n        }\n        return arr;\n    }\n\n    getNrStudArray() {\n        var arr = new Array();\n        for (var i = 1; i < 6; ++i) {\n            arr.push(i);\n        }\n        return arr;\n    }\n\n    getHowLongArray() {\n        var arr = new Array();\n        for (var i = 1; i < 4; ++i) {\n            arr.push(i);\n        }\n        return arr;\n    }\n\n    setArrays() {\n        this.state.dates.push('Select Date');\n        this.state.times.push('Select Hour');\n        this.state.howLongTable.push('Select How Long');\n        this.state.nrStudTable.push('Select Nr of Students');\n        this.setState({\n            dates: this.state.dates.concat(this.getDateArray(new Date(), this.addDays(new Date(), 7))),\n            times: this.state.times.concat(this.arrayWithHours()),\n            howLongTable: this.state.howLongTable.concat(this.getHowLongArray()),\n            nrStudTable: this.state.nrStudTable.concat(this.getNrStudArray())\n        });\n        if (this.state.id) {\n            this.filterTimesArray();\n        }\n    }\n\n    //leave only free hours - when instructor does not have other lessons\n    //this doesn't check if student has other lessons\n    filterTimesArray = () => {\n        axios.get(\"http://localhost:8080/lesson-api/\" + this.state.instructor.id + \"/\" + this.state.date)\n            .then(response => {\n                if (response.data != null) {\n                    //save when the lessons start \n                    let timesTab = response.data.content;\n                    timesTab = timesTab.map(t => t.time);\n\n                    //save how long they take\n                    let howLongTab = response.data.content;\n                    howLongTab = howLongTab.map(h => h.howLong);\n\n                    //if lesson is gonna e.g.  start at 12 and take 2h - delete not only 12 but also 1 pm \n                    for (let i = 0; i < howLongTab.length; ++i) {\n                        if (howLongTab[i] > 1) {\n                            var pieces = timesTab[i].split(':');\n\n                            for (var j = 1; j < howLongTab[i]; ++j) {\n                                ++pieces[0];\n                                var tempHour = pieces[0] + \":00\";\n                                timesTab = timesTab.concat(tempHour)\n                            }\n                        }\n                    }\n\n                    this.state.times = [];\n                    this.state.times.push('Select Hour');\n                    this.state.times = this.state.times.concat(this.arrayWithHours());\n\n                    this.setState({\n                        times: this.state.times.filter(e => !timesTab.includes(e))\n                    });\n\n\n                }\n            }).catch((error) => {\n                console.error(\"Error: \" + error);\n            });\n\n    }\n\n\n    findAllStudents = (addedStudent) => {\n        this.props.fetchAllStudents(1, 999999999, \"asc\", addedStudent);\n    }\n\n\n\n    findAllInstructors = (addSelect) => {\n        this.props.fetchAllInstructors(1, 999999999, \"asc\", addSelect);\n\n    };\n\n\n    findLessonById = (idLesson) => {\n        axios.get(\"http://localhost:8080/lesson-api/\" + idLesson)\n            .then(response => {\n                if (response.data != null) {\n                    this.props.student.students.unshift(response.data.student);\n                    this.props.instructor.instructors.unshift(response.data.instructor);\n                    this.setState({\n                        id: response.data.id,\n                        instructor: response.data.instructor,\n                        student: response.data.student,\n                        date: response.data.date,\n                        time: response.data.time,\n                        howLong: response.data.howLong,\n                        nrStudents: response.data.nrStudents,\n                        status: response.data.status,\n                    });\n\n                }\n            }).catch((error) => {\n                console.error(\"Error: \" + error);\n            });\n    };\n\n\n    isValid = () => {\n        if (this.state.student.lastName === 'Select Student' ||\n            this.state.nrStudents === 'Select Nr of Students' ||\n            this.state.howLong === 'Select How Long') {\n            this.setState({ \"showInvalidMessage\": true, \"method\": \"post\" });\n            setTimeout(() => this.setState({ \"showInvalidMessage\": false }), 3000);\n            return false;\n        }\n        else\n            return true;\n    }\n\n    submitLesson = () => {\n        if (!this.isValid()) {\n            return;\n        }\n\n        const lesson = {\n            instructor: this.props.instructor,\n            student: JSON.parse(this.state.student),\n            date: this.props.date,\n            time: this.props.lessonHour,\n            howLong: this.state.howLong,\n            nrStudents: this.state.nrStudents,\n            status: this.state.status\n        };\n\n        this.props.saveLesson(lesson);\n        setTimeout(() => {\n            if (!this.props.lesson.error) {\n                this.setState({\n                    \"show\": true,\n                    \"method\": \"post\"\n                });\n                setTimeout(() => this.setState({ \"show\": false }), 3000);\n                this.resetForm();\n                setTimeout(() => this.props.handleClose(null, this.props.instrIndex, this.props.lessonIndex, true, lesson), 1000);\n            } else {\n                this.setState({ \"showCantCreateLessonMessage\": true, \"method\": \"post\" });\n                setTimeout(() => this.setState({ \"showCantCreateLessonMessage\": false }), 3000);\n                this.props.lesson.error = '';\n            }\n        }, 1000);\n    };\n\n\n    updateLesson = () => {\n        if (!this.isValid()) {\n            return;\n        }\n        if (typeof (this.state.instructor) === \"object\")\n            this.state.instructor = JSON.stringify(this.state.instructor);\n\n        if (typeof (this.state.student) === \"object\")\n            this.state.student = JSON.stringify(this.state.student);\n\n        const lesson = {\n            id: this.state.id,\n            instructor: JSON.parse(this.state.instructor),\n            student: JSON.parse(this.state.student),\n            date: this.state.date,\n            time: this.state.time,\n            howLong: this.state.howLong,\n            nrStudents: this.state.nrStudents,\n            status: this.state.status\n        };\n\n        this.props.updateLesson(lesson);\n//        this.forceUpdate();//?????????????????????????\n        setTimeout(() => {\n\n            if (!this.props.lesson.error) {\n                this.setState({ \"show\": true, \"method\": \"put\" });\n                setTimeout(() => this.setState({ \"show\": false }), 3000);\n                this.resetForm();\n                setTimeout(() => this.props.handleClose(null, this.props.instrIndex, this.props.lessonIndex, null, lesson, true), 1000);\n            } else {\n                this.setState({ \"showCantCreateLessonMessage\": true, \"method\": \"put\" });\n                setTimeout(() => this.setState({ \"showCantCreateLessonMessage\": false }), 3000);\n                this.props.lesson.error = '';\n            }\n        }, 2000);\n    }\n\n    resetForm = () => {\n        let selectStudent = {\n            id: -1, lastName: 'Select Student', firstName: '', idCardNr: '', telNr: '', paymentStatus: 0, lessonHours: 0, unpaidLessons: 0, moneyOwing: 0, moneyInAdvance: ''\n        };\n        this.findAllStudents(selectStudent);\n        this.setState({\n            \"student\": this.initialState.student,\n            \"howLong\": this.initialState.howLong,\n            \"nrStudents\": this.initialState.nrStudents\n        });\n    };\n\n    lessonChange = event => {\n        this.setState({\n            [event.target.name]: event.target.value\n        });\n\n    };\n\n    lessonChangeInstructor = event => {\n        this.setState({\n            [event.target.name]: event.target.value\n        });\n        this.state.instructor = event.target.value;\n        if (typeof (this.state.instructor) === \"string\")\n            this.state.instructor = JSON.parse(this.state.instructor);\n\n        this.filterTimesArray();\n\n    }\n\n    onShowHandle = () => {\n\n        if (this.props.editedLesson) {\n            this.setState({\n                id: this.props.editedLesson.id,\n                student: this.props.editedLesson.student,\n                howLong: this.props.editedLesson.howLong,\n                nrStudents: this.props.editedLesson.nrStudents,\n                instructor: this.props.editedLesson.instructor,\n                date: this.props.editedLesson.date,\n                time: this.props.editedLesson.time,\n                status: this.props.editedLesson.status,\n            });\n            this.findAllStudents(this.props.editedLesson.student);//musze dac booleana\n            this.props.student.students[0] = this.props.editedLesson.student;\n\n        }\n    }\n\n    resetAndCloseForm = () => {\n        this.resetForm();\n        this.props.handleClose(false/*, null, null, null, null, true*/);\n    }\n\n    render() {\n        const { student, time, howLong, nrStudents } = this.state;\n        const instructors = this.props.instructor.instructors;\n        const students = this.props.student.students;\n\n        return (\n            <>\n                <Modal show={this.props.showForm}\n                    onHide={() => this.resetAndCloseForm()}\n                    onShow={() => this.onShowHandle()}\n                >\n                    <Modal.Header className={\"border border-light bg-dark text-white\"} closeButton>\n                        <div style={{ \"display\": this.state.show ? \"block\" : \"none\" }}>\n                            <SuccessToast show={this.state.show} message={this.state.method === \"put\" ? \"Lesson Updated Successfully\" : \"Lesson Saved Successfully.\"} type=\"success\" />\n                        </div>\n                        <div style={{ \"display\": this.state.showInvalidMessage ? \"block\" : \"none\" }}>\n                            <SuccessToast show={this.state.showInvalidMessage} message={\"Fill out the required fields.\"} type=\"dangerNoSuccess\" />\n                        </div>\n                        <div style={{ \"display\": this.state.showCantCreateLessonMessage ? \"block\" : \"none\" }}>\n                            <SuccessToast show={this.state.showCantCreateLessonMessage} message={\"Can't create such lesson - conflict with other lesson\"} type=\"dangerNoSuccess\" />\n                        </div>\n                        <Modal.Title>\n                            <FontAwesomeIcon icon={this.props.editedLesson ? faEdit : faPlusSquare} /> {this.props.editedLesson ? \"Update Lesson\" : \"Add New Lesson\"}\n                        </Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body className={\"border border-light bg-dark text-white\"}>\n                        <Card className={\"border border-dark bg-dark text-white\"}>\n                            <Form onReset={this.resetLesson} onSubmit={this.props.editedLesson ? this.updateLesson : this.submitLesson}>\n                                <Card.Body>\n                                    <h6>Instructor</h6>\n                                    <h5>{this.props.instructor.firstName + \" \" + this.props.instructor.lastName}</h5>\n\n                                    <h6>Date</h6>\n                                    <h5>{this.props.date}</h5>\n\n                                    <h6>Time</h6>\n                                    <h5>{this.props.lessonHour}</h5>\n\n\n\n                                    <Form.Group as={Col} controlId=\"formGridStudent\">\n                                        <Form.Label>Student</Form.Label>\n                                        <Form.Control required as=\"select\"\n                                            name=\"student\"\n                                            value={student}\n                                            onChange={this.lessonChange}\n                                            className={\"bg-dark text-white\"} >\n                                            {students.filter((item, index, self) =>\n                                                index === self.findIndex((e) => (\n                                                    e.id === item.id)\n                                                ))\n                                                .map(student =>\n                                                    <option key={student.id} value={JSON.stringify(student)}>\n                                                        {student.lastName + \" \" + student.firstName}\n                                                    </option>\n                                                )}\n                                        </Form.Control>\n                                    </Form.Group>\n\n\n\n                                    <Form.Row>\n                                        <Form.Group as={Col} controlId=\"formGridHowLong\">\n                                            <Form.Label>How Long [h]</Form.Label>\n                                            <Form.Control required as=\"select\"\n                                                autoComplete=\"off\"\n                                                name=\"howLong\"\n                                                value={howLong}\n                                                onChange={this.lessonChange}\n                                                className={\"bg-dark text-white\"}>\n                                                {this.state.howLongTable.map(howLong =>\n                                                    <option key={howLong} value={howLong}>\n                                                        {howLong}\n                                                    </option>\n                                                )}\n                                            </Form.Control>\n                                        </Form.Group>\n\n                                        <Form.Group as={Col} controlId=\"formGridNrStudents\">\n                                            <Form.Label>Nr Of Students</Form.Label>\n                                            <Form.Control required as=\"select\"\n                                                autoComplete=\"off\"\n                                                name=\"nrStudents\"\n                                                value={nrStudents}\n                                                onChange={this.lessonChange}\n                                                className={\"bg-dark text-white\"} >\n                                                {this.state.nrStudTable.map(nrStudents =>\n                                                    <option key={nrStudents} value={nrStudents}>\n                                                        {nrStudents}\n                                                    </option>\n                                                )}\n                                            </Form.Control>\n                                        </Form.Group>\n                                    </Form.Row>\n\n                                </Card.Body>\n\n\n                            </Form >\n                        </Card >\n                    </Modal.Body>\n                    <Modal.Footer className={\"border border-light bg-light text-white\"}>\n                        <div>\n                            <Button size=\"sm\" variant=\"info\" type=\"submit\" onClick={this.props.editedLesson ? () => this.updateLesson() : () => this.submitLesson()}>\n                                <FontAwesomeIcon icon={faSave} /> {this.props.editedLesson ? \"Update\" : \"Submit\"}\n                            </Button>\n                            {'      '}\n                            {!this.props.editedLesson ?\n                                <Button size=\"sm\" variant=\"secondary\" type=\"reset\" onClick={() => this.resetForm()}>\n                                    <FontAwesomeIcon icon={faUndo} />  Reset\n                    </Button> : \" \"\n                            }\n                        </div>\n                        {'      '}\n                        <div>\n                            <Button size=\"sm\" variant=\"border border-dark bg-light\" type=\"button\" onClick={() => this.resetAndCloseForm()}>\n                                <FontAwesomeIcon icon={faArrowLeft} />  Return\n                    </Button>\n                        </div>\n\n                    </Modal.Footer>\n                </Modal>\n            </>\n        );\n    }\n\n}\nconst mapStateToProps = state => {\n    return {\n        //savedStudentObject: state.student,\n        //      studentObject: state.student,\n        //  updatedStudent: state.student.student\n        lesson: state.lesson,\n        student: state.student\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        fetchAllStudents: (currentPage, size, sortDir, addedStudent) => dispatch(fetchAllStudents(currentPage, size, sortDir, addedStudent)),\n        fetchAllInstructors: (currentPage, size, sortDir, addSelect) => dispatch(fetchAllInstructors(currentPage, size, sortDir, addSelect)),\n        saveLesson: (lesson) => dispatch(saveLesson(lesson)),\n        fetchLesson: (lessonId) => dispatch(fetchLesson(lessonId)),\n        updateLesson: (lesson) => dispatch(updateLesson(lesson))\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Lesson);"]},"metadata":{},"sourceType":"module"}