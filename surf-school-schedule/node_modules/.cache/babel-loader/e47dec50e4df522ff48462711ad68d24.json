{"ast":null,"code":"import _defineProperty from\"/home/michal/Desktop/projekty/java/SurfSchoolSchedule/SurfSchoolSchedule/surf-school-schedule/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/michal/Desktop/projekty/java/SurfSchoolSchedule/SurfSchoolSchedule/surf-school-schedule/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/michal/Desktop/projekty/java/SurfSchoolSchedule/SurfSchoolSchedule/surf-school-schedule/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/michal/Desktop/projekty/java/SurfSchoolSchedule/SurfSchoolSchedule/surf-school-schedule/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/michal/Desktop/projekty/java/SurfSchoolSchedule/SurfSchoolSchedule/surf-school-schedule/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/michal/Desktop/projekty/java/SurfSchoolSchedule/SurfSchoolSchedule/surf-school-schedule/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{Form,Card,Col,Button}from'react-bootstrap';import{faSave,faUndo,faArrowLeft,faEdit,faPlusSquare}from'@fortawesome/free-solid-svg-icons';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import SuccessToast from'../SuccessToast';import{connect}from'react-redux';import{savePriceTable as _savePriceTable,fetchPriceTable as _fetchPriceTable,updatePriceTable as _updatePriceTable}from'../../services/index';var PriceTable=/*#__PURE__*/function(_React$Component){_inherits(PriceTable,_React$Component);var _super=_createSuper(PriceTable);function PriceTable(props){var _this;_classCallCheck(this,PriceTable);_this=_super.call(this,props);_this.initialState={id:'',name:'',minNrHours:'',onePPrice:'',twoPPrice:'',threePPrice:''};_this.findPriceTableById=function(idPriceTable){_this.props.fetchPriceTable(idPriceTable);setTimeout(function(){var priceTable=_this.props.priceTable.priceTable;if(priceTable!=null){_this.setState({id:priceTable.id,name:priceTable.name,minNrHours:priceTable.minNrHours,onePPrice:priceTable.onePPrice,twoPPrice:priceTable.twoPPrice,threePPrice:priceTable.threePPrice});}},1000);};_this.returnToList=function(){return _this.props.history.push(\"/priceTableList\");};_this.submitPriceTable=function(event){event.preventDefault();var priceTable={name:_this.state.name,minNrHours:_this.state.minNrHours,onePPrice:_this.state.onePPrice,twoPPrice:_this.state.twoPPrice,threePPrice:_this.state.threePPrice};_this.props.savePriceTable(priceTable);setTimeout(function(){if(_this.props.priceTable){_this.setState({\"show\":true,\"method\":\"post\"});setTimeout(function(){return _this.setState({\"show\":false});},3000);setTimeout(function(){return _this.returnToList();},1000);}else{_this.setState({\"showInvalidMessage\":true,\"method\":\"post\"});setTimeout(function(){return _this.setState({\"showInvalidMessage\":false});},3000);}},1000);};_this.updatePriceTable=function(event){event.preventDefault();var priceTable={id:_this.state.id,name:_this.state.name,minNrHours:_this.state.minNrHours,onePPrice:_this.state.onePPrice,twoPPrice:_this.state.twoPPrice,threePPrice:_this.state.threePPrice};_this.props.updatePriceTable(priceTable);setTimeout(function(){if(!_this.props.priceTable.error){_this.setState({\"show\":true,\"method\":\"put\"});setTimeout(function(){return _this.setState({\"show\":false});},3000);setTimeout(function(){return _this.returnToList();},1000);}else{_this.setState({\"showInvalidMessage\":true,\"method\":\"post\"});setTimeout(function(){return _this.setState({\"showInvalidMessage\":false});},3000);}},2000);};_this.resetPriceTable=function(){_this.setState(function(){return _this.initialState;});};_this.priceTableChange=function(event){_this.setState(_defineProperty({},event.target.name,event.target.value));};_this.state=_this.initialState;_this.state.show=false;_this.state.showInvalidMessage=false;_this.state.method='post';_this.priceTableChange=_this.priceTableChange.bind(_assertThisInitialized(_this));_this.submitPriceTable=_this.submitPriceTable.bind(_assertThisInitialized(_this));return _this;}_createClass(PriceTable,[{key:\"componentDidMount\",value:function componentDidMount(){var idPriceTable=+this.props.match.params.id;if(idPriceTable){this.findPriceTableById(idPriceTable);}}},{key:\"render\",//?????????????????????????????????????????????????\nvalue:function render(){var _this$state=this.state,name=_this$state.name,minNrHours=_this$state.minNrHours,onePPrice=_this$state.onePPrice,twoPPrice=_this$state.twoPPrice,threePPrice=_this$state.threePPrice;var idPriceTable=+this.props.match.params.id;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{style:{\"display\":this.state.show?\"block\":\"none\"}},/*#__PURE__*/React.createElement(SuccessToast,{show:this.state.show,message:this.state.method===\"put\"?\"PriceTable Updated Successfully\":\"PriceTable Saved Successfully.\",type:\"success\"})),/*#__PURE__*/React.createElement(\"div\",{style:{\"display\":this.state.showInvalidMessage?\"block\":\"none\"}},/*#__PURE__*/React.createElement(SuccessToast,{show:this.state.showInvalidMessage,message:\"Invalid Data - might be in the data base already\",type:\"dangerNoSuccess\"})),/*#__PURE__*/React.createElement(Card,{className:\"border border-dark bg-dark text-white\"},/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:idPriceTable?faEdit:faPlusSquare}),\" \",idPriceTable?\"Update PriceTable\":\"Add New PriceTable\"),/*#__PURE__*/React.createElement(Form,{onReset:this.resetPriceTable,onSubmit:idPriceTable?this.updatePriceTable:this.submitPriceTable},/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(Form.Row,null,/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"formGridName\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Offer Name\"),/*#__PURE__*/React.createElement(Form.Control,{required:true,autoComplete:\"off\",type:\"test\",name:\"name\",value:name,onChange:this.priceTableChange,placeholder:\"Enter Offer Name\",className:\"bg-dark text-white\"})),/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"formGridMinNrHours\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Min Nr of Hours\"),/*#__PURE__*/React.createElement(Form.Control,{required:true,autoComplete:\"off\",type:\"test\",name:\"minNrHours\",value:minNrHours,onChange:this.priceTableChange,placeholder:\" Enter Min Nr of Hours\",className:\"bg-dark text-white\"}))),/*#__PURE__*/React.createElement(Form.Row,null,/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"formGridOnePPrice\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Price for 1 Person\"),/*#__PURE__*/React.createElement(Form.Control,{required:true,autoComplete:\"off\",type:\"test\",name:\"onePPrice\",value:onePPrice,onChange:this.priceTableChange,placeholder:\"Enter Price\",className:\"bg-dark text-white\"})),/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"formGridTwoPPrice\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Price for 1 P in group of 2\"),/*#__PURE__*/React.createElement(Form.Control,{required:true,autoComplete:\"off\",type:\"test\",name:\"twoPPrice\",value:twoPPrice,onChange:this.priceTableChange,placeholder:\" Enter price\",className:\"bg-dark text-white\"})),/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"formGridThreePPrice\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Price for 1 P in group of 3\"),/*#__PURE__*/React.createElement(Form.Control,{required:true,autoComplete:\"off\",type:\"test\",name:\"threePPrice\",value:threePPrice,onChange:this.priceTableChange,placeholder:\" Enter price\",className:\"bg-dark text-white\"})))),/*#__PURE__*/React.createElement(Card.Footer,null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{size:\"sm\",variant:\"primary\",type:\"submit\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faSave}),\" \",idPriceTable?\"Update\":\"Submit\"),'      ',/*#__PURE__*/React.createElement(Button,{size:\"sm\",variant:\"secondary\",type:\"reset\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faUndo}),\"  Reset\")),'      ',/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{size:\"sm\",variant:\"light\",type:\"button\",onClick:this.returnToList.bind()},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faArrowLeft}),\"  Return\"))))));}}]);return PriceTable;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{//savedPriceTableObject: state.priceTable,\n//      priceTableObject: state.priceTable,\n//  updatedPriceTable: state.priceTable.priceTable\npriceTable:state.priceTable};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{savePriceTable:function savePriceTable(priceTable){return dispatch(_savePriceTable(priceTable));},fetchPriceTable:function fetchPriceTable(priceTableId){return dispatch(_fetchPriceTable(priceTableId));},updatePriceTable:function updatePriceTable(priceTable){return dispatch(_updatePriceTable(priceTable));}};};export default connect(mapStateToProps,mapDispatchToProps)(PriceTable);","map":{"version":3,"sources":["/home/michal/Desktop/projekty/java/SurfSchoolSchedule/SurfSchoolSchedule/surf-school-schedule/src/components/PriceTable/PriceTable.js"],"names":["React","Form","Card","Col","Button","faSave","faUndo","faArrowLeft","faEdit","faPlusSquare","FontAwesomeIcon","SuccessToast","connect","savePriceTable","fetchPriceTable","updatePriceTable","PriceTable","props","initialState","id","name","minNrHours","onePPrice","twoPPrice","threePPrice","findPriceTableById","idPriceTable","setTimeout","priceTable","setState","returnToList","history","push","submitPriceTable","event","preventDefault","state","error","resetPriceTable","priceTableChange","target","value","show","showInvalidMessage","method","bind","match","params","Component","mapStateToProps","mapDispatchToProps","dispatch","priceTableId"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Form, Card, Col, Button } from 'react-bootstrap';\nimport { faSave, faUndo, faArrowLeft, faEdit, faPlusSquare } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport SuccessToast from '../SuccessToast';\n\n\nimport { connect } from 'react-redux';\nimport { savePriceTable, fetchPriceTable, updatePriceTable } from '../../services/index';\n\nclass PriceTable extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = this.initialState;\n        this.state.show = false;\n        this.state.showInvalidMessage = false;\n        this.state.method = 'post';\n        this.priceTableChange = this.priceTableChange.bind(this);\n        this.submitPriceTable = this.submitPriceTable.bind(this);\n    }\n\n    initialState = {\n        id: '', name: '', minNrHours: '', onePPrice: '', twoPPrice: '', threePPrice: ''\n    }\n\n    componentDidMount() {\n        const idPriceTable = +this.props.match.params.id;\n        if (idPriceTable) {\n            this.findPriceTableById(idPriceTable);\n        }\n    };\n\n\n    findPriceTableById = (idPriceTable) => {\n\n        this.props.fetchPriceTable(idPriceTable);\n        setTimeout(() => {\n\n            let priceTable = this.props.priceTable.priceTable;\n            if (priceTable != null) {\n                this.setState({\n                    id: priceTable.id,\n                    name: priceTable.name,\n                    minNrHours: priceTable.minNrHours,\n                    onePPrice: priceTable.onePPrice,\n                    twoPPrice: priceTable.twoPPrice,\n                    threePPrice: priceTable.threePPrice\n                });\n            }\n        }, 1000);\n    };\n\n    returnToList = () => {\n        return this.props.history.push(\"/priceTableList\");\n    };\n\n    submitPriceTable = event => {\n        event.preventDefault();\n\n        const priceTable = {\n            name: this.state.name,\n            minNrHours: this.state.minNrHours,\n            onePPrice: this.state.onePPrice,\n            twoPPrice: this.state.twoPPrice,\n            threePPrice: this.state.threePPrice,\n        };\n\n        this.props.savePriceTable(priceTable);\n        setTimeout(() => {\n            if (this.props.priceTable) {\n                this.setState({ \"show\": true, \"method\": \"post\" });\n                setTimeout(() => this.setState({ \"show\": false }), 3000);\n                setTimeout(() => this.returnToList(), 1000);\n            } else {\n                this.setState({ \"showInvalidMessage\": true, \"method\": \"post\" });\n                setTimeout(() => this.setState({ \"showInvalidMessage\": false }), 3000);\n            }\n        }, 1000);\n    };\n\n    updatePriceTable = event => {\n        event.preventDefault();\n\n        const priceTable = {\n            id: this.state.id,\n            name: this.state.name,\n            minNrHours: this.state.minNrHours,\n            onePPrice: this.state.onePPrice,\n            twoPPrice: this.state.twoPPrice,\n            threePPrice: this.state.threePPrice,\n        };\n\n        this.props.updatePriceTable(priceTable);\n        setTimeout(() => {\n\n            if (!this.props.priceTable.error) {\n                this.setState({ \"show\": true, \"method\": \"put\" });\n                setTimeout(() => this.setState({ \"show\": false }), 3000);\n                setTimeout(() => this.returnToList(), 1000);\n            } else {\n                this.setState({ \"showInvalidMessage\": true, \"method\": \"post\" });\n                setTimeout(() => this.setState({ \"showInvalidMessage\": false }), 3000);\n            }\n        }, 2000);\n    }\n\n    resetPriceTable = () => {\n        this.setState(() => this.initialState);\n    };//??????????????????????????????????????????????????????????\n\n    priceTableChange = event => {\n        this.setState({\n            [event.target.name]: event.target.value\n        });\n    };//?????????????????????????????????????????????????\n\n    render() {\n        const { name, minNrHours, onePPrice, twoPPrice, threePPrice } = this.state;\n        const idPriceTable = +this.props.match.params.id;\n        return (\n            <div>\n                <div style={{ \"display\": this.state.show ? \"block\" : \"none\" }}>\n                    <SuccessToast show={this.state.show} message={this.state.method === \"put\" ? \"PriceTable Updated Successfully\" : \"PriceTable Saved Successfully.\"} type=\"success\" />\n                </div>\n                <div style={{ \"display\": this.state.showInvalidMessage ? \"block\" : \"none\" }}>\n                    <SuccessToast show={this.state.showInvalidMessage} message={\"Invalid Data - might be in the data base already\"} type=\"dangerNoSuccess\" />\n                </div>\n\n                <Card className={\"border border-dark bg-dark text-white\"}>\n                    <Card.Header>\n                        <FontAwesomeIcon icon={idPriceTable ? faEdit : faPlusSquare} /> {idPriceTable ? \"Update PriceTable\" : \"Add New PriceTable\"}\n                    </Card.Header>\n                    <Form onReset={this.resetPriceTable} onSubmit={idPriceTable ? this.updatePriceTable : this.submitPriceTable}>\n                        <Card.Body>\n                            <Form.Row>\n                                <Form.Group as={Col} controlId=\"formGridName\">\n                                    <Form.Label>Offer Name</Form.Label>\n                                    <Form.Control required\n                                        autoComplete=\"off\"\n                                        type=\"test\"\n                                        name=\"name\"\n                                        value={name}\n                                        onChange={this.priceTableChange}\n                                        placeholder=\"Enter Offer Name\"\n                                        className={\"bg-dark text-white\"} />\n                                </Form.Group>\n\n                                <Form.Group as={Col} controlId=\"formGridMinNrHours\">\n                                    <Form.Label>Min Nr of Hours</Form.Label>\n                                    <Form.Control required\n                                        autoComplete=\"off\"\n                                        type=\"test\"\n                                        name=\"minNrHours\"\n                                        value={minNrHours}\n                                        onChange={this.priceTableChange}\n                                        placeholder=\" Enter Min Nr of Hours\"\n                                        className={\"bg-dark text-white\"} />\n                                </Form.Group>\n                            </Form.Row>\n\n                            <Form.Row>\n                                <Form.Group as={Col} controlId=\"formGridOnePPrice\">\n                                    <Form.Label>Price for 1 Person</Form.Label>\n                                    <Form.Control required\n                                        autoComplete=\"off\"\n                                        type=\"test\"\n                                        name=\"onePPrice\"\n                                        value={onePPrice}\n                                        onChange={this.priceTableChange}\n                                        placeholder=\"Enter Price\"\n                                        className={\"bg-dark text-white\"} />\n                                </Form.Group>\n\n                                <Form.Group as={Col} controlId=\"formGridTwoPPrice\">\n                                    <Form.Label>Price for 1 P in group of 2</Form.Label>\n                                    <Form.Control required\n                                        autoComplete=\"off\"\n                                        type=\"test\"\n                                        name=\"twoPPrice\"\n                                        value={twoPPrice}\n                                        onChange={this.priceTableChange}\n                                        placeholder=\" Enter price\"\n                                        className={\"bg-dark text-white\"} />\n                                </Form.Group>\n\n                                <Form.Group as={Col} controlId=\"formGridThreePPrice\">\n                                    <Form.Label>Price for 1 P in group of 3</Form.Label>\n                                    <Form.Control required\n                                        autoComplete=\"off\"\n                                        type=\"test\"\n                                        name=\"threePPrice\"\n                                        value={threePPrice}\n                                        onChange={this.priceTableChange}\n                                        placeholder=\" Enter price\"\n                                        className={\"bg-dark text-white\"} />\n                                </Form.Group>\n                            </Form.Row>\n\n                        </Card.Body>\n\n                        <Card.Footer>\n                            <div>\n                                <Button size=\"sm\" variant=\"primary\" type=\"submit\">\n                                    <FontAwesomeIcon icon={faSave} /> {idPriceTable ? \"Update\" : \"Submit\"}\n                                </Button>\n                                {'      '}\n\n                                <Button size=\"sm\" variant=\"secondary\" type=\"reset\">\n                                    <FontAwesomeIcon icon={faUndo} />  Reset\n                    </Button>\n                            </div>\n                            {'      '}\n                            <div>\n                                <Button size=\"sm\" variant=\"light\" type=\"button\" onClick={this.returnToList.bind()}>\n                                    <FontAwesomeIcon icon={faArrowLeft} />  Return\n                    </Button>\n                            </div>\n                        </Card.Footer>\n                    </Form >\n\n\n                </Card >\n            </div>\n        );\n    }\n\n}\n\nconst mapStateToProps = state => {\n    return {\n        //savedPriceTableObject: state.priceTable,\n        //      priceTableObject: state.priceTable,\n        //  updatedPriceTable: state.priceTable.priceTable\n        priceTable: state.priceTable\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        savePriceTable: (priceTable) => dispatch(savePriceTable(priceTable)),\n        fetchPriceTable: (priceTableId) => dispatch(fetchPriceTable(priceTableId)),\n        updatePriceTable: (priceTable) => dispatch(updatePriceTable(priceTable))\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PriceTable);\n"]},"metadata":{},"sourceType":"module"}