{"ast":null,"code":"import{SAVE_PRICE_TABLE_REQUEST,FETCH_PRICE_TABLE_REQUEST,UPDATE_PRICE_TABLE_REQUEST,DELETE_PRICE_TABLE_REQUEST,PRICE_TABLE_SUCCESS,PRICE_TABLE_FAILURE,FETCH_ALL_PRICE_TABLES_REQUEST,FETCH_ALL_PRICE_TABLES_SUCCESS}from\"./priceTableTypes\";import axios from'axios';export var fetchAllPriceTables=function fetchAllPriceTables(firstElement){return function(dispatch){axios.get(\"http://localhost:8080/priceTable-api/list?page=0&size=9999999&sortBy=minNrHours&sortDir=asc\").then(function(response){if(firstElement){response.data.content.unshift(firstElement);response.data.content=response.data.content.filter(function(item,index,self){return index===self.findIndex(function(e){return e.id===item.id;});});}dispatch(fetchAllPriceTablesSuccess(response.data.content));}).catch(function(error){dispatch(priceTableFailure(error.message));});};};var fetchAllPriceTablesRequest=function fetchAllPriceTablesRequest(){return{type:FETCH_ALL_PRICE_TABLES_REQUEST};};export var savePriceTable=function savePriceTable(priceTable){return function(dispatch){axios.post(\"http://localhost:8080/priceTable-api/list\",priceTable).then(function(response){//  dispatch(priceTableSuccess(response.data));\ndispatch(savePriceTableRequest(priceTable));}).catch(function(error){console.log(error);dispatch(priceTableFailure(error));});};};var savePriceTableRequest=function savePriceTableRequest(priceTable){return{type:SAVE_PRICE_TABLE_REQUEST,newItem:priceTable};};var fetchPriceTableRequest=function fetchPriceTableRequest(updatedPriceTable){return{type:FETCH_PRICE_TABLE_REQUEST,updatedPriceTable:updatedPriceTable};};export var fetchPriceTable=function fetchPriceTable(priceTableId){return function(dispatch){axios.get(\"http://localhost:8080/priceTable-api/\"+priceTableId).then(function(response){dispatch(fetchPriceTableRequest(response.data));//dispatch(priceTableSuccess(response.data.content));\n}).catch(function(error){dispatch(priceTableFailure(error));});};};export var fetchPriceTableWithNrOfLessons=function fetchPriceTableWithNrOfLessons(fullNrOfLessons){return function(dispatch){axios.get(\"http://localhost:8080/priceTable-api/fullNrOfLessons/\"+fullNrOfLessons).then(function(response){dispatch(fetchPriceTableRequest(response.data));//dispatch(priceTableSuccess(response.data.content));\n}).catch(function(error){dispatch(priceTableFailure(error));});};};var updatePriceTableRequest=function updatePriceTableRequest(priceTable){return{type:UPDATE_PRICE_TABLE_REQUEST,updatedPriceTable:priceTable};};export var updatePriceTable=function updatePriceTable(priceTable){//console.log(priceTable);\npriceTable.NrHoursWeek=0;priceTable.NrHoursFull=0;priceTable.WeekWage=0;//console.log(priceTable);\nreturn function(dispatch){axios.put(\"http://localhost:8080/priceTable-api/\"+priceTable.id,priceTable).then(function(response){dispatch(updatePriceTableRequest(priceTable));// dispatch(priceTableSuccess(response.data));\n}).catch(function(error){console.log(error);dispatch(priceTableFailure(error));});};};var deletePriceTableRequest=function deletePriceTableRequest(priceTableId){return{type:DELETE_PRICE_TABLE_REQUEST,priceTableId:priceTableId};};export var deletePriceTable=function deletePriceTable(priceTableId){return function(dispatch){axios.delete(\"http://localhost:8080/priceTable-api/list/\"+priceTableId).then(function(response){dispatch(deletePriceTableRequest(priceTableId));//console.log(response);\ndispatch(priceTableSuccess(response.data));}).catch(function(error){dispatch(priceTableFailure(error));});};};var priceTableSuccess=function priceTableSuccess(priceTable){return{type:PRICE_TABLE_SUCCESS,payload:priceTable};};var priceTableFailure=function priceTableFailure(error){return{type:PRICE_TABLE_FAILURE,payload:error};};var fetchAllPriceTablesSuccess=function fetchAllPriceTablesSuccess(priceTables,totalPages,totalElements,sortDirection){return{type:FETCH_ALL_PRICE_TABLES_SUCCESS,payload:priceTables};};","map":{"version":3,"sources":["/home/michal/Desktop/projekty/java/SurfSchoolSchedule/SurfSchoolSchedule/surf-school-schedule/src/services/priceTable/priceTableActions.js"],"names":["SAVE_PRICE_TABLE_REQUEST","FETCH_PRICE_TABLE_REQUEST","UPDATE_PRICE_TABLE_REQUEST","DELETE_PRICE_TABLE_REQUEST","PRICE_TABLE_SUCCESS","PRICE_TABLE_FAILURE","FETCH_ALL_PRICE_TABLES_REQUEST","FETCH_ALL_PRICE_TABLES_SUCCESS","axios","fetchAllPriceTables","firstElement","dispatch","get","then","response","data","content","unshift","filter","item","index","self","findIndex","e","id","fetchAllPriceTablesSuccess","catch","error","priceTableFailure","message","fetchAllPriceTablesRequest","type","savePriceTable","priceTable","post","savePriceTableRequest","console","log","newItem","fetchPriceTableRequest","updatedPriceTable","fetchPriceTable","priceTableId","fetchPriceTableWithNrOfLessons","fullNrOfLessons","updatePriceTableRequest","updatePriceTable","NrHoursWeek","NrHoursFull","WeekWage","put","deletePriceTableRequest","deletePriceTable","delete","priceTableSuccess","payload","priceTables","totalPages","totalElements","sortDirection"],"mappings":"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","sourcesContent":["import {\n    SAVE_PRICE_TABLE_REQUEST, FETCH_PRICE_TABLE_REQUEST, UPDATE_PRICE_TABLE_REQUEST,\n    DELETE_PRICE_TABLE_REQUEST, PRICE_TABLE_SUCCESS, PRICE_TABLE_FAILURE,\n    FETCH_ALL_PRICE_TABLES_REQUEST, FETCH_ALL_PRICE_TABLES_SUCCESS\n} from \"./priceTableTypes\";\nimport axios from 'axios';\n\nexport const fetchAllPriceTables = (firstElement) => {\n    return dispatch => {\n        axios.get(\"http://localhost:8080/priceTable-api/list?page=0&size=9999999&sortBy=minNrHours&sortDir=asc\")\n            .then(response => {\n                if (firstElement) {\n                    response.data.content.unshift(firstElement);\n                    response.data.content = response.data.content.filter((item, index, self) =>\n                        index === self.findIndex((e) => (\n                            e.id === item.id)\n                        ));\n                }\n                dispatch(fetchAllPriceTablesSuccess(response.data.content));\n            })\n            .catch(error => {\n                dispatch(priceTableFailure(error.message));\n            });\n    };\n};\n\nconst fetchAllPriceTablesRequest = () => {\n    return {\n        type: FETCH_ALL_PRICE_TABLES_REQUEST\n    };\n};\n\nexport const savePriceTable = priceTable => {\n    return dispatch => {\n        axios.post(\"http://localhost:8080/priceTable-api/list\", priceTable)\n            .then(response => {\n                //  dispatch(priceTableSuccess(response.data));\n                dispatch(savePriceTableRequest(priceTable));\n            })\n            .catch(error => {\n                console.log(error);\n                dispatch(priceTableFailure(error));\n            });\n    };\n};\n\nconst savePriceTableRequest = priceTable => {\n    return {\n        type: SAVE_PRICE_TABLE_REQUEST,\n        newItem: priceTable\n    };\n};\n\nconst fetchPriceTableRequest = updatedPriceTable => {\n    return {\n        type: FETCH_PRICE_TABLE_REQUEST,\n        updatedPriceTable: updatedPriceTable\n    };\n};\n\nexport const fetchPriceTable = priceTableId => {\n    return dispatch => {\n        axios.get(\"http://localhost:8080/priceTable-api/\" + priceTableId)\n            .then(response => {\n                dispatch(fetchPriceTableRequest(response.data));\n                //dispatch(priceTableSuccess(response.data.content));\n            })\n            .catch(error => {\n                dispatch(priceTableFailure(error));\n            });\n    };\n};\n\n\nexport const fetchPriceTableWithNrOfLessons = fullNrOfLessons => {\n    return dispatch => {\n        axios.get(\"http://localhost:8080/priceTable-api/fullNrOfLessons/\" + fullNrOfLessons)\n            .then(response => {\n\n                dispatch(fetchPriceTableRequest(response.data));\n                //dispatch(priceTableSuccess(response.data.content));\n            })\n            .catch(error => {\n                dispatch(priceTableFailure(error));\n            });\n    };\n};\n\nconst updatePriceTableRequest = priceTable => {\n    return {\n        type: UPDATE_PRICE_TABLE_REQUEST,\n        updatedPriceTable: priceTable\n    };\n};\n\nexport const updatePriceTable = priceTable => {\n    //console.log(priceTable);\n    priceTable.NrHoursWeek = 0;\n    priceTable.NrHoursFull = 0;\n    priceTable.WeekWage = 0;\n    //console.log(priceTable);\n\n    return dispatch => {\n        axios.put(\"http://localhost:8080/priceTable-api/\" + priceTable.id, priceTable)\n            .then(response => {\n                dispatch(updatePriceTableRequest(priceTable));\n\n                // dispatch(priceTableSuccess(response.data));\n            })\n            .catch(error => {\n                console.log(error);\n                dispatch(priceTableFailure(error));\n            });\n    };\n};\n\nconst deletePriceTableRequest = priceTableId => {\n    return {\n        type: DELETE_PRICE_TABLE_REQUEST,\n        priceTableId: priceTableId\n    };\n};\n\nexport const deletePriceTable = priceTableId => {\n    return dispatch => {\n        axios.delete(\"http://localhost:8080/priceTable-api/list/\" + priceTableId)\n            .then(response => {\n                dispatch(deletePriceTableRequest(priceTableId));\n                //console.log(response);\n                dispatch(priceTableSuccess(response.data));\n            })\n            .catch(error => {\n                dispatch(priceTableFailure(error));\n            });\n    };\n};\n\n\nconst priceTableSuccess = priceTable => {\n    return {\n        type: PRICE_TABLE_SUCCESS,\n        payload: priceTable\n    };\n};\n\nconst priceTableFailure = error => {\n    return {\n        type: PRICE_TABLE_FAILURE,\n        payload: error\n    };\n};\n\nconst fetchAllPriceTablesSuccess = (priceTables, totalPages, totalElements, sortDirection) => {\n    return {\n        type: FETCH_ALL_PRICE_TABLES_SUCCESS,\n        payload: priceTables,\n    };\n};\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}