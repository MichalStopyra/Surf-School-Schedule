{"ast":null,"code":"import _defineProperty from\"/home/michal/Desktop/projekty/java/SurfSchoolSchedule/SurfSchoolSchedule/surf-school-schedule/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/michal/Desktop/projekty/java/SurfSchoolSchedule/SurfSchoolSchedule/surf-school-schedule/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/michal/Desktop/projekty/java/SurfSchoolSchedule/SurfSchoolSchedule/surf-school-schedule/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/michal/Desktop/projekty/java/SurfSchoolSchedule/SurfSchoolSchedule/surf-school-schedule/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/michal/Desktop/projekty/java/SurfSchoolSchedule/SurfSchoolSchedule/surf-school-schedule/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/michal/Desktop/projekty/java/SurfSchoolSchedule/SurfSchoolSchedule/surf-school-schedule/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{Form,Card,Col,Button}from'react-bootstrap';import{faSave,faUndo,faArrowLeft,faEdit,faPlusSquare}from'@fortawesome/free-solid-svg-icons';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import SuccessToast from'../SuccessToast';import{connect}from'react-redux';import{saveStudent as _saveStudent,fetchStudent as _fetchStudent,updateStudent as _updateStudent}from'../../services/index';var Student=/*#__PURE__*/function(_React$Component){_inherits(Student,_React$Component);var _super=_createSuper(Student);function Student(props){var _this;_classCallCheck(this,Student);_this=_super.call(this,props);_this.initialState={id:'',lastName:'',firstName:'',idCardNr:'',telNr:'',paymentStatus:0,lessonHours:0,unpaidLessons:0,moneyOwing:0,moneyInAdvance:''};_this.findStudentById=function(idStudent){_this.props.fetchStudent(idStudent);setTimeout(function(){var student=_this.props.student.student;if(student!=null){_this.setState({id:student.id,lastName:student.lastName,firstName:student.firstName,idCardNr:student.idCardNr,telNr:student.telNr,paymentStatus:student.paymentStatus,lessonHours:student.lessonHours,unpaidLessons:student.unpaidLessons,moneyOwing:student.moneyOwing,moneyInAdvance:student.moneyInAdvance});}},1000);};_this.returnToList=function(){return _this.props.history.push(\"/students\");};_this.submitStudent=function(event){event.preventDefault();var student={lastName:_this.state.lastName,firstName:_this.state.firstName,idCardNr:_this.state.idCardNr,telNr:_this.state.telNr,paymentStatus:_this.state.paymentStatus,lessonHours:_this.state.lessonHours,unpaidLessons:_this.state.unpaidLessons,moneyOwing:_this.state.moneyOwing,moneyInAdvance:_this.state.moneyInAdvance};_this.props.saveStudent(student);setTimeout(function(){if(!_this.props.student.error){_this.setState({\"show\":true,\"method\":\"post\"});setTimeout(function(){return _this.setState({\"show\":false});},3000);setTimeout(function(){return _this.returnToList();},1000);}else{_this.setState({\"showInvalidMessage\":true,\"method\":\"post\"});setTimeout(function(){return _this.setState({\"showInvalidMessage\":false});},3000);}},1000);};_this.updateStudent=function(event){event.preventDefault();var student={id:_this.state.id,lastName:_this.state.lastName,firstName:_this.state.firstName,idCardNr:_this.state.idCardNr,telNr:_this.state.telNr,paymentStatus:_this.state.paymentStatus,lessonHours:_this.state.lessonHours,unpaidLessons:_this.state.unpaidLessons,moneyOwing:_this.state.moneyOwing,moneyInAdvance:_this.state.moneyInAdvance};_this.props.updateStudent(student);setTimeout(function(){if(!_this.props.student.error){_this.setState({\"show\":true,\"method\":\"put\"});setTimeout(function(){return _this.setState({\"show\":false});},3000);setTimeout(function(){return _this.returnToList();},1000);}else{_this.setState({\"showInvalidMessage\":true,\"method\":\"post\"});setTimeout(function(){return _this.setState({\"showInvalidMessage\":false});},3000);}},2000);};_this.resetStudent=function(){_this.setState(function(){return _this.initialState;});};_this.studentChange=function(event){_this.setState(_defineProperty({},event.target.name,event.target.value));};_this.state=_this.initialState;_this.state.show=false;_this.state.method='post';_this.studentChange=_this.studentChange.bind(_assertThisInitialized(_this));_this.submitStudent=_this.submitStudent.bind(_assertThisInitialized(_this));return _this;}_createClass(Student,[{key:\"componentDidMount\",value:function componentDidMount(){var idStudent=+this.props.match.params.id;if(idStudent){this.findStudentById(idStudent);}}},{key:\"render\",value:function render(){var _this$state=this.state,firstName=_this$state.firstName,lastName=_this$state.lastName,idCardNr=_this$state.idCardNr,telNr=_this$state.telNr,paymentStatus=_this$state.paymentStatus,lessonHours=_this$state.lessonHours,unpaidLessons=_this$state.unpaidLessons,moneyOwing=_this$state.moneyOwing,moneyInAdvance=_this$state.moneyInAdvance;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{style:{\"display\":this.state.show?\"block\":\"none\"}},/*#__PURE__*/React.createElement(SuccessToast,{show:this.state.show,message:this.state.method===\"put\"?\"Student Updated Successfully\":\"Student Saved Successfully.\",type:\"success\"})),/*#__PURE__*/React.createElement(\"div\",{style:{\"display\":this.state.showInvalidMessage?\"block\":\"none\"}},/*#__PURE__*/React.createElement(SuccessToast,{show:this.state.showInvalidMessage,message:\"Invalid Data - might be in the data base already\",type:\"dangerNoSuccess\"})),/*#__PURE__*/React.createElement(Card,{className:\"border border-dark bg-dark text-white\"},/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:this.state.id?faEdit:faPlusSquare}),\" \",this.state.id?\"Update Student\":\"Add New Student\"),/*#__PURE__*/React.createElement(Form,{onReset:this.resetStudent,onSubmit:this.state.id?this.updateStudent:this.submitStudent},/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(Form.Row,null,/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"formGridLastName\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Last Name\"),/*#__PURE__*/React.createElement(Form.Control,{required:true,autoComplete:\"off\",type:\"test\",name:\"lastName\",value:lastName,onChange:this.studentChange,placeholder:\"Enter Last Name\",className:\"bg-dark text-white\"})),/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"formGridFirstName\"},/*#__PURE__*/React.createElement(Form.Label,null,\"First Name\"),/*#__PURE__*/React.createElement(Form.Control,{required:true,autoComplete:\"off\",type:\"test\",name:\"firstName\",value:firstName,onChange:this.studentChange,placeholder:\" Enter First Name\",className:\"bg-dark text-white\"}))),/*#__PURE__*/React.createElement(Form.Row,null,/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"formGridIdCardNr\"},/*#__PURE__*/React.createElement(Form.Label,null,\"ID Card Nr\"),/*#__PURE__*/React.createElement(Form.Control,{required:true,autoComplete:\"off\",name:\"idCardNr\",type:\"test\",value:idCardNr,onChange:this.studentChange,placeholder:\"Enter ID Card Nr\",className:\"bg-dark text-white\"})),/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"formGridPhoneNr\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Phone Nr\"),/*#__PURE__*/React.createElement(Form.Control,{required:true,autoComplete:\"off\",name:\"telNr\",type:\"test\",value:telNr,onChange:this.studentChange,placeholder:\"Enter Phone Nr\",className:\"bg-dark text-white\"}))),/*#__PURE__*/React.createElement(Form.Row,null,/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"formGridMoneyInAdvance\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Payment In Advance\"),/*#__PURE__*/React.createElement(Form.Control,{required:true,autoComplete:\"off\",name:\"moneyInAdvance\",type:\"test\",value:moneyInAdvance,onChange:this.studentChange,placeholder:\"$\",className:\"bg-dark text-white\"})))),/*#__PURE__*/React.createElement(Card.Footer,null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{size:\"sm\",variant:\"primary\",type:\"submit\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faSave}),\" \",this.state.id?\"Update\":\"Submit\"),'      ',/*#__PURE__*/React.createElement(Button,{size:\"sm\",variant:\"secondary\",type:\"reset\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faUndo}),\"  Reset\")),'      ',/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{size:\"sm\",variant:\"light\",type:\"button\",onClick:this.returnToList.bind()},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faArrowLeft}),\"  Return\"))))));}}]);return Student;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{//savedStudentObject: state.student,\n//      studentObject: state.student,\n//  updatedStudent: state.student.student\nstudent:state.student};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{saveStudent:function saveStudent(student){return dispatch(_saveStudent(student));},fetchStudent:function fetchStudent(studentId){return dispatch(_fetchStudent(studentId));},updateStudent:function updateStudent(student){return dispatch(_updateStudent(student));}};};export default connect(mapStateToProps,mapDispatchToProps)(Student);","map":{"version":3,"sources":["/home/michal/Desktop/projekty/java/SurfSchoolSchedule/SurfSchoolSchedule/surf-school-schedule/src/components/Student/Student.js"],"names":["React","Form","Card","Col","Button","faSave","faUndo","faArrowLeft","faEdit","faPlusSquare","FontAwesomeIcon","SuccessToast","connect","saveStudent","fetchStudent","updateStudent","Student","props","initialState","id","lastName","firstName","idCardNr","telNr","paymentStatus","lessonHours","unpaidLessons","moneyOwing","moneyInAdvance","findStudentById","idStudent","setTimeout","student","setState","returnToList","history","push","submitStudent","event","preventDefault","state","error","resetStudent","studentChange","target","name","value","show","method","bind","match","params","showInvalidMessage","Component","mapStateToProps","mapDispatchToProps","dispatch","studentId"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Form, Card, Col, Button } from 'react-bootstrap';\nimport { faSave, faUndo, faArrowLeft, faEdit, faPlusSquare } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport SuccessToast from '../SuccessToast';\n\nimport { connect } from 'react-redux';\nimport { saveStudent, fetchStudent, updateStudent } from '../../services/index';\n\nclass Student extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = this.initialState;\n        this.state.show = false;\n        this.state.method = 'post';\n        this.studentChange = this.studentChange.bind(this);\n        this.submitStudent = this.submitStudent.bind(this);\n    }\n\n    initialState = {\n        id: '', lastName: '', firstName: '', idCardNr: '', telNr: '', paymentStatus: 0, lessonHours: 0, unpaidLessons: 0, moneyOwing: 0, moneyInAdvance: ''\n    }\n\n    componentDidMount() {\n        const idStudent = +this.props.match.params.id;\n        if (idStudent) {\n            this.findStudentById(idStudent);\n        }\n    };\n\n\n\n    findStudentById = (idStudent) => {\n\n        this.props.fetchStudent(idStudent);\n        setTimeout(() => {\n\n            let student = this.props.student.student;\n            if (student != null) {\n                this.setState({\n                    id: student.id,\n                    lastName: student.lastName,\n                    firstName: student.firstName,\n                    idCardNr: student.idCardNr,\n                    telNr: student.telNr,\n                    paymentStatus: student.paymentStatus,\n                    lessonHours: student.lessonHours,\n                    unpaidLessons: student.unpaidLessons,\n                    moneyOwing: student.moneyOwing,\n                    moneyInAdvance: student.moneyInAdvance\n                });\n            }\n        }, 1000);\n    };\n\n    returnToList = () => {\n        return this.props.history.push(\"/students\");\n    };\n\n\n    submitStudent = event => {\n        event.preventDefault();\n\n        const student = {\n            lastName: this.state.lastName,\n            firstName: this.state.firstName,\n            idCardNr: this.state.idCardNr,\n            telNr: this.state.telNr,\n            paymentStatus: this.state.paymentStatus,\n            lessonHours: this.state.lessonHours,\n            unpaidLessons: this.state.unpaidLessons,\n            moneyOwing: this.state.moneyOwing,\n            moneyInAdvance: this.state.moneyInAdvance\n        };\n\n        this.props.saveStudent(student);\n        setTimeout(() => {\n            if (!this.props.student.error) {\n                this.setState({ \"show\": true, \"method\": \"post\" });\n                setTimeout(() => this.setState({ \"show\": false }), 3000);\n                setTimeout(() => this.returnToList(), 1000);\n            } else {\n                this.setState({ \"showInvalidMessage\": true, \"method\": \"post\" });\n                setTimeout(() => this.setState({ \"showInvalidMessage\": false }), 3000);\n            }\n        }, 1000);\n    };\n\n    updateStudent = event => {\n        event.preventDefault();\n\n        const student = {\n            id: this.state.id,\n            lastName: this.state.lastName,\n            firstName: this.state.firstName,\n            idCardNr: this.state.idCardNr,\n            telNr: this.state.telNr,\n            paymentStatus: this.state.paymentStatus,\n            lessonHours: this.state.lessonHours,\n            unpaidLessons: this.state.unpaidLessons,\n            moneyOwing: this.state.moneyOwing,\n            moneyInAdvance: this.state.moneyInAdvance\n        };\n\n        this.props.updateStudent(student);\n        setTimeout(() => {\n\n            if (!this.props.student.error) {\n                this.setState({ \"show\": true, \"method\": \"put\" });\n                setTimeout(() => this.setState({ \"show\": false }), 3000);\n                setTimeout(() => this.returnToList(), 1000);\n            } else {\n                this.setState({ \"showInvalidMessage\": true, \"method\": \"post\" });\n                setTimeout(() => this.setState({ \"showInvalidMessage\": false }), 3000);\n            }\n        }, 2000);\n    }\n\n    resetStudent = () => {\n        this.setState(() => this.initialState);\n    };\n\n    studentChange = event => {\n        this.setState({\n            [event.target.name]: event.target.value\n        });\n    };\n\n    render() {\n        const { firstName, lastName, idCardNr, telNr, paymentStatus, lessonHours, unpaidLessons, moneyOwing, moneyInAdvance } = this.state;\n        return (\n            <div>\n                <div style={{ \"display\": this.state.show ? \"block\" : \"none\" }}>\n                    <SuccessToast show={this.state.show} message={this.state.method === \"put\" ? \"Student Updated Successfully\" : \"Student Saved Successfully.\"} type=\"success\" />\n                </div>\n\n                <div style={{ \"display\": this.state.showInvalidMessage ? \"block\" : \"none\" }}>\n                    <SuccessToast show={this.state.showInvalidMessage} message={\"Invalid Data - might be in the data base already\"} type=\"dangerNoSuccess\" />\n                </div>\n\n                <Card className={\"border border-dark bg-dark text-white\"}>\n                    <Card.Header>\n                        <FontAwesomeIcon icon={this.state.id ? faEdit : faPlusSquare} /> {this.state.id ? \"Update Student\" : \"Add New Student\"}\n                    </Card.Header>\n                    <Form onReset={this.resetStudent} onSubmit={this.state.id ? this.updateStudent : this.submitStudent}>\n                        <Card.Body>\n                            <Form.Row>\n                                <Form.Group as={Col} controlId=\"formGridLastName\">\n                                    <Form.Label>Last Name</Form.Label>\n                                    <Form.Control required\n                                        autoComplete=\"off\"\n                                        type=\"test\"\n                                        name=\"lastName\"\n                                        value={lastName}\n                                        onChange={this.studentChange}\n                                        placeholder=\"Enter Last Name\"\n                                        className={\"bg-dark text-white\"} />\n                                </Form.Group>\n\n                                <Form.Group as={Col} controlId=\"formGridFirstName\">\n                                    <Form.Label>First Name</Form.Label>\n                                    <Form.Control required\n                                        autoComplete=\"off\"\n                                        type=\"test\"\n                                        name=\"firstName\"\n                                        value={firstName}\n                                        onChange={this.studentChange}\n                                        placeholder=\" Enter First Name\"\n                                        className={\"bg-dark text-white\"} />\n                                </Form.Group>\n                            </Form.Row>\n\n                            <Form.Row>\n\n                                <Form.Group as={Col} controlId=\"formGridIdCardNr\">\n                                    <Form.Label>ID Card Nr</Form.Label>\n                                    <Form.Control required\n                                        autoComplete=\"off\"\n                                        name=\"idCardNr\"\n                                        type=\"test\"\n                                        value={idCardNr}\n                                        onChange={this.studentChange}\n                                        placeholder=\"Enter ID Card Nr\"\n                                        className={\"bg-dark text-white\"} />\n                                </Form.Group>\n\n                                <Form.Group as={Col} controlId=\"formGridPhoneNr\">\n                                    <Form.Label>Phone Nr</Form.Label>\n                                    <Form.Control required\n                                        autoComplete=\"off\"\n                                        name=\"telNr\"\n                                        type=\"test\"\n                                        value={telNr}\n                                        onChange={this.studentChange}\n                                        placeholder=\"Enter Phone Nr\"\n                                        className={\"bg-dark text-white\"} />\n                                </Form.Group>\n                            </Form.Row >\n\n                            <Form.Row>\n                                <Form.Group as={Col} controlId=\"formGridMoneyInAdvance\">\n                                    <Form.Label>Payment In Advance</Form.Label>\n                                    <Form.Control required\n                                        autoComplete=\"off\"\n                                        name=\"moneyInAdvance\"\n                                        type=\"test\"\n                                        value={moneyInAdvance}\n                                        onChange={this.studentChange}\n                                        placeholder=\"$\"\n                                        className={\"bg-dark text-white\"} />\n                                </Form.Group>\n                            </Form.Row>\n                        </Card.Body>\n\n                        <Card.Footer>\n                            <div>\n                                <Button size=\"sm\" variant=\"primary\" type=\"submit\">\n                                    <FontAwesomeIcon icon={faSave} /> {this.state.id ? \"Update\" : \"Submit\"}\n                                </Button>\n                                {'      '}\n\n                                <Button size=\"sm\" variant=\"secondary\" type=\"reset\">\n                                    <FontAwesomeIcon icon={faUndo} />  Reset\n                    </Button>\n                            </div>\n                            {'      '}\n                            <div>\n                                <Button size=\"sm\" variant=\"light\" type=\"button\" onClick={this.returnToList.bind()}>\n                                    <FontAwesomeIcon icon={faArrowLeft} />  Return\n                    </Button>\n                            </div>\n                        </Card.Footer>\n                    </Form >\n\n\n                </Card >\n            </div>\n        );\n    }\n\n}\n\nconst mapStateToProps = state => {\n    return {\n        //savedStudentObject: state.student,\n        //      studentObject: state.student,\n        //  updatedStudent: state.student.student\n        student: state.student\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        saveStudent: (student) => dispatch(saveStudent(student)),\n        fetchStudent: (studentId) => dispatch(fetchStudent(studentId)),\n        updateStudent: (student) => dispatch(updateStudent(student))\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Student);"]},"metadata":{},"sourceType":"module"}