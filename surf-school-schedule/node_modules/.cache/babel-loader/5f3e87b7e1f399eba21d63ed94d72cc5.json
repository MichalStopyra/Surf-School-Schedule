{"ast":null,"code":"import { SAVE_PRICE_TABLE_REQUEST, FETCH_PRICE_TABLE_REQUEST, UPDATE_PRICE_TABLE_REQUEST, DELETE_PRICE_TABLE_REQUEST, PRICE_TABLE_SUCCESS, PRICE_TABLE_FAILURE, FETCH_ALL_PRICE_TABLES_REQUEST, FETCH_ALL_PRICE_TABLES_SUCCESS } from \"./priceTableTypes\";\nimport axios from 'axios';\nexport const fetchAllPriceTables = firstElement => {\n  return dispatch => {\n    axios.get(\"http://localhost:8080/priceTable-api/list?page=0&size=9999999&sortBy=minNrHours&sortDir=asc\").then(response => {\n      if (firstElement) {\n        response.data.content.unshift(firstElement);\n        response.data.content = response.data.content.filter((item, index, self) => index === self.findIndex(e => e.id === item.id));\n      }\n\n      dispatch(fetchAllPriceTablesSuccess(response.data.content));\n    }).catch(error => {\n      dispatch(priceTableFailure(error.message));\n    });\n  };\n};\n\nconst fetchAllPriceTablesRequest = () => {\n  return {\n    type: FETCH_ALL_PRICE_TABLES_REQUEST\n  };\n};\n\nexport const savePriceTable = priceTable => {\n  return dispatch => {\n    axios.post(\"http://localhost:8080/priceTable-api/list\", priceTable).then(response => {\n      //  dispatch(priceTableSuccess(response.data));\n      dispatch(savePriceTableRequest(priceTable));\n    }).catch(error => {\n      console.log(error);\n      dispatch(priceTableFailure(error));\n    });\n  };\n};\n\nconst savePriceTableRequest = priceTable => {\n  return {\n    type: SAVE_PRICE_TABLE_REQUEST,\n    newItem: priceTable\n  };\n};\n\nconst fetchPriceTableRequest = updatedPriceTable => {\n  return {\n    type: FETCH_PRICE_TABLE_REQUEST,\n    updatedPriceTable: updatedPriceTable\n  };\n};\n\nexport const fetchPriceTable = priceTableId => {\n  return dispatch => {\n    axios.get(\"http://localhost:8080/priceTable-api/\" + priceTableId).then(response => {\n      dispatch(fetchPriceTableRequest(response.data)); //dispatch(priceTableSuccess(response.data.content));\n    }).catch(error => {\n      dispatch(priceTableFailure(error));\n    });\n  };\n};\nexport const fetchPriceTableWithNrOfLessons = fullNrOfLessons => {\n  return dispatch => {\n    axios.get(\"http://localhost:8080/priceTable-api/fullNrOfLessons/\" + fullNrOfLessons).then(response => {\n      dispatch(fetchPriceTableRequest(response.data)); //dispatch(priceTableSuccess(response.data.content));\n    }).catch(error => {\n      dispatch(priceTableFailure(error));\n    });\n  };\n};\n\nconst updatePriceTableRequest = priceTable => {\n  return {\n    type: UPDATE_PRICE_TABLE_REQUEST,\n    updatedPriceTable: priceTable\n  };\n};\n\nexport const updatePriceTable = priceTable => {\n  //console.log(priceTable);\n  priceTable.NrHoursWeek = 0;\n  priceTable.NrHoursFull = 0;\n  priceTable.WeekWage = 0; //console.log(priceTable);\n\n  return dispatch => {\n    axios.put(\"http://localhost:8080/priceTable-api/\" + priceTable.id, priceTable).then(response => {\n      dispatch(updatePriceTableRequest(priceTable)); // dispatch(priceTableSuccess(response.data));\n    }).catch(error => {\n      console.log(error);\n      dispatch(priceTableFailure(error));\n    });\n  };\n};\n\nconst deletePriceTableRequest = priceTableId => {\n  return {\n    type: DELETE_PRICE_TABLE_REQUEST,\n    priceTableId: priceTableId\n  };\n};\n\nexport const deletePriceTable = priceTableId => {\n  return dispatch => {\n    axios.delete(\"http://localhost:8080/priceTable-api/list/\" + priceTableId).then(response => {\n      dispatch(deletePriceTableRequest(priceTableId)); //console.log(response);\n\n      dispatch(priceTableSuccess(response.data));\n    }).catch(error => {\n      dispatch(priceTableFailure(error));\n    });\n  };\n};\n\nconst priceTableSuccess = priceTable => {\n  return {\n    type: PRICE_TABLE_SUCCESS,\n    payload: priceTable\n  };\n};\n\nconst priceTableFailure = error => {\n  return {\n    type: PRICE_TABLE_FAILURE,\n    payload: error\n  };\n};\n\nconst fetchAllPriceTablesSuccess = (priceTables, totalPages, totalElements, sortDirection) => {\n  return {\n    type: FETCH_ALL_PRICE_TABLES_SUCCESS,\n    payload: priceTables\n  };\n};","map":{"version":3,"sources":["/home/michal/Desktop/projekty/java/SurfSchoolSchedule/SurfSchoolSchedule/surf-school-schedule/src/services/priceTable/priceTableActions.js"],"names":["SAVE_PRICE_TABLE_REQUEST","FETCH_PRICE_TABLE_REQUEST","UPDATE_PRICE_TABLE_REQUEST","DELETE_PRICE_TABLE_REQUEST","PRICE_TABLE_SUCCESS","PRICE_TABLE_FAILURE","FETCH_ALL_PRICE_TABLES_REQUEST","FETCH_ALL_PRICE_TABLES_SUCCESS","axios","fetchAllPriceTables","firstElement","dispatch","get","then","response","data","content","unshift","filter","item","index","self","findIndex","e","id","fetchAllPriceTablesSuccess","catch","error","priceTableFailure","message","fetchAllPriceTablesRequest","type","savePriceTable","priceTable","post","savePriceTableRequest","console","log","newItem","fetchPriceTableRequest","updatedPriceTable","fetchPriceTable","priceTableId","fetchPriceTableWithNrOfLessons","fullNrOfLessons","updatePriceTableRequest","updatePriceTable","NrHoursWeek","NrHoursFull","WeekWage","put","deletePriceTableRequest","deletePriceTable","delete","priceTableSuccess","payload","priceTables","totalPages","totalElements","sortDirection"],"mappings":"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","sourcesContent":["import {\n    SAVE_PRICE_TABLE_REQUEST, FETCH_PRICE_TABLE_REQUEST, UPDATE_PRICE_TABLE_REQUEST,\n    DELETE_PRICE_TABLE_REQUEST, PRICE_TABLE_SUCCESS, PRICE_TABLE_FAILURE,\n    FETCH_ALL_PRICE_TABLES_REQUEST, FETCH_ALL_PRICE_TABLES_SUCCESS\n} from \"./priceTableTypes\";\nimport axios from 'axios';\n\nexport const fetchAllPriceTables = (firstElement) => {\n    return dispatch => {\n        axios.get(\"http://localhost:8080/priceTable-api/list?page=0&size=9999999&sortBy=minNrHours&sortDir=asc\")\n            .then(response => {\n                if (firstElement) {\n                    response.data.content.unshift(firstElement);\n                    response.data.content = response.data.content.filter((item, index, self) =>\n                        index === self.findIndex((e) => (\n                            e.id === item.id)\n                        ));\n                }\n                dispatch(fetchAllPriceTablesSuccess(response.data.content));\n            })\n            .catch(error => {\n                dispatch(priceTableFailure(error.message));\n            });\n    };\n};\n\nconst fetchAllPriceTablesRequest = () => {\n    return {\n        type: FETCH_ALL_PRICE_TABLES_REQUEST\n    };\n};\n\nexport const savePriceTable = priceTable => {\n    return dispatch => {\n        axios.post(\"http://localhost:8080/priceTable-api/list\", priceTable)\n            .then(response => {\n                //  dispatch(priceTableSuccess(response.data));\n                dispatch(savePriceTableRequest(priceTable));\n            })\n            .catch(error => {\n                console.log(error);\n                dispatch(priceTableFailure(error));\n            });\n    };\n};\n\nconst savePriceTableRequest = priceTable => {\n    return {\n        type: SAVE_PRICE_TABLE_REQUEST,\n        newItem: priceTable\n    };\n};\n\nconst fetchPriceTableRequest = updatedPriceTable => {\n    return {\n        type: FETCH_PRICE_TABLE_REQUEST,\n        updatedPriceTable: updatedPriceTable\n    };\n};\n\nexport const fetchPriceTable = priceTableId => {\n    return dispatch => {\n        axios.get(\"http://localhost:8080/priceTable-api/\" + priceTableId)\n            .then(response => {\n                dispatch(fetchPriceTableRequest(response.data));\n                //dispatch(priceTableSuccess(response.data.content));\n            })\n            .catch(error => {\n                dispatch(priceTableFailure(error));\n            });\n    };\n};\n\n\nexport const fetchPriceTableWithNrOfLessons = fullNrOfLessons => {\n    return dispatch => {\n        axios.get(\"http://localhost:8080/priceTable-api/fullNrOfLessons/\" + fullNrOfLessons)\n            .then(response => {\n\n                dispatch(fetchPriceTableRequest(response.data));\n                //dispatch(priceTableSuccess(response.data.content));\n            })\n            .catch(error => {\n                dispatch(priceTableFailure(error));\n            });\n    };\n};\n\nconst updatePriceTableRequest = priceTable => {\n    return {\n        type: UPDATE_PRICE_TABLE_REQUEST,\n        updatedPriceTable: priceTable\n    };\n};\n\nexport const updatePriceTable = priceTable => {\n    //console.log(priceTable);\n    priceTable.NrHoursWeek = 0;\n    priceTable.NrHoursFull = 0;\n    priceTable.WeekWage = 0;\n    //console.log(priceTable);\n\n    return dispatch => {\n        axios.put(\"http://localhost:8080/priceTable-api/\" + priceTable.id, priceTable)\n            .then(response => {\n                dispatch(updatePriceTableRequest(priceTable));\n\n                // dispatch(priceTableSuccess(response.data));\n            })\n            .catch(error => {\n                console.log(error);\n                dispatch(priceTableFailure(error));\n            });\n    };\n};\n\nconst deletePriceTableRequest = priceTableId => {\n    return {\n        type: DELETE_PRICE_TABLE_REQUEST,\n        priceTableId: priceTableId\n    };\n};\n\nexport const deletePriceTable = priceTableId => {\n    return dispatch => {\n        axios.delete(\"http://localhost:8080/priceTable-api/list/\" + priceTableId)\n            .then(response => {\n                dispatch(deletePriceTableRequest(priceTableId));\n                //console.log(response);\n                dispatch(priceTableSuccess(response.data));\n            })\n            .catch(error => {\n                dispatch(priceTableFailure(error));\n            });\n    };\n};\n\n\nconst priceTableSuccess = priceTable => {\n    return {\n        type: PRICE_TABLE_SUCCESS,\n        payload: priceTable\n    };\n};\n\nconst priceTableFailure = error => {\n    return {\n        type: PRICE_TABLE_FAILURE,\n        payload: error\n    };\n};\n\nconst fetchAllPriceTablesSuccess = (priceTables, totalPages, totalElements, sortDirection) => {\n    return {\n        type: FETCH_ALL_PRICE_TABLES_SUCCESS,\n        payload: priceTables,\n    };\n};\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}