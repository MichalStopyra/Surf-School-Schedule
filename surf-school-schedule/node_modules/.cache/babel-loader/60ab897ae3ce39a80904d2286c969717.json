{"ast":null,"code":"var _jsxFileName = \"/home/michal/Desktop/projekty/java/SurfSchoolSchedule/SurfSchoolSchedule/surf-school-schedule/src/components/Instructor/InstructorSettle.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { Card, Table, ButtonGroup, Button, InputGroup, FormControl, Form, Col } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faWallet, faMoneyCheckAlt, faUndo, faArrowLeft, faList } from '@fortawesome/free-solid-svg-icons';\nimport SuccessToast from '../SuccessToast';\nimport InstructorLessonsList from './InstructorLessonsList';\nimport { connect } from 'react-redux';\nimport { fetchInstructor, updateInstructor } from './../../services/index';\nimport './../../style/Style.css';\n\nclass InstructorSettle extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.findInstructorById = idInstructor => {\n      this.props.fetchInstructor(idInstructor);\n      setTimeout(() => {\n        let instructor = this.props.instructor.instructor;\n\n        if (instructor != null) {\n          this.setState({\n            instructor: instructor\n          });\n        }\n      }, 1000);\n    };\n\n    this.settleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n      this.setPriceOneH();\n      setTimeout(() => {\n        this.setPriceOneH();\n        this.countTotalPrice();\n      }, 100);\n    };\n\n    this.returnToInstructorList = () => {\n      return this.props.history.push(\"/instructors\");\n    };\n\n    this.settleInstructor = () => {\n      const instructorLessons = this.props.lessons;\n\n      for (let i = 0; i < instructorLessons.length; ++i) {\n        if (instructorLessons[i].status === 'Finished_Unpaid') {\n          const lesson = {\n            id: instructorLessons[i].id,\n            instructor: instructorLessons[i].instructor,\n            instructor: instructorLessons[i].instructor,\n            date: instructorLessons[i].date,\n            time: instructorLessons[i].time,\n            howLong: instructorLessons[i].howLong,\n            nrInstructors: instructorLessons[i].nrInstructors,\n            status: \"Finished_Paid\"\n          }; //  console.log(lesson);\n\n          this.props.updateLesson(lesson);\n        }\n      }\n\n      if (this.state.totalPrice < 0) {\n        var newMoneyInAdvance = -this.state.totalPrice;\n        var newPaymentStatus = \"We_Owe\";\n      } //let newInstructorStatus = \"We_Owe\"\n      // Owes_Us\n      else {\n          var newMoneyInAdvance = 0;\n          var newPaymentStatus = \"Settled\";\n        }\n\n      const instructor = {\n        id: this.props.instructor.instructor.id,\n        lastName: this.props.instructor.instructor.lastName,\n        firstName: this.props.instructor.instructor.firstName,\n        idCardNr: this.props.instructor.instructor.idCardNr,\n        telNr: this.props.instructor.instructor.telNr,\n        paymentStatus: newPaymentStatus,\n        lessonHours: this.props.instructor.instructor.lessonHours,\n        unpaidLessons: this.props.instructor.instructor.unpaidLessons,\n        moneyOwing: this.props.instructor.instructor.moneyOwing,\n        moneyInAdvance: newMoneyInAdvance\n      }; // console.log(instructor);\n\n      this.props.updateInstructor(instructor);\n      setTimeout(() => {\n        if (!this.props.instructor.error && !this.props.lesson.error) {\n          this.setState({\n            \"showSuccesMessage\": true\n          });\n          setTimeout(() => this.setState({\n            \"showSuccessMessage\": false\n          }), 3000);\n          setTimeout(() => this.returnToInstructorList(), 1000);\n        } else {\n          this.setState({\n            \"showInvalidMessage\": true,\n            \"method\": \"post\"\n          });\n          setTimeout(() => this.setState({\n            \"showInvalidMessage\": false\n          }), 3000);\n        }\n      }, 2000);\n    };\n\n    this.state = {\n      idInstructor: +this.props.match.params.id,\n      instructor: '',\n      showSuccessMessage: false\n    };\n  }\n\n  componentDidMount() {\n    this.findInstructorById(this.state.idInstructor);\n    this.findWeekInstructorTab(this.state.idInstructor);\n  }\n\n  // listButtonHandle = () => {\n  //     this.setState({\n  //         showLessonList: !this.state.showLessonList\n  //     });\n  // }\n  render() {\n    const searchedLesson = this.props.lesson.searchedLesson;\n    const totalPages = this.props.lesson.totalPages;\n    const totalElements = this.props.lesson.totalElements;\n    const lesson = this.props.lesson;\n    const lessons = this.props.lessons;\n    const currentPage = this.props.lesson.currentPage;\n    const instructor = this.props.instructor.instructor;\n    const {\n      moneyInAdvance,\n      unpaidLessons,\n      paymentStatus,\n      lessonHours\n    } = this.props.instructor.instructor;\n    const priceTables = this.props.priceTable.priceTables;\n    const {\n      priceTable,\n      priceOneH,\n      discount,\n      totalPrice,\n      payForHowMany,\n      howMany1p,\n      howMany2p,\n      howMany3p,\n      customPrice\n    } = this.state;\n    const pageNumCss = {\n      width: \"45px\",\n      border: \"1px solid #F8F8FF\",\n      color: \"#F8F8FF\",\n      textAlign: \"center\",\n      fontWeight: \"bold\"\n    };\n    const searchBoxCss = {\n      width: \"100px\",\n      border: \"1px solid #17A2B8\",\n      color: \"#17A2B8\",\n      textAlign: \"center\",\n      fontWeight: \"bold\"\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        \"display\": this.state.show ? \"block\" : \"none\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(SuccessToast, {\n      show: this.state.show,\n      message: \"Instructor Settled Successfully\",\n      type: \"success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(InstructorLessonsList, {\n      showLessonList: this.state.showLessonList,\n      instructor: instructor,\n      lessons: lessons,\n      onClose: this.listButtonHandle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Card, {\n      className: \"border border-dark bg-dark text-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Card.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faWallet,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 25\n      }\n    }), \" Settle Instructor\"), /*#__PURE__*/React.createElement(Form, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"container\",\n      style: {\n        \"clear\": \"both\",\n        \"display\": \"flex\",\n        \"justifyContent\": \"space-between\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 37\n      }\n    }, \"Instructor\"), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 37\n      }\n    }, instructor.firstName + \" \" + instructor.lastName), /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 37\n      }\n    }, \"Full Nr of Lessons [h]\"), /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 37\n      }\n    }, lessonHours), /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 37\n      }\n    }, \"Nr of Unpaid Lessons [h] (1p/2p/+3p)\"), /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 37\n      }\n    }, unpaidLessons, \" (\", howMany1p ? howMany1p : 0, \"/\", howMany2p ? howMany2p : 0, \"/\", howMany3p ? howMany3p : 0, \")\"), /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 37\n      }\n    }, \"Money in advance [zl]\"), /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 37\n      }\n    }, moneyInAdvance), /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 37\n      }\n    }, \"Total price\"), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 37\n      }\n    }, totalPrice ? totalPrice : 0, \" zl\")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridPriceTables\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 41\n      }\n    }, \"Offer\"), /*#__PURE__*/React.createElement(Form.Control, {\n      disabled: !this.state.disableCustomPrice,\n      required: true,\n      as: \"select\",\n      autoComplete: \"off\",\n      name: \"priceTable\",\n      value: priceTable,\n      onChange: this.settleChange,\n      className: \"bg-dark text-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 41\n      }\n    }, this.state.disableCustomPrice ? priceTables.map(priceTable => /*#__PURE__*/React.createElement(\"option\", {\n      key: priceTable.id,\n      value: JSON.stringify(priceTable),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 49\n      }\n    }, priceTable.name + \" \" + priceTable.minNrHours + \"h\")) : \"\")), /*#__PURE__*/React.createElement(InputGroup, {\n      className: \"mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(InputGroup.Prepend, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(InputGroup.Checkbox, {\n      onChange: () => this.handleCheckboxCustomPriceChange(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 45\n      }\n    })), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridCustomPrice\",\n      name: \"customPrice\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 45\n      }\n    }, \"Custom Price\"), /*#__PURE__*/React.createElement(Form.Control, {\n      disabled: this.state.disableCustomPrice,\n      autoComplete: \"off\",\n      type: \"test\",\n      name: \"customPrice\",\n      value: customPrice,\n      onChange: this.settleChange,\n      placeholder: this.state.disableCustomPrice ? \"\" : \"Enter Price [zl]\",\n      className: \"bg-dark text-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 45\n      }\n    }))), /*#__PURE__*/React.createElement(InputGroup, {\n      className: \"mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(InputGroup.Prepend, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(InputGroup.Checkbox, {\n      onChange: () => this.handleCheckboxDiscountChange(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 45\n      }\n    })), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridDiscount\",\n      name: \"discount\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 45\n      }\n    }, \"Discount [%]\"), /*#__PURE__*/React.createElement(Form.Control, {\n      disabled: this.state.disableDiscount,\n      autoComplete: \"off\",\n      type: \"test\",\n      name: \"discount\",\n      value: discount,\n      onChange: this.settleChange,\n      placeholder: this.state.disableDiscount ? \"\" : \"Enter Discount [%]\",\n      className: \"bg-dark text-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 45\n      }\n    })))))), /*#__PURE__*/React.createElement(Card.Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"container\",\n      style: {\n        \"clear\": \"both\",\n        \"display\": \"flex\",\n        \"justifyContent\": \"space-between\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      size: \"sm\",\n      variant: \"info\",\n      onClick: () => this.settleInstructor(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faMoneyCheckAlt,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 41\n      }\n    }), \"  Settle\"), '      ', /*#__PURE__*/React.createElement(Button, {\n      size: \"sm\",\n      variant: \"secondary\",\n      type: \"reset\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faUndo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 41\n      }\n    }), \"  Reset\")), /*#__PURE__*/React.createElement(Button, {\n      size: \"bg\",\n      variant: \"light\",\n      disabled: lessons.filter(lesson => lesson.status == \"Finished_Unpaid\").length ? false : true,\n      onClick: () => this.listButtonHandle(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faList,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 37\n      }\n    }), \"  Unpaid Lessons\")), '      ', /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      size: \"sm\",\n      variant: \"light\",\n      type: \"button\",\n      onClick: () => this.returnToInstructorList(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faArrowLeft,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 37\n      }\n    }), \"  Return\"))))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    instructor: state.instructor\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    fetchInstructor: instructorId => dispatch(fetchInstructor(instructorId)),\n    updateInstructor: instructor => dispatch(updateInstructor(instructor))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(InstructorSettle);","map":{"version":3,"sources":["/home/michal/Desktop/projekty/java/SurfSchoolSchedule/SurfSchoolSchedule/surf-school-schedule/src/components/Instructor/InstructorSettle.js"],"names":["React","axios","Link","Card","Table","ButtonGroup","Button","InputGroup","FormControl","Form","Col","FontAwesomeIcon","faWallet","faMoneyCheckAlt","faUndo","faArrowLeft","faList","SuccessToast","InstructorLessonsList","connect","fetchInstructor","updateInstructor","InstructorSettle","Component","constructor","props","findInstructorById","idInstructor","setTimeout","instructor","setState","settleChange","event","target","name","value","setPriceOneH","countTotalPrice","returnToInstructorList","history","push","settleInstructor","instructorLessons","lessons","i","length","status","lesson","id","date","time","howLong","nrInstructors","updateLesson","state","totalPrice","newMoneyInAdvance","newPaymentStatus","lastName","firstName","idCardNr","telNr","paymentStatus","lessonHours","unpaidLessons","moneyOwing","moneyInAdvance","error","match","params","showSuccessMessage","componentDidMount","findWeekInstructorTab","render","searchedLesson","totalPages","totalElements","currentPage","priceTables","priceTable","priceOneH","discount","payForHowMany","howMany1p","howMany2p","howMany3p","customPrice","pageNumCss","width","border","color","textAlign","fontWeight","searchBoxCss","show","showLessonList","listButtonHandle","disableCustomPrice","map","JSON","stringify","minNrHours","handleCheckboxCustomPriceChange","handleCheckboxDiscountChange","disableDiscount","filter","mapStateToProps","mapDispatchToProps","dispatch","instructorId"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { Card, Table, ButtonGroup, Button, InputGroup, FormControl, Form, Col } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faWallet, faMoneyCheckAlt, faUndo, faArrowLeft, faList } from '@fortawesome/free-solid-svg-icons';\nimport SuccessToast from '../SuccessToast';\nimport InstructorLessonsList from './InstructorLessonsList';\nimport { connect } from 'react-redux';\nimport { fetchInstructor, updateInstructor } from './../../services/index';\n\nimport './../../style/Style.css';\n\n\nclass InstructorSettle extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            idInstructor: +this.props.match.params.id,\n            instructor: '',\n            showSuccessMessage: false,\n        };\n    }\n\n    componentDidMount() {\n        this.findInstructorById(this.state.idInstructor);\n        this.findWeekInstructorTab(this.state.idInstructor)\n    }\n\n\n\n    findInstructorById = (idInstructor) => {\n\n        this.props.fetchInstructor(idInstructor);\n        setTimeout(() => {\n\n            let instructor = this.props.instructor.instructor;\n            if (instructor != null) {\n                this.setState({\n                    instructor: instructor\n                });\n            }\n        }, 1000);\n    };\n\n\n    settleChange = event => {\n\n        this.setState({\n            [event.target.name]: event.target.value,\n        });\n        this.setPriceOneH();\n        setTimeout(() => {\n            this.setPriceOneH();\n\n            this.countTotalPrice();\n        }, 100);\n\n    };\n\n    returnToInstructorList = () => {\n        return this.props.history.push(\"/instructors\");\n    };\n\n    settleInstructor = () => {\n        const instructorLessons = this.props.lessons\n        for (let i = 0; i < instructorLessons.length; ++i) {\n            if (instructorLessons[i].status === 'Finished_Unpaid') {\n                const lesson = {\n                    id: instructorLessons[i].id,\n                    instructor: instructorLessons[i].instructor,\n                    instructor: instructorLessons[i].instructor,\n                    date: instructorLessons[i].date,\n                    time: instructorLessons[i].time,\n                    howLong: instructorLessons[i].howLong,\n                    nrInstructors: instructorLessons[i].nrInstructors,\n                    status: \"Finished_Paid\"\n                };\n                //  console.log(lesson);\n                this.props.updateLesson(lesson);\n            }\n        }\n\n        if (this.state.totalPrice < 0) {\n            var newMoneyInAdvance = -this.state.totalPrice;\n            var newPaymentStatus = \"We_Owe\";\n        }\n        //let newInstructorStatus = \"We_Owe\"\n        // Owes_Us\n        else {\n            var newMoneyInAdvance = 0;\n            var newPaymentStatus = \"Settled\"\n        }\n\n\n        const instructor = {\n            id: this.props.instructor.instructor.id,\n            lastName: this.props.instructor.instructor.lastName,\n            firstName: this.props.instructor.instructor.firstName,\n            idCardNr: this.props.instructor.instructor.idCardNr,\n            telNr: this.props.instructor.instructor.telNr,\n            paymentStatus: newPaymentStatus,\n            lessonHours: this.props.instructor.instructor.lessonHours,\n            unpaidLessons: this.props.instructor.instructor.unpaidLessons,\n            moneyOwing: this.props.instructor.instructor.moneyOwing,\n            moneyInAdvance: newMoneyInAdvance\n        };\n        // console.log(instructor);\n\n\n        this.props.updateInstructor(instructor);\n\n        setTimeout(() => {\n\n            if (!this.props.instructor.error && !this.props.lesson.error) {\n                this.setState({ \"showSuccesMessage\": true });\n                setTimeout(() => this.setState({ \"showSuccessMessage\": false }), 3000);\n                setTimeout(() => this.returnToInstructorList(), 1000);\n            } else {\n                this.setState({ \"showInvalidMessage\": true, \"method\": \"post\" });\n                setTimeout(() => this.setState({ \"showInvalidMessage\": false }), 3000);\n            }\n        }, 2000);\n    }\n\n    // listButtonHandle = () => {\n    //     this.setState({\n    //         showLessonList: !this.state.showLessonList\n    //     });\n    // }\n\n    render() {\n        const searchedLesson = this.props.lesson.searchedLesson;\n        const totalPages = this.props.lesson.totalPages;\n        const totalElements = this.props.lesson.totalElements;\n        const lesson = this.props.lesson;\n        const lessons = this.props.lessons;\n        const currentPage = this.props.lesson.currentPage;\n        const instructor = this.props.instructor.instructor;\n        const { moneyInAdvance, unpaidLessons, paymentStatus, lessonHours } = this.props.instructor.instructor;\n        const priceTables = this.props.priceTable.priceTables;\n        const { priceTable, priceOneH, discount, totalPrice, payForHowMany, howMany1p, howMany2p, howMany3p, customPrice } = this.state;\n\n        const pageNumCss = {\n            width: \"45px\",\n            border: \"1px solid #F8F8FF\",\n            color: \"#F8F8FF\",\n            textAlign: \"center\",\n            fontWeight: \"bold\"\n        };\n\n        const searchBoxCss = {\n            width: \"100px\",\n            border: \"1px solid #17A2B8\",\n            color: \"#17A2B8\",\n            textAlign: \"center\",\n            fontWeight: \"bold\"\n        };\n\n        return (\n            <div>\n                <div style={{ \"display\": this.state.show ? \"block\" : \"none\" }}>\n                    <SuccessToast show={this.state.show} message={\"Instructor Settled Successfully\"} type=\"success\" />\n                </div>\n\n                <InstructorLessonsList showLessonList={this.state.showLessonList} instructor={instructor} lessons={lessons}\n                    onClose={this.listButtonHandle} />\n                {/* <div style={{ \"display\": this.state.showInvalidMessage ? \"block\" : \"none\" }}>\n                <SuccessToast show={this.state.showInvalidMessage} message={\"Invalid Data - might be in the data base already\"} type=\"dangerNoSuccess\" />\n            </div> */}\n\n                <Card className={\"border border-dark bg-dark text-white\"}>\n                    <Card.Header>\n                        <FontAwesomeIcon icon={faWallet} /> Settle Instructor\n                </Card.Header>\n                    <Form >\n                        <Card.Body>\n                            <div id=\"container\" style={{ \"clear\": \"both\", \"display\": \"flex\", \"justifyContent\": \"space-between\" }}>\n\n                                <div>\n                                    <h5>Instructor</h5>\n                                    <h4>{instructor.firstName + \" \" + instructor.lastName}</h4>\n\n                                    <h6>Full Nr of Lessons [h]</h6>\n                                    <h5>{lessonHours}</h5>\n\n                                    <h6>Nr of Unpaid Lessons [h] (1p/2p/+3p)</h6>\n                                    <h5>{unpaidLessons} ({howMany1p ? howMany1p : 0}/{howMany2p ? howMany2p : 0}/{howMany3p ? howMany3p : 0})</h5>\n\n                                    <h6>Money in advance [zl]</h6>\n                                    <h5>{moneyInAdvance}</h5>\n\n                                    <h5>Total price</h5>\n                                    <h4>{totalPrice ? totalPrice : 0} zl</h4>\n\n                                </div>\n                                <div>\n                                    <Form.Group as={Col} controlId=\"formGridPriceTables\">\n                                        <Form.Label>Offer</Form.Label>\n                                        <Form.Control\n                                            disabled={!this.state.disableCustomPrice}\n                                            required as=\"select\"\n                                            autoComplete=\"off\"\n                                            name=\"priceTable\"\n                                            value={priceTable}\n                                            onChange={this.settleChange}\n                                            className={\"bg-dark text-white\"} >\n                                            {this.state.disableCustomPrice ? priceTables.map(priceTable =>\n                                                <option key={priceTable.id} value={JSON.stringify(priceTable)}>\n                                                    {priceTable.name + \" \" + priceTable.minNrHours + \"h\"\n                                                    }\n                                                </option>\n                                            ) : \"\"}\n                                        </Form.Control>\n                                    </Form.Group>\n\n                                    <InputGroup className=\"mb-3\">\n                                        <InputGroup.Prepend >\n                                            <InputGroup.Checkbox onChange={() => this.handleCheckboxCustomPriceChange()} />\n                                        </InputGroup.Prepend>\n                                        <Form.Group as={Col} controlId=\"formGridCustomPrice\" name=\"customPrice\">\n                                            <Form.Label>Custom Price</Form.Label>\n                                            <Form.Control\n                                                disabled={this.state.disableCustomPrice}\n                                                autoComplete=\"off\"\n                                                type=\"test\"\n                                                name=\"customPrice\"\n                                                value={customPrice}\n                                                onChange={this.settleChange}\n                                                placeholder={this.state.disableCustomPrice ? \"\" : \"Enter Price [zl]\"}\n                                                className={\"bg-dark text-white\"} />\n                                        </Form.Group>\n                                    </InputGroup>\n\n                                    <InputGroup className=\"mb-3\">\n                                        <InputGroup.Prepend >\n                                            <InputGroup.Checkbox onChange={() => this.handleCheckboxDiscountChange()} />\n                                        </InputGroup.Prepend>\n                                        <Form.Group as={Col} controlId=\"formGridDiscount\" name=\"discount\">\n                                            <Form.Label>Discount [%]</Form.Label>\n                                            <Form.Control\n                                                disabled={this.state.disableDiscount}\n                                                autoComplete=\"off\"\n                                                type=\"test\"\n                                                name=\"discount\"\n                                                value={discount}\n                                                onChange={this.settleChange}\n                                                placeholder={this.state.disableDiscount ? \"\" : \"Enter Discount [%]\"}\n                                                className={\"bg-dark text-white\"} />\n                                        </Form.Group>\n                                    </InputGroup>\n\n\n                                </div>\n\n                            </div>\n\n                        </Card.Body>\n\n                        <Card.Footer>\n                            <div id=\"container\" style={{ \"clear\": \"both\", \"display\": \"flex\", \"justifyContent\": \"space-between\" }}>\n                                <div>\n                                    <Button size=\"sm\" variant=\"info\" onClick={() => this.settleInstructor()}>\n                                        <FontAwesomeIcon icon={faMoneyCheckAlt} />  Settle\n                                </Button>\n                                    {'      '}\n\n\n\n                                    <Button size=\"sm\" variant=\"secondary\" type=\"reset\">\n                                        <FontAwesomeIcon icon={faUndo} />  Reset\n                                </Button>\n                                </div>\n                                <Button size=\"bg\" variant=\"light\" disabled={lessons.filter(lesson => lesson.status == \"Finished_Unpaid\").length ? false : true}\n                                    onClick={() => this.listButtonHandle()}>\n                                    <FontAwesomeIcon icon={faList} />  Unpaid Lessons\n                                </Button>\n                            </div>\n\n                            {'      '}\n                            <div>\n                                <Button size=\"sm\" variant=\"light\" type=\"button\" onClick={() => this.returnToInstructorList()}>\n                                    <FontAwesomeIcon icon={faArrowLeft} />  Return\n                </Button>\n                            </div>\n                        </Card.Footer>\n                    </Form >\n\n\n                </Card >\n            </div>\n        );\n    }\n\n}\n\nconst mapStateToProps = state => {\n    return {\n        instructor: state.instructor,\n    }\n};\n\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        fetchInstructor: (instructorId) => dispatch(fetchInstructor(instructorId)),\n        updateInstructor: (instructor) => dispatch(updateInstructor(instructor))\n    }\n\n};\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(InstructorSettle);"]},"metadata":{},"sourceType":"module"}