{"ast":null,"code":"import _defineProperty from\"/home/michal/Desktop/projekty/java/SurfSchoolSchedule/SurfSchoolSchedule/surf-school-schedule/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/michal/Desktop/projekty/java/SurfSchoolSchedule/SurfSchoolSchedule/surf-school-schedule/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/michal/Desktop/projekty/java/SurfSchoolSchedule/SurfSchoolSchedule/surf-school-schedule/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/michal/Desktop/projekty/java/SurfSchoolSchedule/SurfSchoolSchedule/surf-school-schedule/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/michal/Desktop/projekty/java/SurfSchoolSchedule/SurfSchoolSchedule/surf-school-schedule/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import axios from'axios';import{Link}from'react-router-dom';import{Card,Table,ButtonGroup,Button,InputGroup,FormControl}from'react-bootstrap';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faUsers,faWallet,faEdit,faTrash,faCalendarPlus,faStepBackward,faFastBackward,faStepForward,faFastForward,faSearch,faTimes,faCheckSquare}from'@fortawesome/free-solid-svg-icons';import SuccessToast from'../SuccessToast';import{connect}from'react-redux';import{deleteLesson as _deleteLesson,fetchAllLessons as _fetchAllLessons,searchLessons as _searchLessons,updateLesson as _updateLesson}from'./../../services/index';import'./../../style/Style.css';var LessonList=/*#__PURE__*/function(_React$Component){_inherits(LessonList,_React$Component);var _super=_createSuper(LessonList);function LessonList(props){var _this;_classCallCheck(this,LessonList);_this=_super.call(this,props);_this.deleteLesson=function(idLesson){_this.props.deleteLesson(idLesson);setTimeout(function(){if(_this.props.lesson!=null){_this.setState({\"show\":true});setTimeout(function(){return _this.setState({\"show\":false});},1000);}else{_this.setState({\"show\":false});}},1000);_this.props.fetchAllLessons(_this.props.lesson.currentPage,_this.state.lessonsPerPage,_this.props.lesson.sortDirection);};_this.changePage=function(event){var target=parseInt(event.target.value);if(_this.props.lesson.searchedLesson){_this.searchLesson(target);}else{var sortDirection=_this.state.sortToggle?\"asc\":\"desc\";_this.props.fetchAllLessons(target,_this.state.lessonsPerPage,_this.props.lesson.sortDirection);}_this.setState(_defineProperty({},event.target.name,target));};_this.firstPage=function(){var firstPage=1;if(_this.props.lesson.currentPage>firstPage){_this.props.lesson.currentPage=1;if(_this.props.lesson.searchedLesson){_this.searchLesson(_this.props.lesson.currentPage);}else{var sortDirection=_this.state.sortToggle?\"asc\":\"desc\";_this.props.fetchAllLessons(_this.props.lesson.currentPage,_this.state.lessonsPerPage,_this.props.lesson.sortDirection);}}};_this.prevPage=function(){if(_this.props.lesson.currentPage>1){--_this.props.lesson.currentPage;if(_this.props.lesson.searchedLesson){_this.searchLesson(_this.props.lesson.currentPage);}else{var sortDirection=_this.state.sortToggle?\"asc\":\"desc\";_this.props.fetchAllLessons(_this.props.lesson.currentPage,_this.state.lessonsPerPage,_this.props.lesson.sortDirection);}}};_this.lastPage=function(){var lessonsLength=_this.state.lessons.length;var lastPage=Math.ceil(_this.props.totalElements/_this.state.lessonsPerPage);if(_this.props.lesson.currentPage<lastPage){_this.props.lesson.currentPage=lastPage;if(_this.props.lesson.searchedLesson){_this.searchLesson(_this.props.lesson.currentPage);}else{_this.props.fetchAllLessons(_this.props.lesson.currentPage,_this.state.lessonsPerPage,_this.props.lesson.sortDirection);}}};_this.nextPage=function(){if(_this.state.currentPage<Math.ceil(_this.props.totalElements/_this.state.lessonsPerPage)){++_this.props.lesson.currentPage;if(_this.props.lesson.searchedLesson){_this.searchLesson(_this.props.lesson.currentPage);}else{var sortDirection=_this.state.sortToggle?\"asc\":\"desc\";_this.props.fetchAllLessons(_this.props.lesson.currentPage,_this.state.lessonsPerPage,_this.props.lesson.sortDirection);}}};_this.searchChange=function(event){_this.props.lesson.searchedLesson=event.target.value;_this.forceUpdate();};_this.cancelSearch=function(){_this.props.lesson.searchedLesson='';_this.props.fetchAllLessons(_this.props.lesson.currentPage,_this.state.lessonsPerPage,_this.props.lesson.sortDirection);_this.forceUpdate();};_this.sortData=function(){if(_this.props.lesson.sortDirection===\"asc\")_this.props.lesson.sortDirection=\"desc\";else _this.props.lesson.sortDirection=\"asc\";_this.props.fetchAllLessons(_this.props.lesson.currentPage,_this.state.lessonsPerPage,_this.props.lesson.sortDirection);};_this.searchLesson=function(currentPage){if(_this.props.lesson.searchedLesson)_this.props.searchLessons(_this.props.lesson.searchedLesson,_this.props.lesson.currentPage,_this.props.lesson.lessonsPerPage);};_this.lessonStatusChange=function(lesson,newStatus){lesson.status=newStatus;_this.props.updateLesson(lesson);_this.props.fetchAllLessons(_this.props.lesson.currentPage,_this.state.lessonsPerPage,_this.props.lesson.sortDirection);};_this.state={lessons:[],currentPage:1,lessonsPerPage:5,searchedLesson:'',sortToggle:false};return _this;}_createClass(LessonList,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.props.fetchAllLessons(this.props.lesson.currentPage,this.state.lessonsPerPage,this.props.lesson.sortDirection);setTimeout(function(){_this2.checkIfLessonInThePast();},1000);}//change status of lessons that have their date in the past (24 h back) and were not given into not given\n},{key:\"checkIfLessonInThePast\",value:function checkIfLessonInThePast(){var yesterday=new Date(new Date().setDate(new Date().getDate()-1));var length=this.props.lesson.lessons.length;var renderFlag=false;for(var i=0;i<length;++i){var temp=new Date(this.props.lesson.lessons[i].date);if(this.props.lesson.lessons[i].status===\"To_Give\"&&temp<yesterday){this.lessonStatusChange(this.props.lesson.lessons[i],3);//flag so that component is not unnecessarily rendered \nif(!renderFlag)renderFlag=true;}}if(renderFlag)this.props.fetchAllLessons(this.props.lesson.currentPage,this.state.lessonsPerPage,this.props.lesson.sortDirection);}},{key:\"render\",value:function render(){var _this3=this;var searchedLesson=this.props.lesson.searchedLesson;var totalPages=this.props.lesson.totalPages;var totalElements=this.props.lesson.totalElements;var lesson=this.props.lesson;var lessons=this.props.lessons;var currentPage=this.props.lesson.currentPage;var sortDirection=this.props.lesson.sortDirection;var pageNumCss={width:\"45px\",border:\"1px solid #F8F8FF\",color:\"#F8F8FF\",textAlign:\"center\",fontWeight:\"bold\"};var searchBoxCss={width:\"100px\",border:\"1px solid #17A2B8\",color:\"#17A2B8\",textAlign:\"center\",fontWeight:\"bold\"};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{style:{\"float\":\"right\"}}),/*#__PURE__*/React.createElement(Card,{className:\" bg-dark text-white\"},/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(\"div\",{style:{\"float\":\"left\"}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faUsers}),\"     Lessons List\"),/*#__PURE__*/React.createElement(\"div\",{style:{\"float\":\"right\"}},/*#__PURE__*/React.createElement(InputGroup,{size:\"sm\"},/*#__PURE__*/React.createElement(FormControl,{style:searchBoxCss,className:\"bg-dark\",name:\"searchedLesson\",value:searchedLesson,placeholder:\"Search\",onChange:this.searchChange}),/*#__PURE__*/React.createElement(InputGroup.Append,null,/*#__PURE__*/React.createElement(Button,{size:\"sm\",variant:\"outline-info\",type:\"button\",onClick:this.searchLesson},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faSearch})),/*#__PURE__*/React.createElement(Button,{size:\"sm\",variant:\"outline-danger\",type:\"button\",onClick:this.cancelSearch},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTimes})))))),/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(Table,{striped:true,bordered:true,hover:true,variant:\"dark\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Instructor\"),/*#__PURE__*/React.createElement(\"th\",null,\"Student\"),/*#__PURE__*/React.createElement(\"th\",{onClick:this.sortData},\" Date \",/*#__PURE__*/React.createElement(\"div\",{className:this.state.sortToggle?\"arrow arrow-down\":\"arrow arrow-up\"}),\" \"),/*#__PURE__*/React.createElement(\"th\",null,\"Time\"),/*#__PURE__*/React.createElement(\"th\",null,\"How Long [h]\"),/*#__PURE__*/React.createElement(\"th\",null,\"Nr of Students\"),/*#__PURE__*/React.createElement(\"th\",null,\"Status\"),/*#__PURE__*/React.createElement(\"th\",null,\"Actions\"))),/*#__PURE__*/React.createElement(\"tbody\",null,lessons.length===0?/*#__PURE__*/React.createElement(\"tr\",{align:\"center\"},/*#__PURE__*/React.createElement(\"td\",{colSpan:\"10\"},\" No Lessons in the Data Base\")):lessons.map(function(lesson){return/*#__PURE__*/React.createElement(\"tr\",{key:lesson.id},/*#__PURE__*/React.createElement(\"td\",null,lesson.instructor.firstName+\" \"+lesson.instructor.lastName),/*#__PURE__*/React.createElement(\"td\",null,lesson.student.firstName+\" \"+lesson.student.lastName),/*#__PURE__*/React.createElement(\"td\",null,lesson.date),/*#__PURE__*/React.createElement(\"td\",null,lesson.time),/*#__PURE__*/React.createElement(\"td\",null,lesson.howLong),/*#__PURE__*/React.createElement(\"td\",null,lesson.nrStudents),/*#__PURE__*/React.createElement(\"td\",null,lesson.status),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(ButtonGroup,null,/*#__PURE__*/React.createElement(Button,{size:\"sm\",variant:\"outline-success\",onClick:_this3.lessonStatusChange.bind(_this3,lesson,2)},\" \",/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faCheckSquare}),\" \"),/*#__PURE__*/React.createElement(Link,{to:\"editLesson/\"+lesson.id},\" \",/*#__PURE__*/React.createElement(Button,{size:\"sm\",variant:\"outline-primary\"},\" \",/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faEdit}),\" \"),\" \"),/*#__PURE__*/React.createElement(Button,{size:\"sm\",variant:\"outline-danger\",onClick:_this3.deleteLesson.bind(_this3,lesson.id)},\" \",/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTrash}),\" \"))));})))),/*#__PURE__*/React.createElement(Card.Footer,null,/*#__PURE__*/React.createElement(\"div\",{style:{\"float\":\"left\"}},/*#__PURE__*/React.createElement(Link,{to:\"add-lesson\",className:\"nav-link\"},/*#__PURE__*/React.createElement(ButtonGroup,null,/*#__PURE__*/React.createElement(Button,{size:\"lg\",variant:\"outline-light\"},\" \",/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faCalendarPlus}),\" \"))),\"Page \",currentPage,\" of \",totalPages===0?1:totalPages),/*#__PURE__*/React.createElement(\"div\",{style:{\"float\":\"right\"}},/*#__PURE__*/React.createElement(InputGroup,{size:\"sm\"},/*#__PURE__*/React.createElement(InputGroup.Prepend,null,/*#__PURE__*/React.createElement(Button,{type:\"button\",variant:\"outline-light\",disabled:currentPage===1?true:false,onClick:this.firstPage},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faFastBackward}),\" First\"),/*#__PURE__*/React.createElement(Button,{type:\"button\",variant:\"outline-light\",disabled:currentPage===1?true:false,onClick:this.prevPage},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faStepBackward}),\" Prev\")),/*#__PURE__*/React.createElement(FormControl,{style:pageNumCss,className:\"page-num bg-dark\",name:\"currentPage\",value:currentPage,onChange:this.changePage}),/*#__PURE__*/React.createElement(InputGroup.Append,null,/*#__PURE__*/React.createElement(Button,{type:\"button\",variant:\"outline-light\",disabled:currentPage===totalPages?true:false,onClick:this.nextPage},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faStepForward}),\" Next\"),/*#__PURE__*/React.createElement(Button,{type:\"button\",variant:\"outline-light\",disabled:currentPage===totalPages?true:false,onClick:this.lastPage},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faFastForward}),\" Last\")))))));}}]);return LessonList;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{lesson:state.lesson,lessons:state.lesson.lessons,totalPages:state.lesson.totalPages,totalElements:state.lesson.totalElements,currentPage:state.lesson.currentPage,searchedLesson:state.lesson.searchedLesson,sortDirection:state.lesson.sortDirection};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{fetchAllLessons:function fetchAllLessons(currentPage,size,sortDir){return dispatch(_fetchAllLessons(currentPage,size,sortDir));},deleteLesson:function deleteLesson(lessonId){return dispatch(_deleteLesson(lessonId));},searchLessons:function searchLessons(searchedLesson,currentPage,sizePage){return dispatch(_searchLessons(searchedLesson,currentPage,sizePage));},updateLesson:function updateLesson(lesson){return dispatch(_updateLesson(lesson));}};};export default connect(mapStateToProps,mapDispatchToProps)(LessonList);","map":{"version":3,"sources":["/home/michal/Desktop/projekty/java/SurfSchoolSchedule/SurfSchoolSchedule/surf-school-schedule/src/components/Lesson/LessonList.js"],"names":["React","axios","Link","Card","Table","ButtonGroup","Button","InputGroup","FormControl","FontAwesomeIcon","faUsers","faWallet","faEdit","faTrash","faCalendarPlus","faStepBackward","faFastBackward","faStepForward","faFastForward","faSearch","faTimes","faCheckSquare","SuccessToast","connect","deleteLesson","fetchAllLessons","searchLessons","updateLesson","LessonList","props","idLesson","setTimeout","lesson","setState","currentPage","state","lessonsPerPage","sortDirection","changePage","event","target","parseInt","value","searchedLesson","searchLesson","sortToggle","name","firstPage","prevPage","lastPage","lessonsLength","lessons","length","Math","ceil","totalElements","nextPage","searchChange","forceUpdate","cancelSearch","sortData","lessonStatusChange","newStatus","status","checkIfLessonInThePast","yesterday","Date","setDate","getDate","renderFlag","i","temp","date","totalPages","pageNumCss","width","border","color","textAlign","fontWeight","searchBoxCss","map","id","instructor","firstName","lastName","student","time","howLong","nrStudents","bind","Component","mapStateToProps","mapDispatchToProps","dispatch","size","sortDir","lessonId","sizePage"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { Card, Table, ButtonGroup, Button, InputGroup, FormControl } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faUsers, faWallet, faEdit, faTrash, faCalendarPlus, faStepBackward, faFastBackward, faStepForward, faFastForward, faSearch, faTimes, faCheckSquare } from '@fortawesome/free-solid-svg-icons';\nimport SuccessToast from '../SuccessToast';\n\nimport { connect } from 'react-redux';\nimport { deleteLesson, fetchAllLessons, searchLessons, updateLesson } from './../../services/index';\n\nimport './../../style/Style.css';\n\n\nclass LessonList extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            lessons: [],\n            currentPage: 1,\n            lessonsPerPage: 5,\n            searchedLesson: '',\n            sortToggle: false\n        };\n    }\n\n    componentDidMount() {\n        this.props.fetchAllLessons(this.props.lesson.currentPage, this.state.lessonsPerPage, this.props.lesson.sortDirection);\n        setTimeout(() => {\n            this.checkIfLessonInThePast();\n        }, 1000)\n    }\n\n\n    //change status of lessons that have their date in the past (24 h back) and were not given into not given\n    checkIfLessonInThePast() {\n        let yesterday = new Date(new Date().setDate(new Date().getDate() - 1));\n\n        let length = this.props.lesson.lessons.length;\n        let renderFlag = false;\n        for (let i = 0; i < length; ++i) {\n            let temp = new Date(this.props.lesson.lessons[i].date);\n            if (this.props.lesson.lessons[i].status === \"To_Give\" && temp < yesterday) {\n                this.lessonStatusChange(this.props.lesson.lessons[i], 3)\n                //flag so that component is not unnecessarily rendered \n                if (!renderFlag)\n                    renderFlag = true;\n            }\n        }\n        if (renderFlag)\n            this.props.fetchAllLessons(this.props.lesson.currentPage, this.state.lessonsPerPage, this.props.lesson.sortDirection);\n    };\n\n    deleteLesson = (idLesson) => {\n\n        this.props.deleteLesson(idLesson);\n\n        setTimeout(() => {\n            if (this.props.lesson != null) {\n                this.setState({ \"show\": true });\n                setTimeout(() => this.setState({ \"show\": false }), 1000);\n\n            } else {\n                this.setState({ \"show\": false });\n            }\n        }, 1000);\n        this.props.fetchAllLessons(this.props.lesson.currentPage, this.state.lessonsPerPage, this.props.lesson.sortDirection);\n\n    };\n\n    changePage = event => {\n        let target = parseInt(event.target.value);\n        if (this.props.lesson.searchedLesson) {\n            this.searchLesson(target)\n        } else {\n            let sortDirection = this.state.sortToggle ? \"asc\" : \"desc\";\n            this.props.fetchAllLessons(target, this.state.lessonsPerPage, this.props.lesson.sortDirection);\n        }\n        this.setState({\n            [event.target.name]: target\n        });\n\n    };\n\n    firstPage = () => {\n        let firstPage = 1;\n\n        if (this.props.lesson.currentPage > firstPage) {\n            this.props.lesson.currentPage = 1;\n            if (this.props.lesson.searchedLesson) {\n                this.searchLesson(this.props.lesson.currentPage)\n            } else {\n                let sortDirection = this.state.sortToggle ? \"asc\" : \"desc\";\n                this.props.fetchAllLessons(this.props.lesson.currentPage, this.state.lessonsPerPage, this.props.lesson.sortDirection);\n            }\n        }\n    };\n\n    prevPage = () => {\n        if (this.props.lesson.currentPage > 1) {\n            --this.props.lesson.currentPage;\n            if (this.props.lesson.searchedLesson) {\n                this.searchLesson(this.props.lesson.currentPage)\n            } else {\n                let sortDirection = this.state.sortToggle ? \"asc\" : \"desc\";\n                this.props.fetchAllLessons(this.props.lesson.currentPage, this.state.lessonsPerPage, this.props.lesson.sortDirection);\n            }\n        }\n    };\n\n    lastPage = () => {\n        let lessonsLength = this.state.lessons.length;\n        let lastPage = Math.ceil(this.props.totalElements / this.state.lessonsPerPage);\n        if (this.props.lesson.currentPage < lastPage) {\n            this.props.lesson.currentPage = lastPage;\n            if (this.props.lesson.searchedLesson) {\n                this.searchLesson(this.props.lesson.currentPage)\n            } else {\n                this.props.fetchAllLessons(this.props.lesson.currentPage, this.state.lessonsPerPage, this.props.lesson.sortDirection);\n            }\n        }\n    };\n\n    nextPage = () => {\n        if (this.state.currentPage < Math.ceil(this.props.totalElements / this.state.lessonsPerPage)) {\n            ++this.props.lesson.currentPage;\n\n            if (this.props.lesson.searchedLesson) {\n                this.searchLesson(this.props.lesson.currentPage)\n            } else {\n                let sortDirection = this.state.sortToggle ? \"asc\" : \"desc\";\n                this.props.fetchAllLessons(this.props.lesson.currentPage, this.state.lessonsPerPage, this.props.lesson.sortDirection);\n            }\n        }\n    };\n\n    searchChange = event => {\n        this.props.lesson.searchedLesson = event.target.value;\n        this.forceUpdate();\n    };\n\n    cancelSearch = () => {\n        this.props.lesson.searchedLesson = '';\n        this.props.fetchAllLessons(this.props.lesson.currentPage, this.state.lessonsPerPage, this.props.lesson.sortDirection);\n        this.forceUpdate();\n    };\n\n    sortData = () => {\n        if (this.props.lesson.sortDirection === \"asc\")\n            this.props.lesson.sortDirection = \"desc\";\n        else\n            this.props.lesson.sortDirection = \"asc\";\n        this.props.fetchAllLessons(this.props.lesson.currentPage, this.state.lessonsPerPage, this.props.lesson.sortDirection);\n\n    }\n\n    searchLesson = (currentPage) => {\n        if (this.props.lesson.searchedLesson)\n            this.props.searchLessons(this.props.lesson.searchedLesson, this.props.lesson.currentPage, this.props.lesson.lessonsPerPage);\n    }\n\n\n    lessonStatusChange = (lesson, newStatus) => {\n        lesson.status = newStatus;\n        this.props.updateLesson(lesson);\n        this.props.fetchAllLessons(this.props.lesson.currentPage, this.state.lessonsPerPage, this.props.lesson.sortDirection);\n    }\n\n\n\n    render() {\n        const searchedLesson = this.props.lesson.searchedLesson;\n        const totalPages = this.props.lesson.totalPages;\n        const totalElements = this.props.lesson.totalElements;\n        const lesson = this.props.lesson;\n        const lessons = this.props.lessons;\n        const currentPage = this.props.lesson.currentPage;\n        const sortDirection = this.props.lesson.sortDirection;\n\n        const pageNumCss = {\n            width: \"45px\",\n            border: \"1px solid #F8F8FF\",\n            color: \"#F8F8FF\",\n            textAlign: \"center\",\n            fontWeight: \"bold\"\n        };\n\n        const searchBoxCss = {\n            width: \"100px\",\n            border: \"1px solid #17A2B8\",\n            color: \"#17A2B8\",\n            textAlign: \"center\",\n            fontWeight: \"bold\"\n        };\n\n\n        return (\n            <div>\n                <div style={{ \"float\": \"right\" }}>\n\n                </div>\n                <Card className={\" bg-dark text-white\"}>\n                    <Card.Header>\n                        <div style={{ \"float\": \"left\" }}>\n                            <FontAwesomeIcon icon={faUsers} />     Lessons List\n                        </div>\n\n                        <div style={{ \"float\": \"right\" }}>\n                            <InputGroup size=\"sm\">\n                                <FormControl style={searchBoxCss} className={\"bg-dark\"} name=\"searchedLesson\" value={searchedLesson} placeholder=\"Search\"\n                                    onChange={this.searchChange} />\n                                <InputGroup.Append>\n                                    <Button size=\"sm\" variant=\"outline-info\" type=\"button\" onClick={this.searchLesson}>\n                                        <FontAwesomeIcon icon={faSearch} />\n                                    </Button>\n                                    <Button size=\"sm\" variant=\"outline-danger\" type=\"button\" onClick={this.cancelSearch}>\n                                        <FontAwesomeIcon icon={faTimes} />\n                                    </Button>\n                                </InputGroup.Append>\n                            </InputGroup>\n                        </div>\n\n                    </Card.Header>\n                    <Card.Body>\n                        <Table striped bordered hover variant=\"dark\">\n                            <thead>\n                                <tr>\n                                    <th>Instructor</th>\n                                    <th>Student</th>\n                                    <th onClick={this.sortData}> Date <div className={this.state.sortToggle ? \"arrow arrow-down\" : \"arrow arrow-up\"} /> </th>\n                                    <th>Time</th>\n                                    <th>How Long [h]</th>\n                                    <th>Nr of Students</th>\n                                    <th>Status</th>\n                                    <th>Actions</th>\n                                </tr>\n                            </thead>\n\n\n                            <tbody>\n                                {lessons.length === 0 ?\n                                    <tr align=\"center\">\n                                        <td colSpan=\"10\"> No Lessons in the Data Base</td>\n                                    </tr> :\n\n                                    lessons.map(lesson => (\n                                        <tr key={lesson.id}>\n                                            <td>{lesson.instructor.firstName + \" \" + lesson.instructor.lastName}</td>\n                                            <td>{lesson.student.firstName + \" \" + lesson.student.lastName}</td>\n                                            <td>{lesson.date}</td>\n                                            <td>{lesson.time}</td>\n                                            <td>{lesson.howLong}</td>\n                                            <td>{lesson.nrStudents}</td>\n                                            <td>{lesson.status}</td>\n                                            <td>\n                                                <ButtonGroup>\n                                                    <Button size=\"sm\" variant=\"outline-success\" onClick={this.lessonStatusChange.bind(this, lesson, 2)}> <FontAwesomeIcon icon={faCheckSquare} /> </Button>\n                                                    <Link to={\"editLesson/\" + lesson.id}> <Button size=\"sm\" variant=\"outline-primary\"> <FontAwesomeIcon icon={faEdit} /> </Button> </Link>\n                                                    <Button size=\"sm\" variant=\"outline-danger\" onClick={this.deleteLesson.bind(this, lesson.id)}> <FontAwesomeIcon icon={faTrash} /> </Button>\n                                                </ButtonGroup>\n                                            </td>\n\n                                        </tr>\n                                    ))\n                                }\n                            </tbody>\n                        </Table>\n                    </Card.Body>\n                    <Card.Footer>\n                        <div style={{ \"float\": \"left\" }}>\n                            <Link to={\"add-lesson\"} className=\"nav-link\">\n                                <ButtonGroup>\n                                    <Button size=\"lg\" variant=\"outline-light\"> <FontAwesomeIcon icon={faCalendarPlus} /> </Button>\n                                </ButtonGroup>\n                            </Link>\n                            Page {currentPage} of {totalPages === 0 ? 1 : totalPages}\n                        </div>\n\n                        <div style={{ \"float\": \"right\" }}>\n                            <InputGroup size=\"sm\">\n                                <InputGroup.Prepend>\n                                    <Button type=\"button\" variant=\"outline-light\" disabled={currentPage === 1 ? true : false}\n                                        onClick={this.firstPage}>\n                                        <FontAwesomeIcon icon={faFastBackward} /> First\n                                            </Button>\n                                    <Button type=\"button\" variant=\"outline-light\" disabled={currentPage === 1 ? true : false}\n                                        onClick={this.prevPage}>\n                                        <FontAwesomeIcon icon={faStepBackward} /> Prev\n                                            </Button>\n                                </InputGroup.Prepend>\n                                <FormControl style={pageNumCss} className={\"page-num bg-dark\"} name=\"currentPage\" value={currentPage}\n                                    onChange={this.changePage} />\n                                <InputGroup.Append>\n                                    <Button type=\"button\" variant=\"outline-light\" disabled={currentPage === totalPages ? true : false}\n                                        onClick={this.nextPage}>\n                                        <FontAwesomeIcon icon={faStepForward} /> Next\n                                            </Button>\n                                    <Button type=\"button\" variant=\"outline-light\" disabled={currentPage === totalPages ? true : false}\n                                        onClick={this.lastPage}>\n                                        <FontAwesomeIcon icon={faFastForward} /> Last\n                                            </Button>\n                                </InputGroup.Append>\n                            </InputGroup>\n                        </div>\n\n                    </Card.Footer>\n                </Card>\n            </div>\n        );\n    }\n\n}\n\nconst mapStateToProps = state => {\n    return {\n        lesson: state.lesson,\n        lessons: state.lesson.lessons,\n        totalPages: state.lesson.totalPages,\n        totalElements: state.lesson.totalElements,\n        currentPage: state.lesson.currentPage,\n        searchedLesson: state.lesson.searchedLesson,\n        sortDirection: state.lesson.sortDirection\n    }\n};\n\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        fetchAllLessons: (currentPage, size, sortDir) => dispatch(fetchAllLessons(currentPage, size, sortDir)),\n        deleteLesson: (lessonId) => dispatch(deleteLesson(lessonId)),\n        searchLessons: (searchedLesson, currentPage, sizePage) => dispatch(searchLessons(searchedLesson, currentPage, sizePage)),\n        updateLesson: (lesson) => dispatch(updateLesson(lesson))\n    }\n\n};\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LessonList);"]},"metadata":{},"sourceType":"module"}