{"ast":null,"code":"var _jsxFileName = \"/home/michal/Desktop/projekty/java/SurfSchoolSchedule/SurfSchoolSchedule/surf-school-schedule/src/components/Student/StudentSettle.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { Card, Table, ButtonGroup, Button, InputGroup, FormControl, Form, Col } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faWallet, faMoneyCheckAlt, faUndo, faArrowLeft, faList } from '@fortawesome/free-solid-svg-icons';\nimport SuccessToast from '../SuccessToast';\nimport StudentLessonsList from './StudentLessonsList';\nimport { connect } from 'react-redux';\nimport { deleteLesson, fetchAllLessonsForStudent, searchLessons, updateLesson, fetchStudent, fetchAllPriceTables, fetchPriceTableWithNrOfLessons, updateStudent } from './../../services/index';\nimport './../../style/Style.css';\n\nclass StudentSettle extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.countTotalPrice = () => {\n      let tempTotalPrice = this.state.priceOneH[0] * this.state.howMany1p;\n      tempTotalPrice += this.state.priceOneH[1] * this.state.howMany2p;\n      tempTotalPrice += this.state.priceOneH[2] * this.state.howMany3p;\n      tempTotalPrice = tempTotalPrice * (100 - this.state.discount) / 100;\n      if (this.props.student.student.moneyInAdvance) tempTotalPrice -= this.props.student.student.moneyInAdvance;\n      this.setState({\n        totalPrice: tempTotalPrice\n      });\n    };\n\n    this.countLessons = () => {\n      let lessons = this.props.lessons;\n      lessons = lessons.filter(lesson => lesson.status === \"Finished_Unpaid\");\n      let count1p = 0;\n      let count2p = 0;\n      let count3p = 0;\n\n      for (let i = 0; i < lessons.length; ++i) {\n        switch (lessons[i].nrStudents) {\n          case 1:\n            count1p += lessons[i].howLong;\n            break;\n\n          case 2:\n            count2p += lessons[i].howLong;\n            break;\n\n          default:\n            count3p += lessons[i].howLong;\n            break;\n        }\n\n        this.setState({\n          howMany1p: count1p,\n          howMany2p: count2p,\n          howMany3p: count3p\n        });\n      }\n    };\n\n    this.findAllPriceTables = () => {\n      let fullNrOfLessons = this.props.student.student.lessonHours;\n      this.props.fetchPriceTableWithNrOfLessons(fullNrOfLessons);\n      setTimeout(() => {\n        this.props.fetchAllPriceTables(this.props.priceTable.priceTable);\n      }, 100);\n      setTimeout(() => {\n        this.setState({\n          priceTable: this.props.priceTable.priceTable\n        });\n        this.setPriceOneH();\n      }, 100);\n    };\n\n    this.setPriceOneH = () => {\n      // let priceOneHTab = [this.props.priceTable.priceTable.onePPrice, this.props.priceTable.priceTable.twoPPrice, this.props.priceTable.priceTable.threePPrice]\n      let priceOneHTab;\n\n      if (this.state.customPrice) {\n        priceOneHTab = [this.state.customPrice, this.state.customPrice, this.state.customPrice];\n      } else {\n        let tempPriceTab;\n        if (typeof this.state.priceTable !== 'object') tempPriceTab = JSON.parse(this.state.priceTable);else tempPriceTab = this.state.priceTable;\n        priceOneHTab = [tempPriceTab.onePPrice, tempPriceTab.twoPPrice, tempPriceTab.threePPrice];\n      }\n\n      this.setState({\n        priceOneH: priceOneHTab\n      });\n    };\n\n    this.findStudentById = idStudent => {\n      this.props.fetchStudent(idStudent);\n      setTimeout(() => {\n        let student = this.props.student.student;\n\n        if (student != null) {\n          this.setState({\n            student: student // id: student.id,\n            // lastName: student.lastName,\n            // firstName: student.firstName,\n            // idCardNr: student.idCardNr,\n            // telNr: student.telNr,\n            // paymentStatus: student.paymentStatus,\n            // lessonHours: student.lessonHours,\n            // unpaidLessons: student.unpaidLessons,\n            // moneyOwing: student.moneyOwing,\n            // moneyInAdvance: student.moneyInAdvance\n\n          });\n        }\n      }, 1000);\n    };\n\n    this.settleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n      this.setPriceOneH();\n      setTimeout(() => {\n        this.setPriceOneH();\n        this.countTotalPrice();\n      }, 100);\n    };\n\n    this.handleCheckboxCustomPriceChange = () => {\n      this.setState({\n        disableCustomPrice: !this.state.disableCustomPrice,\n        customPrice: ''\n      });\n      setTimeout(() => {\n        if (this.state.disableCustomPrice) {\n          this.setPriceOneH();\n          this.countTotalPrice();\n        }\n      }, 10);\n    };\n\n    this.handleCheckboxDiscountChange = () => {\n      this.setState({\n        disableDiscount: !this.state.disableDiscount,\n        discount: ''\n      });\n      setTimeout(() => {\n        if (this.state.disableDiscount) {\n          this.setPriceOneH();\n          this.countTotalPrice();\n        }\n      }, 10);\n    };\n\n    this.returnToStudentList = () => {\n      return this.props.history.push(\"/students\");\n    };\n\n    this.settleStudent = () => {\n      const studentLessons = this.props.lessons;\n\n      for (let i = 0; i < studentLessons.length; ++i) {\n        if (studentLessons[i].status === 'Finished_Unpaid') {\n          const lesson = {\n            id: studentLessons[i].id,\n            instructor: studentLessons[i].instructor,\n            student: studentLessons[i].student,\n            date: studentLessons[i].date,\n            time: studentLessons[i].time,\n            howLong: studentLessons[i].howLong,\n            nrStudents: studentLessons[i].nrStudents,\n            status: \"Finished_Paid\"\n          }; //  console.log(lesson);\n\n          this.props.updateLesson(lesson);\n        }\n      }\n\n      if (this.state.totalPrice < 0) var newMoneyInAdvance = -this.state.totalPrice; //let newStudentStatus = \"We_Owe\"\n      // Owes_Us\n      else var newMoneyInAdvance = 0;\n      const student = {\n        id: this.props.student.student.id,\n        lastName: this.props.student.student.lastName,\n        firstName: this.props.student.student.firstName,\n        idCardNr: this.props.student.student.idCardNr,\n        telNr: this.props.student.student.telNr,\n        //paymentStatus: this.props.student.student.paymentStatus,\n        lessonHours: this.props.student.student.lessonHours,\n        unpaidLessons: this.props.student.student.unpaidLessons,\n        moneyOwing: this.props.student.student.moneyOwing,\n        moneyInAdvance: newMoneyInAdvance\n      }; // console.log(student);\n\n      this.props.updateStudent(student);\n      setTimeout(() => {\n        if (!this.props.student.error && !this.props.lesson.error) {\n          this.setState({\n            \"showSuccesMessage\": true\n          });\n          setTimeout(() => this.setState({\n            \"showSuccessMessage\": false\n          }), 3000);\n          setTimeout(() => this.returnToStudentList(), 1000);\n        } else {\n          this.setState({\n            \"showInvalidMessage\": true,\n            \"method\": \"post\"\n          });\n          setTimeout(() => this.setState({\n            \"showInvalidMessage\": false\n          }), 3000);\n        }\n      }, 2000);\n    };\n\n    this.listButtonHandle = () => {\n      this.setState({\n        showLessonList: !this.state.showLessonList\n      });\n    };\n\n    this.state = {\n      idStudent: +this.props.match.params.id,\n      student: '',\n      lessons: [],\n      priceTable: '',\n      priceOneH: [],\n      customPrice: '',\n      discount: '',\n      totalPrice: '',\n      howMany1p: '',\n      howMany2p: '',\n      howMany3p: '',\n      currentPage: 1,\n      lessonsPerPage: 20,\n      searchedLesson: '',\n      sortToggle: false,\n      disableCustomPrice: true,\n      disableDiscount: true,\n      showSuccessMessage: false,\n      showLessonList: false\n    };\n  }\n\n  componentDidMount() {\n    this.findStudentById(this.state.idStudent);\n    this.props.fetchAllLessonsForStudent(+this.props.match.params.id, 1, this.state.lessonsPerPage);\n    setTimeout(() => {\n      this.findAllPriceTables();\n      this.countLessons();\n      setTimeout(() => {\n        this.countTotalPrice();\n      }, 100);\n    }, 1000);\n  }\n\n  render() {\n    const searchedLesson = this.props.lesson.searchedLesson;\n    const totalPages = this.props.lesson.totalPages;\n    const totalElements = this.props.lesson.totalElements;\n    const lesson = this.props.lesson;\n    const lessons = this.props.lessons;\n    const currentPage = this.props.lesson.currentPage;\n    const student = this.props.student.student;\n    const {\n      moneyInAdvance,\n      unpaidLessons,\n      paymentStatus,\n      lessonHours\n    } = this.props.student.student;\n    const priceTables = this.props.priceTable.priceTables;\n    const {\n      priceTable,\n      priceOneH,\n      discount,\n      totalPrice,\n      payForHowMany,\n      howMany1p,\n      howMany2p,\n      howMany3p,\n      customPrice\n    } = this.state;\n    const pageNumCss = {\n      width: \"45px\",\n      border: \"1px solid #F8F8FF\",\n      color: \"#F8F8FF\",\n      textAlign: \"center\",\n      fontWeight: \"bold\"\n    };\n    const searchBoxCss = {\n      width: \"100px\",\n      border: \"1px solid #17A2B8\",\n      color: \"#17A2B8\",\n      textAlign: \"center\",\n      fontWeight: \"bold\"\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        \"display\": this.state.show ? \"block\" : \"none\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(SuccessToast, {\n      show: this.state.show,\n      message: \"Student Settled Successfully\",\n      type: \"success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(StudentLessonsList, {\n      showLessonList: this.state.showLessonList,\n      student: student,\n      onClose: this.listButtonHandle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Card, {\n      className: \"border border-dark bg-dark text-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Card.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faWallet,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 25\n      }\n    }), \" Settle Student\"), /*#__PURE__*/React.createElement(Form, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"container\",\n      style: {\n        \"clear\": \"both\",\n        \"display\": \"flex\",\n        \"justifyContent\": \"space-between\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 37\n      }\n    }, \"Student\"), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 37\n      }\n    }, student.firstName + \" \" + student.lastName), /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 37\n      }\n    }, \"Full Nr of Lessons [h]\"), /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 37\n      }\n    }, lessonHours), /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 37\n      }\n    }, \"Nr of Unpaid Lessons [h] (1p/2p/+3p)\"), /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 37\n      }\n    }, unpaidLessons, \" (\", howMany1p ? howMany1p : 0, \"/\", howMany2p ? howMany2p : 0, \"/\", howMany3p ? howMany3p : 0, \")\"), /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 37\n      }\n    }, \"Money in advance [zl]\"), /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 37\n      }\n    }, moneyInAdvance), /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 37\n      }\n    }, \"Total price\"), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 37\n      }\n    }, totalPrice ? totalPrice : 0, \" zl\")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridPriceTables\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 41\n      }\n    }, \"Offer\"), /*#__PURE__*/React.createElement(Form.Control, {\n      disabled: !this.state.disableCustomPrice,\n      required: true,\n      as: \"select\",\n      autoComplete: \"off\",\n      name: \"priceTable\",\n      value: priceTable,\n      onChange: this.settleChange,\n      className: \"bg-dark text-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 41\n      }\n    }, this.state.disableCustomPrice ? priceTables.map(priceTable => /*#__PURE__*/React.createElement(\"option\", {\n      key: priceTable.id,\n      value: JSON.stringify(priceTable),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 49\n      }\n    }, priceTable.name + \" \" + priceTable.minNrHours + \"h\")) : \"\")), /*#__PURE__*/React.createElement(InputGroup, {\n      className: \"mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(InputGroup.Prepend, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(InputGroup.Checkbox, {\n      onChange: () => this.handleCheckboxCustomPriceChange(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 45\n      }\n    })), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridCustomPrice\",\n      name: \"customPrice\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 45\n      }\n    }, \"Custom Price\"), /*#__PURE__*/React.createElement(Form.Control, {\n      disabled: this.state.disableCustomPrice,\n      autoComplete: \"off\",\n      type: \"test\",\n      name: \"customPrice\",\n      value: customPrice,\n      onChange: this.settleChange,\n      placeholder: this.state.disableCustomPrice ? \"\" : \"Enter Price [zl]\",\n      className: \"bg-dark text-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 45\n      }\n    }))), /*#__PURE__*/React.createElement(InputGroup, {\n      className: \"mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(InputGroup.Prepend, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(InputGroup.Checkbox, {\n      onChange: () => this.handleCheckboxDiscountChange(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 45\n      }\n    })), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridDiscount\",\n      name: \"discount\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 45\n      }\n    }, \"Discount [%]\"), /*#__PURE__*/React.createElement(Form.Control, {\n      disabled: this.state.disableDiscount,\n      autoComplete: \"off\",\n      type: \"test\",\n      name: \"discount\",\n      value: discount,\n      onChange: this.settleChange,\n      placeholder: this.state.disableDiscount ? \"\" : \"Enter Discount [%]\",\n      className: \"bg-dark text-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 45\n      }\n    })))))), /*#__PURE__*/React.createElement(Card.Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"container\",\n      style: {\n        \"clear\": \"both\",\n        \"display\": \"flex\",\n        \"justifyContent\": \"space-between\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      size: \"sm\",\n      variant: \"info\",\n      onClick: () => this.settleStudent(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faMoneyCheckAlt,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 41\n      }\n    }), \"  Settle\"), '      ', /*#__PURE__*/React.createElement(Button, {\n      size: \"sm\",\n      variant: \"secondary\",\n      type: \"reset\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faUndo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 41\n      }\n    }), \"  Reset\")), /*#__PURE__*/React.createElement(Button, {\n      size: \"bg\",\n      variant: \"light\",\n      onClick: () => this.listButtonHandle(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faList,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 37\n      }\n    }), \"  Lessons List\")), '      ', /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      size: \"sm\",\n      variant: \"light\",\n      type: \"button\",\n      onClick: () => this.returnToStudentList(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faArrowLeft,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 37\n      }\n    }), \"  Return\"))))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    lessons: state.lesson.lessons,\n    lesson: state.lesson.lesson,\n    student: state.student,\n    priceTable: state.priceTable\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    fetchAllLessonsForStudent: (studentId, currentPage, size) => dispatch(fetchAllLessonsForStudent(studentId, currentPage, size)),\n    deleteLesson: lessonId => dispatch(deleteLesson(lessonId)),\n    searchLessons: (searchedLesson, currentPage, sizePage) => dispatch(searchLessons(searchedLesson, currentPage, sizePage)),\n    updateLesson: lesson => dispatch(updateLesson(lesson)),\n    fetchStudent: studentId => dispatch(fetchStudent(studentId)),\n    fetchAllPriceTables: firstElement => dispatch(fetchAllPriceTables(firstElement)),\n    fetchPriceTableWithNrOfLessons: fullNrOfLessons => dispatch(fetchPriceTableWithNrOfLessons(fullNrOfLessons)),\n    updateStudent: student => dispatch(updateStudent(student))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(StudentSettle);","map":{"version":3,"sources":["/home/michal/Desktop/projekty/java/SurfSchoolSchedule/SurfSchoolSchedule/surf-school-schedule/src/components/Student/StudentSettle.js"],"names":["React","axios","Link","Card","Table","ButtonGroup","Button","InputGroup","FormControl","Form","Col","FontAwesomeIcon","faWallet","faMoneyCheckAlt","faUndo","faArrowLeft","faList","SuccessToast","StudentLessonsList","connect","deleteLesson","fetchAllLessonsForStudent","searchLessons","updateLesson","fetchStudent","fetchAllPriceTables","fetchPriceTableWithNrOfLessons","updateStudent","StudentSettle","Component","constructor","props","countTotalPrice","tempTotalPrice","state","priceOneH","howMany1p","howMany2p","howMany3p","discount","student","moneyInAdvance","setState","totalPrice","countLessons","lessons","filter","lesson","status","count1p","count2p","count3p","i","length","nrStudents","howLong","findAllPriceTables","fullNrOfLessons","lessonHours","setTimeout","priceTable","setPriceOneH","priceOneHTab","customPrice","tempPriceTab","JSON","parse","onePPrice","twoPPrice","threePPrice","findStudentById","idStudent","settleChange","event","target","name","value","handleCheckboxCustomPriceChange","disableCustomPrice","handleCheckboxDiscountChange","disableDiscount","returnToStudentList","history","push","settleStudent","studentLessons","id","instructor","date","time","newMoneyInAdvance","lastName","firstName","idCardNr","telNr","unpaidLessons","moneyOwing","error","listButtonHandle","showLessonList","match","params","currentPage","lessonsPerPage","searchedLesson","sortToggle","showSuccessMessage","componentDidMount","render","totalPages","totalElements","paymentStatus","priceTables","payForHowMany","pageNumCss","width","border","color","textAlign","fontWeight","searchBoxCss","show","map","stringify","minNrHours","mapStateToProps","mapDispatchToProps","dispatch","studentId","size","lessonId","sizePage","firstElement"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { Card, Table, ButtonGroup, Button, InputGroup, FormControl, Form, Col } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faWallet, faMoneyCheckAlt, faUndo, faArrowLeft, faList } from '@fortawesome/free-solid-svg-icons';\nimport SuccessToast from '../SuccessToast';\nimport StudentLessonsList from './StudentLessonsList';\nimport { connect } from 'react-redux';\nimport {\n    deleteLesson, fetchAllLessonsForStudent, searchLessons, updateLesson,\n    fetchStudent, fetchAllPriceTables, fetchPriceTableWithNrOfLessons, updateStudent\n} from './../../services/index';\n\nimport './../../style/Style.css';\n\n\nclass StudentSettle extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            idStudent: +this.props.match.params.id,\n            student: '',\n            lessons: [],\n            priceTable: '',\n            priceOneH: [],\n            customPrice: '',\n            discount: '',\n            totalPrice: '',\n            howMany1p: '',\n            howMany2p: '',\n            howMany3p: '',\n            currentPage: 1,\n            lessonsPerPage: 20,\n            searchedLesson: '',\n            sortToggle: false,\n            disableCustomPrice: true,\n            disableDiscount: true,\n            showSuccessMessage: false,\n            showLessonList: false\n        };\n    }\n\n    componentDidMount() {\n        this.findStudentById(this.state.idStudent);\n        this.props.fetchAllLessonsForStudent(+this.props.match.params.id, 1, this.state.lessonsPerPage);\n        setTimeout(() => {\n            this.findAllPriceTables();\n            this.countLessons();\n            setTimeout(() => { this.countTotalPrice() }, 100);\n        }, 1000);\n\n    }\n\n    countTotalPrice = () => {\n        let tempTotalPrice = this.state.priceOneH[0] * this.state.howMany1p;\n        tempTotalPrice += this.state.priceOneH[1] * this.state.howMany2p;\n        tempTotalPrice += this.state.priceOneH[2] * this.state.howMany3p;\n        tempTotalPrice = tempTotalPrice * (100 - this.state.discount) / 100\n        if (this.props.student.student.moneyInAdvance)\n            tempTotalPrice -= this.props.student.student.moneyInAdvance;\n        this.setState({\n            totalPrice: tempTotalPrice\n        });\n\n    }\n\n    countLessons = () => {\n        let lessons = this.props.lessons;\n\n        lessons = lessons.filter(lesson => lesson.status === \"Finished_Unpaid\");\n        let count1p = 0;\n        let count2p = 0;\n        let count3p = 0;\n        for (let i = 0; i < lessons.length; ++i) {\n            switch (lessons[i].nrStudents) {\n                case 1:\n                    count1p += lessons[i].howLong;\n                    break;\n                case 2:\n                    count2p += lessons[i].howLong;\n                    break;\n                default:\n                    count3p += lessons[i].howLong;\n                    break;\n            }\n            this.setState({\n                howMany1p: count1p,\n                howMany2p: count2p,\n                howMany3p: count3p\n            });\n        }\n    }\n\n\n    findAllPriceTables = () => {\n        let fullNrOfLessons = this.props.student.student.lessonHours;\n        this.props.fetchPriceTableWithNrOfLessons(fullNrOfLessons);\n        setTimeout(() => {\n            this.props.fetchAllPriceTables(this.props.priceTable.priceTable);\n        }, 100);\n        setTimeout(() => {\n            this.setState({\n                priceTable: this.props.priceTable.priceTable\n            });\n            this.setPriceOneH();\n        }, 100);\n\n    }\n\n    setPriceOneH = () => {\n        // let priceOneHTab = [this.props.priceTable.priceTable.onePPrice, this.props.priceTable.priceTable.twoPPrice, this.props.priceTable.priceTable.threePPrice]\n        let priceOneHTab;\n        if (this.state.customPrice) {\n            priceOneHTab = [this.state.customPrice, this.state.customPrice, this.state.customPrice]\n        }\n        else {\n            let tempPriceTab;\n            if (typeof (this.state.priceTable) !== 'object')\n                tempPriceTab = JSON.parse(this.state.priceTable);\n            else\n                tempPriceTab = this.state.priceTable;\n            priceOneHTab = [tempPriceTab.onePPrice, tempPriceTab.twoPPrice, tempPriceTab.threePPrice]\n        }\n        this.setState({ priceOneH: priceOneHTab })\n    }\n\n    findStudentById = (idStudent) => {\n\n        this.props.fetchStudent(idStudent);\n        setTimeout(() => {\n\n            let student = this.props.student.student;\n            if (student != null) {\n                this.setState({\n                    student: student\n                    // id: student.id,\n                    // lastName: student.lastName,\n                    // firstName: student.firstName,\n                    // idCardNr: student.idCardNr,\n                    // telNr: student.telNr,\n                    // paymentStatus: student.paymentStatus,\n                    // lessonHours: student.lessonHours,\n                    // unpaidLessons: student.unpaidLessons,\n                    // moneyOwing: student.moneyOwing,\n                    // moneyInAdvance: student.moneyInAdvance\n                });\n            }\n        }, 1000);\n    };\n\n\n    // lessonStatusChange = (lesson, newStatus) => {\n    //     lesson.status = newStatus;\n    //     this.props.updateLesson(lesson);\n    //     this.props.fetchAllLessonsForStudent(+this.props.match.params.id, this.props.lesson.currentPage, this.state.lessonsPerPage);\n    // }\n\n    settleChange = event => {\n\n        this.setState({\n            [event.target.name]: event.target.value,\n        });\n        this.setPriceOneH();\n        setTimeout(() => {\n            this.setPriceOneH();\n\n            this.countTotalPrice();\n        }, 100);\n\n    };\n\n    handleCheckboxCustomPriceChange = () => {\n        this.setState({\n            disableCustomPrice: !this.state.disableCustomPrice,\n            customPrice: ''\n        });\n\n        setTimeout(() => {\n            if (this.state.disableCustomPrice) {\n                this.setPriceOneH();\n                this.countTotalPrice();\n            }\n        }, 10);\n    }\n\n    handleCheckboxDiscountChange = () => {\n        this.setState({\n            disableDiscount: !this.state.disableDiscount,\n            discount: ''\n        });\n\n        setTimeout(() => {\n            if (this.state.disableDiscount) {\n                this.setPriceOneH();\n                this.countTotalPrice();\n            }\n        }, 10);\n    }\n\n    returnToStudentList = () => {\n        return this.props.history.push(\"/students\");\n    };\n\n    settleStudent = () => {\n        const studentLessons = this.props.lessons\n        for (let i = 0; i < studentLessons.length; ++i) {\n            if (studentLessons[i].status === 'Finished_Unpaid') {\n                const lesson = {\n                    id: studentLessons[i].id,\n                    instructor: studentLessons[i].instructor,\n                    student: studentLessons[i].student,\n                    date: studentLessons[i].date,\n                    time: studentLessons[i].time,\n                    howLong: studentLessons[i].howLong,\n                    nrStudents: studentLessons[i].nrStudents,\n                    status: \"Finished_Paid\"\n                };\n                //  console.log(lesson);\n                this.props.updateLesson(lesson);\n            }\n        }\n\n        if (this.state.totalPrice < 0)\n            var newMoneyInAdvance = -this.state.totalPrice;\n        //let newStudentStatus = \"We_Owe\"\n        // Owes_Us\n        else\n            var newMoneyInAdvance = 0;\n\n        const student = {\n            id: this.props.student.student.id,\n            lastName: this.props.student.student.lastName,\n            firstName: this.props.student.student.firstName,\n            idCardNr: this.props.student.student.idCardNr,\n            telNr: this.props.student.student.telNr,\n            //paymentStatus: this.props.student.student.paymentStatus,\n            lessonHours: this.props.student.student.lessonHours,\n            unpaidLessons: this.props.student.student.unpaidLessons,\n            moneyOwing: this.props.student.student.moneyOwing,\n            moneyInAdvance: newMoneyInAdvance\n        };\n        // console.log(student);\n\n\n        this.props.updateStudent(student);\n\n        setTimeout(() => {\n\n            if (!this.props.student.error && !this.props.lesson.error) {\n                this.setState({ \"showSuccesMessage\": true });\n                setTimeout(() => this.setState({ \"showSuccessMessage\": false }), 3000);\n                setTimeout(() => this.returnToStudentList(), 1000);\n            } else {\n                this.setState({ \"showInvalidMessage\": true, \"method\": \"post\" });\n                setTimeout(() => this.setState({ \"showInvalidMessage\": false }), 3000);\n            }\n        }, 2000);\n    }\n\n    listButtonHandle = () => {\n            this.setState({\n                showLessonList: !this.state.showLessonList\n            });\n    }\n\n    render() {\n        const searchedLesson = this.props.lesson.searchedLesson;\n        const totalPages = this.props.lesson.totalPages;\n        const totalElements = this.props.lesson.totalElements;\n        const lesson = this.props.lesson;\n        const lessons = this.props.lessons;\n        const currentPage = this.props.lesson.currentPage;\n        const student = this.props.student.student;\n        const { moneyInAdvance, unpaidLessons, paymentStatus, lessonHours } = this.props.student.student;\n        const priceTables = this.props.priceTable.priceTables;\n        const { priceTable, priceOneH, discount, totalPrice, payForHowMany, howMany1p, howMany2p, howMany3p, customPrice } = this.state;\n\n        const pageNumCss = {\n            width: \"45px\",\n            border: \"1px solid #F8F8FF\",\n            color: \"#F8F8FF\",\n            textAlign: \"center\",\n            fontWeight: \"bold\"\n        };\n\n        const searchBoxCss = {\n            width: \"100px\",\n            border: \"1px solid #17A2B8\",\n            color: \"#17A2B8\",\n            textAlign: \"center\",\n            fontWeight: \"bold\"\n        };\n\n        return (\n            <div>\n                <div style={{ \"display\": this.state.show ? \"block\" : \"none\" }}>\n                    <SuccessToast show={this.state.show} message={\"Student Settled Successfully\"} type=\"success\" />\n                </div>\n\n                <StudentLessonsList showLessonList={this.state.showLessonList} student={student}\n                    onClose={this.listButtonHandle} />\n                {/* <div style={{ \"display\": this.state.showInvalidMessage ? \"block\" : \"none\" }}>\n                <SuccessToast show={this.state.showInvalidMessage} message={\"Invalid Data - might be in the data base already\"} type=\"dangerNoSuccess\" />\n            </div> */}\n\n                <Card className={\"border border-dark bg-dark text-white\"}>\n                    <Card.Header>\n                        <FontAwesomeIcon icon={faWallet} /> Settle Student\n                </Card.Header>\n                    <Form >\n                        <Card.Body>\n                            <div id=\"container\" style={{ \"clear\": \"both\", \"display\": \"flex\", \"justifyContent\": \"space-between\" }}>\n\n                                <div>\n                                    <h5>Student</h5>\n                                    <h4>{student.firstName + \" \" + student.lastName}</h4>\n\n                                    <h6>Full Nr of Lessons [h]</h6>\n                                    <h5>{lessonHours}</h5>\n\n                                    <h6>Nr of Unpaid Lessons [h] (1p/2p/+3p)</h6>\n                                    <h5>{unpaidLessons} ({howMany1p ? howMany1p : 0}/{howMany2p ? howMany2p : 0}/{howMany3p ? howMany3p : 0})</h5>\n\n                                    <h6>Money in advance [zl]</h6>\n                                    <h5>{moneyInAdvance}</h5>\n\n                                    <h5>Total price</h5>\n                                    <h4>{totalPrice ? totalPrice : 0} zl</h4>\n\n                                </div>\n                                <div>\n                                    <Form.Group as={Col} controlId=\"formGridPriceTables\">\n                                        <Form.Label>Offer</Form.Label>\n                                        <Form.Control\n                                            disabled={!this.state.disableCustomPrice}\n                                            required as=\"select\"\n                                            autoComplete=\"off\"\n                                            name=\"priceTable\"\n                                            value={priceTable}\n                                            onChange={this.settleChange}\n                                            className={\"bg-dark text-white\"} >\n                                            {this.state.disableCustomPrice ? priceTables.map(priceTable =>\n                                                <option key={priceTable.id} value={JSON.stringify(priceTable)}>\n                                                    {priceTable.name + \" \" + priceTable.minNrHours + \"h\"\n                                                    }\n                                                </option>\n                                            ) : \"\"}\n                                        </Form.Control>\n                                    </Form.Group>\n\n                                    <InputGroup className=\"mb-3\">\n                                        <InputGroup.Prepend >\n                                            <InputGroup.Checkbox onChange={() => this.handleCheckboxCustomPriceChange()} />\n                                        </InputGroup.Prepend>\n                                        <Form.Group as={Col} controlId=\"formGridCustomPrice\" name=\"customPrice\">\n                                            <Form.Label>Custom Price</Form.Label>\n                                            <Form.Control\n                                                disabled={this.state.disableCustomPrice}\n                                                autoComplete=\"off\"\n                                                type=\"test\"\n                                                name=\"customPrice\"\n                                                value={customPrice}\n                                                onChange={this.settleChange}\n                                                placeholder={this.state.disableCustomPrice ? \"\" : \"Enter Price [zl]\"}\n                                                className={\"bg-dark text-white\"} />\n                                        </Form.Group>\n                                    </InputGroup>\n\n                                    <InputGroup className=\"mb-3\">\n                                        <InputGroup.Prepend >\n                                            <InputGroup.Checkbox onChange={() => this.handleCheckboxDiscountChange()} />\n                                        </InputGroup.Prepend>\n                                        <Form.Group as={Col} controlId=\"formGridDiscount\" name=\"discount\">\n                                            <Form.Label>Discount [%]</Form.Label>\n                                            <Form.Control\n                                                disabled={this.state.disableDiscount}\n                                                autoComplete=\"off\"\n                                                type=\"test\"\n                                                name=\"discount\"\n                                                value={discount}\n                                                onChange={this.settleChange}\n                                                placeholder={this.state.disableDiscount ? \"\" : \"Enter Discount [%]\"}\n                                                className={\"bg-dark text-white\"} />\n                                        </Form.Group>\n                                    </InputGroup>\n\n\n                                </div>\n\n                            </div>\n\n                        </Card.Body>\n\n                        <Card.Footer>\n                            <div id=\"container\" style={{ \"clear\": \"both\", \"display\": \"flex\", \"justifyContent\": \"space-between\" }}>\n                                <div>\n                                    <Button size=\"sm\" variant=\"info\" onClick={() => this.settleStudent()}>\n                                        <FontAwesomeIcon icon={faMoneyCheckAlt} />  Settle\n                                </Button>\n                                    {'      '}\n\n\n\n                                    <Button size=\"sm\" variant=\"secondary\" type=\"reset\">\n                                        <FontAwesomeIcon icon={faUndo} />  Reset\n                                </Button>\n                                </div>\n                                <Button size=\"bg\" variant=\"light\" onClick={() => this.listButtonHandle()}>\n                                    <FontAwesomeIcon icon={faList} />  Lessons List\n                                </Button>\n                            </div>\n                            {'      '}\n                            <div>\n                                <Button size=\"sm\" variant=\"light\" type=\"button\" onClick={() => this.returnToStudentList()}>\n                                    <FontAwesomeIcon icon={faArrowLeft} />  Return\n                </Button>\n                            </div>\n                        </Card.Footer>\n                    </Form >\n\n\n                </Card >\n            </div>\n        );\n    }\n\n}\n\nconst mapStateToProps = state => {\n    return {\n        lessons: state.lesson.lessons,\n        lesson: state.lesson.lesson,\n        student: state.student,\n        priceTable: state.priceTable\n    }\n};\n\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        fetchAllLessonsForStudent: (studentId, currentPage, size) => dispatch(fetchAllLessonsForStudent(studentId, currentPage, size)),\n        deleteLesson: (lessonId) => dispatch(deleteLesson(lessonId)),\n        searchLessons: (searchedLesson, currentPage, sizePage) => dispatch(searchLessons(searchedLesson, currentPage, sizePage)),\n        updateLesson: (lesson) => dispatch(updateLesson(lesson)),\n        fetchStudent: (studentId) => dispatch(fetchStudent(studentId)),\n        fetchAllPriceTables: (firstElement) => dispatch(fetchAllPriceTables(firstElement)),\n        fetchPriceTableWithNrOfLessons: (fullNrOfLessons) => dispatch(fetchPriceTableWithNrOfLessons(fullNrOfLessons)),\n        updateStudent: (student) => dispatch(updateStudent(student))\n    }\n\n};\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(StudentSettle);"]},"metadata":{},"sourceType":"module"}