{"ast":null,"code":"import _defineProperty from\"/home/michal/Desktop/projekty/java/SurfSchoolSchedule/SurfSchoolSchedule/surf-school-schedule/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/michal/Desktop/projekty/java/SurfSchoolSchedule/SurfSchoolSchedule/surf-school-schedule/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/michal/Desktop/projekty/java/SurfSchoolSchedule/SurfSchoolSchedule/surf-school-schedule/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/michal/Desktop/projekty/java/SurfSchoolSchedule/SurfSchoolSchedule/surf-school-schedule/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/michal/Desktop/projekty/java/SurfSchoolSchedule/SurfSchoolSchedule/surf-school-schedule/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/michal/Desktop/projekty/java/SurfSchoolSchedule/SurfSchoolSchedule/surf-school-schedule/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{Form,Card,Col,Button}from'react-bootstrap';import{faSave,faUndo,faArrowLeft,faEdit,faPlusSquare,faList}from'@fortawesome/free-solid-svg-icons';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import SuccessToast from'../SuccessToast';import{connect}from'react-redux';import{saveInstructor as _saveInstructor,fetchInstructor as _fetchInstructor,updateInstructor as _updateInstructor}from'../../services/index';var Instructor=/*#__PURE__*/function(_React$Component){_inherits(Instructor,_React$Component);var _super=_createSuper(Instructor);function Instructor(props){var _this;_classCallCheck(this,Instructor);_this=_super.call(this,props);_this.initialState={id:'',lastName:'',firstName:'',NrHoursWeek:0,NrHoursFull:0,WeekWage:0,hourWage:''};_this.findInstructorById=function(idInstructor){_this.props.fetchInstructor(idInstructor);setTimeout(function(){var instructor=_this.props.instructor.instructor;if(instructor!=null){_this.setState({id:instructor.id,lastName:instructor.lastName,firstName:instructor.firstName,NrHoursWeek:instructor.NrHoursWeek,NrHoursFull:instructor.NrHoursFull,WeekWage:instructor.WeekWage,hourWage:instructor.hourWage});}},1000);};_this.returnToList=function(){return _this.props.history.push(\"/instructors\");};_this.submitInstructor=function(event){event.preventDefault();var instructor={lastName:_this.state.lastName,firstName:_this.state.firstName,NrHoursWeek:_this.state.NrHoursWeek,NrHoursFull:_this.state.NrHoursFull,WeekWage:_this.state.WeekWage,hourWage:_this.state.hourWage};_this.props.saveInstructor(instructor);setTimeout(function(){if(_this.props.instructor){_this.setState({\"show\":true,\"method\":\"post\"});setTimeout(function(){return _this.setState({\"show\":false});},3000);setTimeout(function(){return _this.returnToList();},1000);}else{_this.setState({\"showInvalidMessage\":true,\"method\":\"post\"});setTimeout(function(){return _this.setState({\"showInvalidMessage\":false});},3000);}},1000);};_this.updateInstructor=function(event){event.preventDefault();var instructor={id:_this.state.id,lastName:_this.state.lastName,firstName:_this.state.firstName,NrHoursWeek:_this.state.NrHoursWeek,NrHoursFull:_this.state.NrHoursFull,WeekWage:_this.state.WeekWage,hourWage:_this.state.hourWage};_this.props.updateInstructor(instructor);setTimeout(function(){if(!_this.props.instructor.error){_this.setState({\"show\":true,\"method\":\"put\"});setTimeout(function(){return _this.setState({\"show\":false});},3000);setTimeout(function(){return _this.returnToList();},1000);}else{_this.setState({\"showInvalidMessage\":true,\"method\":\"post\"});setTimeout(function(){return _this.setState({\"showInvalidMessage\":false});},3000);}},2000);};_this.resetInstructor=function(){_this.setState(function(){return _this.initialState;});};_this.instructorChange=function(event){_this.setState(_defineProperty({},event.target.name,event.target.value));};_this.state=_this.initialState;_this.state.show=false;_this.state.showInvalidMessage=false;_this.state.method='post';_this.instructorChange=_this.instructorChange.bind(_assertThisInitialized(_this));_this.submitInstructor=_this.submitInstructor.bind(_assertThisInitialized(_this));return _this;}_createClass(Instructor,[{key:\"componentDidMount\",value:function componentDidMount(){var idInstructor=+this.props.match.params.id;if(idInstructor){this.findInstructorById(idInstructor);}}},{key:\"render\",//?????????????????????????????????????????????????\nvalue:function render(){var _this$state=this.state,firstName=_this$state.firstName,lastName=_this$state.lastName,hourWage=_this$state.hourWage;var idInstructor=+this.props.match.params.id;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{style:{\"display\":this.state.show?\"block\":\"none\"}},/*#__PURE__*/React.createElement(SuccessToast,{show:this.state.show,message:this.state.method===\"put\"?\"Instructor Updated Successfully\":\"Instructor Saved Successfully.\",type:\"success\"})),/*#__PURE__*/React.createElement(\"div\",{style:{\"display\":this.state.showInvalidMessage?\"block\":\"none\"}},/*#__PURE__*/React.createElement(SuccessToast,{show:this.state.showInvalidMessage,message:\"Invalid Data - might be in the data base already\",type:\"dangerNoSuccess\"})),/*#__PURE__*/React.createElement(Card,{className:\"border border-dark bg-dark text-white\"},/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:idInstructor?faEdit:faPlusSquare}),\" \",idInstructor?\"Update Instructor\":\"Add New Instructor\"),/*#__PURE__*/React.createElement(Form,{onReset:this.resetInstructor,onSubmit:idInstructor?this.updateInstructor:this.submitInstructor},/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(Form.Row,null,/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"formGridLastName\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Last Name\"),/*#__PURE__*/React.createElement(Form.Control,{required:true,autoComplete:\"off\",type:\"test\",name:\"lastName\",value:lastName,onChange:this.instructorChange,placeholder:\"Enter Last Name\",className:\"bg-dark text-white\"})),/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"formGridFirstName\"},/*#__PURE__*/React.createElement(Form.Label,null,\"First Name\"),/*#__PURE__*/React.createElement(Form.Control,{required:true,autoComplete:\"off\",type:\"test\",name:\"firstName\",value:firstName,onChange:this.instructorChange,placeholder:\" Enter First Name\",className:\"bg-dark text-white\"}))),/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"formGridHourWage\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Hour's Wage\"),/*#__PURE__*/React.createElement(Form.Control,{required:true,autoComplete:\"off\",type:\"test\",name:\"hourWage\",value:hourWage,onChange:this.instructorChange,placeholder:\" Enter Week's Wage\",className:\"bg-dark text-white\"}))),/*#__PURE__*/React.createElement(Card.Footer,null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{size:\"sm\",variant:\"primary\",type:\"submit\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faSave}),\" \",idInstructor?\"Update\":\"Submit\"),'      ',/*#__PURE__*/React.createElement(Button,{size:\"sm\",variant:\"secondary\",type:\"reset\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faUndo}),\"  Reset\")),'      ',/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{size:\"sm\",variant:\"light\",type:\"button\",onClick:this.returnToList.bind()},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faArrowLeft}),\"  Return\"))))));}}]);return Instructor;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{//savedInstructorObject: state.instructor,\n//      instructorObject: state.instructor,\n//  updatedInstructor: state.instructor.instructor\ninstructor:state.instructor};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{saveInstructor:function saveInstructor(instructor){return dispatch(_saveInstructor(instructor));},fetchInstructor:function fetchInstructor(instructorId){return dispatch(_fetchInstructor(instructorId));},updateInstructor:function updateInstructor(instructor){return dispatch(_updateInstructor(instructor));}};};export default connect(mapStateToProps,mapDispatchToProps)(Instructor);","map":{"version":3,"sources":["/home/michal/Desktop/projekty/java/SurfSchoolSchedule/SurfSchoolSchedule/surf-school-schedule/src/components/Instructor/Instructor.js"],"names":["React","Form","Card","Col","Button","faSave","faUndo","faArrowLeft","faEdit","faPlusSquare","faList","FontAwesomeIcon","SuccessToast","connect","saveInstructor","fetchInstructor","updateInstructor","Instructor","props","initialState","id","lastName","firstName","NrHoursWeek","NrHoursFull","WeekWage","hourWage","findInstructorById","idInstructor","setTimeout","instructor","setState","returnToList","history","push","submitInstructor","event","preventDefault","state","error","resetInstructor","instructorChange","target","name","value","show","showInvalidMessage","method","bind","match","params","Component","mapStateToProps","mapDispatchToProps","dispatch","instructorId"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Form, Card, Col, Button } from 'react-bootstrap';\nimport { faSave, faUndo, faArrowLeft, faEdit, faPlusSquare, faList } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport SuccessToast from '../SuccessToast';\n\n\nimport { connect } from 'react-redux';\nimport { saveInstructor, fetchInstructor, updateInstructor } from '../../services/index';\n\nclass Instructor extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = this.initialState;\n        this.state.show = false;\n        this.state.showInvalidMessage = false;\n        this.state.method = 'post';\n        this.instructorChange = this.instructorChange.bind(this);\n        this.submitInstructor = this.submitInstructor.bind(this);\n    }\n\n    initialState = {\n        id: '', lastName: '', firstName: '', NrHoursWeek: 0, NrHoursFull: 0, WeekWage: 0, hourWage: ''\n    }\n\n    componentDidMount() {\n        const idInstructor = +this.props.match.params.id;\n        if (idInstructor) {\n            this.findInstructorById(idInstructor);\n        }\n    };\n\n\n    findInstructorById = (idInstructor) => {\n\n        this.props.fetchInstructor(idInstructor);\n        setTimeout(() => {\n\n            let instructor = this.props.instructor.instructor;\n            if (instructor != null) {\n                this.setState({\n                    id: instructor.id,\n                    lastName: instructor.lastName,\n                    firstName: instructor.firstName,\n                    NrHoursWeek: instructor.NrHoursWeek,\n                    NrHoursFull: instructor.NrHoursFull,\n                    WeekWage: instructor.WeekWage,\n                    hourWage: instructor.hourWage\n                });\n            }\n        }, 1000);\n    };\n\n    returnToList = () => {\n        return this.props.history.push(\"/instructors\");\n    };\n\n    submitInstructor = event => {\n        event.preventDefault();\n\n        const instructor = {\n            lastName: this.state.lastName,\n            firstName: this.state.firstName,\n            NrHoursWeek: this.state.NrHoursWeek,\n            NrHoursFull: this.state.NrHoursFull,\n            WeekWage: this.state.WeekWage,\n            hourWage: this.state.hourWage\n        };\n\n        this.props.saveInstructor(instructor);\n        setTimeout(() => {\n            if (this.props.instructor) {\n                this.setState({ \"show\": true, \"method\": \"post\" });\n                setTimeout(() => this.setState({ \"show\": false }), 3000);\n                setTimeout(() => this.returnToList(), 1000);\n            } else {\n                this.setState({ \"showInvalidMessage\": true, \"method\": \"post\" });\n                setTimeout(() => this.setState({ \"showInvalidMessage\": false }), 3000);\n            }\n        }, 1000);\n    };\n\n    updateInstructor = event => {\n        event.preventDefault();\n\n        const instructor = {\n            id: this.state.id,\n            lastName: this.state.lastName,\n            firstName: this.state.firstName,\n            NrHoursWeek: this.state.NrHoursWeek,\n            NrHoursFull: this.state.NrHoursFull,\n            WeekWage: this.state.WeekWage,\n            hourWage: this.state.hourWage\n        };\n\n        this.props.updateInstructor(instructor);\n        setTimeout(() => {\n\n            if (!this.props.instructor.error) {\n                this.setState({ \"show\": true, \"method\": \"put\" });\n                setTimeout(() => this.setState({ \"show\": false }), 3000);\n                setTimeout(() => this.returnToList(), 1000);\n            } else {\n                this.setState({ \"showInvalidMessage\": true, \"method\": \"post\" });\n                setTimeout(() => this.setState({ \"showInvalidMessage\": false }), 3000);\n            }\n        }, 2000);\n    }\n\n    resetInstructor = () => {\n        this.setState(() => this.initialState);\n    };//??????????????????????????????????????????????????????????\n\n    instructorChange = event => {\n        this.setState({\n            [event.target.name]: event.target.value\n        });\n    };//?????????????????????????????????????????????????\n\n    render() {\n        const { firstName, lastName, hourWage } = this.state;\n        const idInstructor = +this.props.match.params.id;\n        return (\n            <div>\n                <div style={{ \"display\": this.state.show ? \"block\" : \"none\" }}>\n                    <SuccessToast show={this.state.show} message={this.state.method === \"put\" ? \"Instructor Updated Successfully\" : \"Instructor Saved Successfully.\"} type=\"success\" />\n                </div>\n                <div style={{ \"display\": this.state.showInvalidMessage ? \"block\" : \"none\" }}>\n                    <SuccessToast show={this.state.showInvalidMessage} message={\"Invalid Data - might be in the data base already\"} type=\"dangerNoSuccess\" />\n                </div>\n\n                <Card className={\"border border-dark bg-dark text-white\"}>\n                    <Card.Header>\n                        <FontAwesomeIcon icon={idInstructor ? faEdit : faPlusSquare} /> {idInstructor ? \"Update Instructor\" : \"Add New Instructor\"}\n                    </Card.Header>\n                    <Form onReset={this.resetInstructor} onSubmit={idInstructor ? this.updateInstructor : this.submitInstructor}>\n                        <Card.Body>\n                            <Form.Row>\n                                <Form.Group as={Col} controlId=\"formGridLastName\">\n                                    <Form.Label>Last Name</Form.Label>\n                                    <Form.Control required\n                                        autoComplete=\"off\"\n                                        type=\"test\"\n                                        name=\"lastName\"\n                                        value={lastName}\n                                        onChange={this.instructorChange}\n                                        placeholder=\"Enter Last Name\"\n                                        className={\"bg-dark text-white\"} />\n                                </Form.Group>\n\n                                <Form.Group as={Col} controlId=\"formGridFirstName\">\n                                    <Form.Label>First Name</Form.Label>\n                                    <Form.Control required\n                                        autoComplete=\"off\"\n                                        type=\"test\"\n                                        name=\"firstName\"\n                                        value={firstName}\n                                        onChange={this.instructorChange}\n                                        placeholder=\" Enter First Name\"\n                                        className={\"bg-dark text-white\"} />\n                                </Form.Group>\n                            </Form.Row>\n\n                            <Form.Group as={Col} controlId=\"formGridHourWage\">\n                                    <Form.Label>Hour's Wage</Form.Label>\n                                    <Form.Control required\n                                        autoComplete=\"off\"\n                                        type=\"test\"\n                                        name=\"hourWage\"\n                                        value={hourWage}\n                                        onChange={this.instructorChange}\n                                        placeholder=\" Enter Week's Wage\"\n                                        className={\"bg-dark text-white\"} />\n                            </Form.Group>\n\n                        </Card.Body>\n\n                        <Card.Footer>\n                            <div>\n                                <Button size=\"sm\" variant=\"primary\" type=\"submit\">\n                                    <FontAwesomeIcon icon={faSave} /> {idInstructor ? \"Update\" : \"Submit\"}\n                                </Button>\n                                {'      '}\n\n                                <Button size=\"sm\" variant=\"secondary\" type=\"reset\">\n                                    <FontAwesomeIcon icon={faUndo} />  Reset\n                    </Button>\n                            </div>\n                            {'      '}\n                            <div>\n                                <Button size=\"sm\" variant=\"light\" type=\"button\" onClick={this.returnToList.bind()}>\n                                    <FontAwesomeIcon icon={faArrowLeft} />  Return\n                    </Button>\n                            </div>\n                        </Card.Footer>\n                    </Form >\n\n\n                </Card >\n            </div>\n        );\n    }\n\n}\n\nconst mapStateToProps = state => {\n    return {\n        //savedInstructorObject: state.instructor,\n        //      instructorObject: state.instructor,\n        //  updatedInstructor: state.instructor.instructor\n        instructor: state.instructor\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        saveInstructor: (instructor) => dispatch(saveInstructor(instructor)),\n        fetchInstructor: (instructorId) => dispatch(fetchInstructor(instructorId)),\n        updateInstructor: (instructor) => dispatch(updateInstructor(instructor))\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Instructor);\n"]},"metadata":{},"sourceType":"module"}