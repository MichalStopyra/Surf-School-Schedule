(this["webpackJsonpsurf-school-schedule"]=this["webpackJsonpsurf-school-schedule"]||[]).push([[0],{125:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(24),o=n.n(r),l=(n(96),n(97),n(98),n(130)),i=n(136),c=n(83),u=n(140),d=n(139),p=n(14);function h(){return s.a.createElement(u.a,{bg:"dark",variant:"dark"},s.a.createElement(u.a.Brand,{href:""},"Surf School Schedule"),s.a.createElement(d.a,{className:"mr-auto"},s.a.createElement(p.b,{to:"",className:"nav-link"},"Home"),s.a.createElement(p.b,{to:"/students",className:"nav-link"},"Students"),s.a.createElement(p.b,{to:"/instructors",className:"nav-link"},"Instructors"),s.a.createElement(p.b,{to:"/schedule",className:"nav-link"},"Schedule"),s.a.createElement(p.b,{to:"/priceTableList",className:"nav-link"},"PriceTable"),s.a.createElement(p.b,{to:"/lessons",className:"nav-link"},"Lessons")))}var m=n(10),f=n(11),g=n(13),E=n(12),S=(a.Component,n(131));function b(e){return s.a.createElement(S.a,{className:"bg-dark text-white"},s.a.createElement("h1",null,e.heading),s.a.createElement("blockquote",{className:"blockquote mb-0"},s.a.createElement("footer",{className:"blockquote-footer"},e.footer)))}var y=n(18),v=n(16),T=n(23),w=n(144),L=n(138),P=n(132),C=n(3),N=n(5),I=n(141),k=function(e){Object(g.a)(n,e);var t=Object(E.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){return s.a.createElement("div",{style:this.props.show?{position:"fixed",top:"10px",right:"10px",zIndex:"1",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"}:null},s.a.createElement(I.a,{className:"border text-white ".concat("success"===this.props.type?"border-success bg-success":"border-danger bg-danger"),show:this.props.show},s.a.createElement(I.a.Header,{className:"text-white ".concat("success"===this.props.type?"bg-success":"bg-danger"),closeButton:!1},s.a.createElement("strong",{className:"mr-auto"}," ","dangerNoSuccess"===this.props.type?"Sorry":"Success")," :"),s.a.createElement(I.a.Body,null,this.props.message)))}}]),n}(s.a.Component),D=n(15),O=n(9),F=n.n(O),A=function(e,t,n,a){return--e,function(s){F.a.get("http://localhost:8080/instructor-api/list?page="+e+"&size="+t+"&sortBy=paymentStatus&sortDir="+n).then((function(e){a&&e.data.content.unshift({id:"",lastName:"Select Instructor",firstName:"",NrHoursWeek:0,NrHoursFull:0,WeekWage:0}),s(R(e.data.content,e.data.totalPages,e.data.totalElements,n))})).catch((function(e){s(x(e.message))}))}},j=function(e){return{type:"SAVE_INSTRUCTOR_REQUEST",newItem:e}},_=function(e){return function(t){F.a.get("http://localhost:8080/instructor-api/"+e).then((function(e){t({type:"FETCH_INSTRUCTOR_REQUEST",updatedInstructor:e.data})})).catch((function(e){t(x(e))}))}},H=function(e){return function(t){F.a.put("http://localhost:8080/instructor-api/"+e.id,e).then((function(n){t(function(e){return{type:"UPDATE_INSTRUCTOR_REQUEST",updatedInstructor:e}}(e))})).catch((function(e){console.log(e),t(x(e))}))}},U=function(e){return{type:"INSTRUCTOR_SUCCESS",payload:e}},x=function(e){return{type:"INSTRUCTOR_FAILURE",payload:e}},R=function(e,t,n,a){return{type:"FETCH_ALL_INSTRUCTORS_SUCCESS",payload:e,totalPages:t,totalElements:n,sortDirection:a}},M=function(e){return{type:"FETCH_SEARCH_INSTRUCTORS_REQUEST",instructors:e}},W=function(e,t,n,a){return--e,function(s){F.a.get("http://localhost:8080/student-api/list?page="+e+"&size="+t+"&sortBy=paymentStatus&sortDir="+n).then((function(e){a&&e.data.content.unshift(a),s(z(e.data.content,e.data.totalPages,e.data.totalElements,n))})).catch((function(e){s(J(e.message))}))}},z=function(e,t,n,a){return{type:"FETCH_ALL_STUDENTS_REQUEST",payload:e,totalPages:t,totalElements:n,sortDirection:a}},B=function(e){return{type:"SAVE_STUDENT_REQUEST",newItem:e}},G=function(e){return function(t){F.a.get("http://localhost:8080/student-api/"+e).then((function(e){t({type:"FETCH_STUDENT_REQUEST",updatedStudent:e.data})})).catch((function(e){t(J(e))}))}},Q=function(e){return function(t){F.a.put("http://localhost:8080/student-api/"+e.id,e).then((function(n){t(function(e){return{type:"UPDATE_STUDENT_REQUEST",updatedStudent:e}}(e))})).catch((function(e){console.log(e),t(J(e))}))}},q=function(e){return{type:"STUDENT_SUCCESS",payload:e}},J=function(e){return{type:"STUDENT_FAILURE",payload:e}},V=function(e){return{type:"FETCH_SEARCH_STUDENTS_REQUEST",students:e}},Y=function(e,t,n,a){return{type:"FETCH_ALL_LESSONS_REQUEST",payload:e,totalPages:t,totalElements:n,sortDirection:a}},$=function(e){return function(t){F.a.post("http://localhost:8080/lesson-api/list",e).then((function(n){t(K(e))})).catch((function(e){console.log(e),t(ne(e))}))}},K=function(e){return{type:"SAVE_LESSON_REQUEST",newItem:e}},X=function(e){return function(t){F.a.get("http://localhost:8080/lesson-api/"+e).then((function(e){t({type:"FETCH_LESSON_REQUEST",updatedLesson:e.data})})).catch((function(e){t(ne(e))}))}},Z=function(e){return function(t){F.a.put("http://localhost:8080/lesson-api/"+e.id,e).then((function(n){t(function(e){return{type:"UPDATE_LESSON_REQUEST",updatedLesson:e}}(e))})).catch((function(e){console.log(e),t(ne(e))}))}},ee=function(e){return function(t){F.a.delete("http://localhost:8080/lesson-api/list/"+e).then((function(n){t(function(e){return{type:"DELETE_LESSON_REQUEST",lessonId:e}}(e)),t(te(n.data))})).catch((function(e){t(ne(e))}))}},te=function(e){return{type:"LESSON_SUCCESS",payload:e}},ne=function(e){return{type:"LESSON_FAILURE",payload:e}},ae=function(e,t,n){return--t,function(a){F.a.get("http://localhost:8080/lesson-api/search/"+e+"?page="+t+"&size="+n).then((function(e){a(se(e.data.content))})).catch((function(e){a(ne(e.message))}))}},se=function(e){return{type:"FETCH_SEARCH_LESSONS_REQUEST",lessons:e}},re=function(e,t,n){return--t,function(a){F.a.get("http://localhost:8080/lesson-api/studentLessons/"+e+"?page="+t+"&size="+n+"&sortBy=status").then((function(e){a(oe(e.data.content,e.data.totalPages,e.data.totalElements))})).catch((function(e){a(ne(e.message))}))}},oe=function(e,t,n){return{type:"FETCH_ALL_STUDENT_LESSONS_REQUEST",payload:e,totalPages:t,totalElements:n}},le=function(e){return function(t){F.a.get("http://localhost:8080/priceTable-api/list?page=0&size=9999999&sortBy=minNrHours&sortDir=asc").then((function(n){e&&(n.data.content.unshift(e),n.data.content=n.data.content.filter((function(e,t,n){return t===n.findIndex((function(t){return t.id===e.id}))}))),t(pe(n.data.content))})).catch((function(e){t(de(e.message))}))}},ie=function(e){return{type:"SAVE_PRICE_TABLE_REQUEST",newItem:e}},ce=function(e){return{type:"FETCH_PRICE_TABLE_REQUEST",updatedPriceTable:e}},ue=function(e){return{type:"PRICE_TABLE_SUCCESS",payload:e}},de=function(e){return{type:"PRICE_TABLE_FAILURE",payload:e}},pe=function(e,t,n,a){return{type:"FETCH_ALL_PRICE_TABLES_SUCCESS",payload:e}},he=function(e){Object(g.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).initialState={id:"",lastName:"",firstName:"",idCardNr:"",telNr:"",paymentStatus:0,lessonHours:0,unpaidLessons:0,moneyOwing:0,moneyInAdvance:""},a.findStudentById=function(e){a.props.fetchStudent(e),setTimeout((function(){var e=a.props.student.student;null!=e&&a.setState({id:e.id,lastName:e.lastName,firstName:e.firstName,idCardNr:e.idCardNr,telNr:e.telNr,paymentStatus:e.paymentStatus,lessonHours:e.lessonHours,unpaidLessons:e.unpaidLessons,moneyOwing:e.moneyOwing,moneyInAdvance:e.moneyInAdvance})}),1e3)},a.returnToList=function(){return a.props.history.push("/students")},a.submitStudent=function(e){e.preventDefault();var t={lastName:a.state.lastName,firstName:a.state.firstName,idCardNr:a.state.idCardNr,telNr:a.state.telNr,paymentStatus:a.state.paymentStatus,lessonHours:a.state.lessonHours,unpaidLessons:a.state.unpaidLessons,moneyOwing:a.state.moneyOwing,moneyInAdvance:a.state.moneyInAdvance};a.props.saveStudent(t),setTimeout((function(){a.props.student.error?(a.setState({showInvalidMessage:!0,method:"post"}),setTimeout((function(){return a.setState({showInvalidMessage:!1})}),3e3)):(a.setState({show:!0,method:"post"}),setTimeout((function(){return a.setState({show:!1})}),3e3),setTimeout((function(){return a.returnToList()}),1e3))}),1e3)},a.updateStudent=function(e){e.preventDefault();var t={id:a.state.id,lastName:a.state.lastName,firstName:a.state.firstName,idCardNr:a.state.idCardNr,telNr:a.state.telNr,paymentStatus:a.state.paymentStatus,lessonHours:a.state.lessonHours,unpaidLessons:a.state.unpaidLessons,moneyOwing:a.state.moneyOwing,moneyInAdvance:a.state.moneyInAdvance};a.props.updateStudent(t),setTimeout((function(){a.props.student.error?(a.setState({showInvalidMessage:!0,method:"post"}),setTimeout((function(){return a.setState({showInvalidMessage:!1})}),3e3)):(a.setState({show:!0,method:"put"}),setTimeout((function(){return a.setState({show:!1})}),3e3),setTimeout((function(){return a.returnToList()}),1e3))}),2e3)},a.resetStudent=function(){a.setState((function(){return a.initialState}))},a.studentChange=function(e){a.setState(Object(v.a)({},e.target.name,e.target.value))},a.state=a.initialState,a.state.show=!1,a.state.method="post",a.studentChange=a.studentChange.bind(Object(T.a)(a)),a.submitStudent=a.submitStudent.bind(Object(T.a)(a)),a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=+this.props.match.params.id;e&&this.findStudentById(e)}},{key:"render",value:function(){var e=this.state,t=e.firstName,n=e.lastName,a=e.idCardNr,r=e.telNr,o=(e.paymentStatus,e.lessonHours,e.unpaidLessons,e.moneyOwing,e.moneyInAdvance);return s.a.createElement("div",null,s.a.createElement("div",{style:{display:this.state.show?"block":"none"}},s.a.createElement(k,{show:this.state.show,message:"put"===this.state.method?"Student Updated Successfully":"Student Saved Successfully.",type:"success"})),s.a.createElement("div",{style:{display:this.state.showInvalidMessage?"block":"none"}},s.a.createElement(k,{show:this.state.showInvalidMessage,message:"Invalid Data - might be in the data base already",type:"dangerNoSuccess"})),s.a.createElement(w.a,{className:"border border-dark bg-dark text-white"},s.a.createElement(w.a.Header,null,s.a.createElement(N.a,{icon:this.state.id?C.h:C.m})," ",this.state.id?"Update Student":"Add New Student"),s.a.createElement(L.a,{onReset:this.resetStudent,onSubmit:this.state.id?this.updateStudent:this.submitStudent},s.a.createElement(w.a.Body,null,s.a.createElement(L.a.Row,null,s.a.createElement(L.a.Group,{as:c.a,controlId:"formGridLastName"},s.a.createElement(L.a.Label,null,"Last Name"),s.a.createElement(L.a.Control,{required:!0,autoComplete:"off",type:"test",name:"lastName",value:n,onChange:this.studentChange,placeholder:"Enter Last Name",className:"bg-dark text-white"})),s.a.createElement(L.a.Group,{as:c.a,controlId:"formGridFirstName"},s.a.createElement(L.a.Label,null,"First Name"),s.a.createElement(L.a.Control,{required:!0,autoComplete:"off",type:"test",name:"firstName",value:t,onChange:this.studentChange,placeholder:" Enter First Name",className:"bg-dark text-white"}))),s.a.createElement(L.a.Row,null,s.a.createElement(L.a.Group,{as:c.a,controlId:"formGridIdCardNr"},s.a.createElement(L.a.Label,null,"ID Card Nr"),s.a.createElement(L.a.Control,{required:!0,autoComplete:"off",name:"idCardNr",type:"test",value:a,onChange:this.studentChange,placeholder:"Enter ID Card Nr",className:"bg-dark text-white"})),s.a.createElement(L.a.Group,{as:c.a,controlId:"formGridPhoneNr"},s.a.createElement(L.a.Label,null,"Phone Nr"),s.a.createElement(L.a.Control,{required:!0,autoComplete:"off",name:"telNr",type:"test",value:r,onChange:this.studentChange,placeholder:"Enter Phone Nr",className:"bg-dark text-white"}))),s.a.createElement(L.a.Row,null,s.a.createElement(L.a.Group,{as:c.a,controlId:"formGridMoneyInAdvance"},s.a.createElement(L.a.Label,null,"Payment In Advance"),s.a.createElement(L.a.Control,{required:!0,autoComplete:"off",name:"moneyInAdvance",type:"test",value:o,onChange:this.studentChange,placeholder:"$",className:"bg-dark text-white"})))),s.a.createElement(w.a.Footer,null,s.a.createElement("div",null,s.a.createElement(P.a,{size:"sm",variant:"primary",type:"submit"},s.a.createElement(N.a,{icon:C.n})," ",this.state.id?"Update":"Submit"),"      ",s.a.createElement(P.a,{size:"sm",variant:"secondary",type:"reset"},s.a.createElement(N.a,{icon:C.t}),"  Reset")),"      ",s.a.createElement("div",null,s.a.createElement(P.a,{size:"sm",variant:"light",type:"button",onClick:this.returnToList.bind()},s.a.createElement(N.a,{icon:C.a}),"  Return"))))))}}]),n}(s.a.Component),me=Object(D.b)((function(e){return{student:e.student}}),(function(e){return{saveStudent:function(t){return e(function(e){return function(t){F.a.post("http://localhost:8080/student-api/list",e).then((function(n){t(B(e))})).catch((function(e){console.log(e),t(J(e))}))}}(t))},fetchStudent:function(t){return e(G(t))},updateStudent:function(t){return e(Q(t))}}}))(he),fe=n(133),ge=n(85),Ee=n(134),Se=n(135),be=(n(34),function(e){Object(g.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).deleteStudent=function(e){a.props.deleteStudent(e),setTimeout((function(){null!=a.props.student?(a.setState({show:!0}),setTimeout((function(){return a.setState({show:!1})}),1e3)):a.setState({show:!1})}),1e3),a.props.fetchAllStudents(a.props.student.currentPage,a.state.studentsPerPage,a.props.student.sortDirection,null)},a.changePage=function(e){var t=parseInt(e.target.value);if(a.props.student.searchedStudent)a.searchStudent(t);else{a.state.sortToggle;a.props.fetchAllStudents(t,a.state.studentsPerPage,a.props.student.sortDirection,null)}a.setState(Object(v.a)({},e.target.name,t))},a.firstPage=function(){if(a.props.student.currentPage>1)if(a.props.student.currentPage=1,a.props.student.searchedStudent)a.searchStudent(a.props.student.currentPage);else{a.state.sortToggle;a.props.fetchAllStudents(a.props.student.currentPage,a.state.studentsPerPage,a.props.student.sortDirection,null)}},a.prevPage=function(){if(a.props.student.currentPage>1)if(--a.props.student.currentPage,a.props.student.searchedStudent)a.searchStudent(a.props.student.currentPage);else{a.state.sortToggle;a.props.fetchAllStudents(a.props.student.currentPage,a.state.studentsPerPage,a.props.student.sortDirection,null)}},a.lastPage=function(){a.state.students.length;var e=Math.ceil(a.props.totalElements/a.state.studentsPerPage);a.props.student.currentPage<e&&(a.props.student.currentPage=e,a.props.student.searchedStudent?a.searchStudent(a.props.student.currentPage):a.props.fetchAllStudents(a.props.student.currentPage,a.state.studentsPerPage,a.props.student.sortDirection,null))},a.nextPage=function(){if(a.state.currentPage<Math.ceil(a.props.totalElements/a.state.studentsPerPage))if(++a.props.student.currentPage,a.props.student.searchedStudent)a.searchStudent(a.props.student.currentPage);else{a.state.sortToggle;a.props.fetchAllStudents(a.props.student.currentPage,a.state.studentsPerPage,a.props.student.sortDirection,null)}},a.searchChange=function(e){a.props.student.searchedStudent=e.target.value,a.forceUpdate()},a.cancelSearch=function(){a.props.student.searchedStudent="",a.props.fetchAllStudents(a.props.student.currentPage,a.state.studentsPerPage,a.props.student.sortDirection,null),a.forceUpdate()},a.sortData=function(){"asc"===a.props.student.sortDirection?a.props.student.sortDirection="desc":a.props.student.sortDirection="asc",a.props.fetchAllStudents(a.props.student.currentPage,a.state.studentsPerPage,a.props.student.sortDirection,null)},a.searchStudent=function(e){a.props.student.searchedStudent&&a.props.searchStudents(a.props.student.searchedStudent,a.props.student.currentPage,a.props.student.studentsPerPage)},a.state={students:[],currentPage:1,studentsPerPage:5,searchedStudent:"",sortToggle:!0},a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchAllStudents(this.props.student.currentPage,this.state.studentsPerPage,this.props.student.sortDirection,null)}},{key:"render",value:function(){var e=this,t=this.props.student.searchedStudent,n=this.props.student.totalPages,a=(this.props.student.totalElements,this.props.student,this.props.students),r=this.props.student.currentPage,o=this.props.student.sortDirection;return s.a.createElement("div",null,s.a.createElement("div",{style:{display:this.state.show?"block":"none"}},s.a.createElement(k,{show:this.state.show,message:"Student Deleted Successfully.",type:"danger"})),s.a.createElement(w.a,{className:"border border-dark bg-dark text-white"},s.a.createElement(w.a.Header,null,s.a.createElement("div",{style:{float:"left"}},s.a.createElement(N.a,{icon:C.v}),"     Students List"),s.a.createElement("div",{style:{float:"right"}},s.a.createElement(fe.a,{size:"sm"},s.a.createElement(ge.a,{style:{width:"100px",border:"1px solid #17A2B8",color:"#17A2B8",textAlign:"center",fontWeight:"bold"},className:"bg-dark",name:"searchedStudent",value:t,placeholder:"Search",onChange:this.searchChange}),s.a.createElement(fe.a.Append,null,s.a.createElement(P.a,{size:"sm",variant:"outline-info",type:"button",onClick:this.searchStudent},s.a.createElement(N.a,{icon:C.o})),s.a.createElement(P.a,{size:"sm",variant:"outline-danger",type:"button",onClick:this.cancelSearch},s.a.createElement(N.a,{icon:C.r})))))),s.a.createElement(w.a.Body,null,s.a.createElement(Ee.a,{striped:!0,bordered:!0,hover:!0,variant:"dark"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Last Name"),s.a.createElement("th",null,"First Name"),s.a.createElement("th",null,"ID Card"),s.a.createElement("th",null,"Phone Nr"),s.a.createElement("th",{onClick:this.sortData},"Payment Status",s.a.createElement("div",{className:"asc"===o?"arrow arrow-down":"arrow arrow-up"})," "),s.a.createElement("th",null,"Lesson Hrs"),s.a.createElement("th",null,"Unpaid Lessons"),s.a.createElement("th",null,"Payment in Advance [zl]"),s.a.createElement("th",null,"Actions"))),s.a.createElement("tbody",null,0===a.length?s.a.createElement("tr",{align:"center"},s.a.createElement("td",{colSpan:"10"}," No Students in the Data Base")):a.map((function(t,n){return s.a.createElement("tr",{key:t.id},s.a.createElement("td",null,t.lastName),s.a.createElement("td",null,t.firstName),s.a.createElement("td",null,t.idCardNr),s.a.createElement("td",null,t.telNr),s.a.createElement("td",null,t.paymentStatus),s.a.createElement("td",null,t.lessonHours),s.a.createElement("td",null,t.unpaidLessons),s.a.createElement("td",null,t.moneyInAdvance),s.a.createElement("td",null,s.a.createElement(Se.a,null,s.a.createElement(p.b,{to:"settleStudent/"+t.id}," ",s.a.createElement(P.a,{size:"sm",variant:"outline-success"}," ",s.a.createElement(N.a,{icon:C.w})," ")," "),s.a.createElement(p.b,{to:"editStudent/"+t.id}," ",s.a.createElement(P.a,{size:"sm",variant:"outline-primary"}," ",s.a.createElement(N.a,{icon:C.h})," ")," "),s.a.createElement(P.a,{size:"sm",variant:"outline-danger",onClick:e.deleteStudent.bind(e,t.id)}," ",s.a.createElement(N.a,{icon:C.s})," "))))}))))),s.a.createElement(w.a.Footer,null,s.a.createElement("div",{style:{float:"left"}},s.a.createElement(p.b,{to:"add-student",className:"nav-link"},s.a.createElement(Se.a,null,s.a.createElement(P.a,{size:"lg",variant:"outline-light"}," ",s.a.createElement(N.a,{icon:C.u})," "))),"Page ",r," of ",n),s.a.createElement("div",{style:{float:"right"}},s.a.createElement(fe.a,{size:"sm"},s.a.createElement(fe.a.Prepend,null,s.a.createElement(P.a,{type:"button",variant:"outline-light",disabled:1===r,onClick:this.firstPage},s.a.createElement(N.a,{icon:C.i})," First"),s.a.createElement(P.a,{type:"button",variant:"outline-light",disabled:1===r,onClick:this.prevPage},s.a.createElement(N.a,{icon:C.p})," Prev")),s.a.createElement(ge.a,{style:{width:"45px",border:"1px solid #F8F8FF",color:"#F8F8FF",textAlign:"center",fontWeight:"bold"},className:"page-num bg-dark",name:"currentPage",value:r,onChange:this.changePage}),s.a.createElement(fe.a.Append,null,s.a.createElement(P.a,{type:"button",variant:"outline-light",disabled:r===n,onClick:this.nextPage},s.a.createElement(N.a,{icon:C.q})," Next"),s.a.createElement(P.a,{type:"button",variant:"outline-light",disabled:r===n,onClick:this.lastPage},s.a.createElement(N.a,{icon:C.j})," Last")))))))}}]),n}(s.a.Component)),ye=Object(D.b)((function(e){return{student:e.student,students:e.student.students,totalPages:e.student.totalPages,totalElements:e.student.totalElements,currentPage:e.student.currentPage,searchedStudent:e.student.searchedStudent,sortDirection:e.student.sortDirection}}),(function(e){return{fetchAllStudents:function(t,n,a,s){return e(W(t,n,a,s))},deleteStudent:function(t){return e(function(e){return function(t){F.a.delete("http://localhost:8080/student-api/list/"+e).then((function(n){t(function(e){return{type:"DELETE_STUDENT_REQUEST",studentId:e}}(e)),t(q(n.data))})).catch((function(e){t(J(e))}))}}(t))},searchStudents:function(t,n,a){return e(function(e,t,n){return--t,function(a){F.a.get("http://localhost:8080/student-api/search/"+e+"?page="+t+"&size="+n).then((function(e){a(V(e.data.content))})).catch((function(e){a(J(e.message))}))}}(t,n,a))}}}))(be),ve=function(e){Object(g.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).initialState={id:"",lastName:"",firstName:"",NrHoursWeek:0,NrHoursFull:0,WeekWage:0,hourWage:""},a.findInstructorById=function(e){a.props.fetchInstructor(e),setTimeout((function(){var e=a.props.instructor.instructor;null!=e&&a.setState({id:e.id,lastName:e.lastName,firstName:e.firstName,NrHoursWeek:e.NrHoursWeek,NrHoursFull:e.NrHoursFull,WeekWage:e.WeekWage,hourWage:e.hourWage})}),1e3)},a.returnToList=function(){return a.props.history.push("/instructors")},a.submitInstructor=function(e){e.preventDefault();var t={lastName:a.state.lastName,firstName:a.state.firstName,NrHoursWeek:a.state.NrHoursWeek,NrHoursFull:a.state.NrHoursFull,WeekWage:a.state.WeekWage,hourWage:a.state.hourWage};a.props.saveInstructor(t),setTimeout((function(){a.props.instructor?(a.setState({show:!0,method:"post"}),setTimeout((function(){return a.setState({show:!1})}),3e3),setTimeout((function(){return a.returnToList()}),1e3)):(a.setState({showInvalidMessage:!0,method:"post"}),setTimeout((function(){return a.setState({showInvalidMessage:!1})}),3e3))}),1e3)},a.updateInstructor=function(e){e.preventDefault();var t={id:a.state.id,lastName:a.state.lastName,firstName:a.state.firstName,NrHoursWeek:a.state.NrHoursWeek,NrHoursFull:a.state.NrHoursFull,WeekWage:a.state.WeekWage,hourWage:a.state.hourWage};a.props.updateInstructor(t),setTimeout((function(){a.props.instructor.error?(a.setState({showInvalidMessage:!0,method:"post"}),setTimeout((function(){return a.setState({showInvalidMessage:!1})}),3e3)):(a.setState({show:!0,method:"put"}),setTimeout((function(){return a.setState({show:!1})}),3e3),setTimeout((function(){return a.returnToList()}),1e3))}),2e3)},a.resetInstructor=function(){a.setState((function(){return a.initialState}))},a.instructorChange=function(e){a.setState(Object(v.a)({},e.target.name,e.target.value))},a.state=a.initialState,a.state.show=!1,a.state.showInvalidMessage=!1,a.state.method="post",a.instructorChange=a.instructorChange.bind(Object(T.a)(a)),a.submitInstructor=a.submitInstructor.bind(Object(T.a)(a)),a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=+this.props.match.params.id;e&&this.findInstructorById(e)}},{key:"render",value:function(){var e=this.state,t=e.firstName,n=e.lastName,a=e.hourWage,r=+this.props.match.params.id;return s.a.createElement("div",null,s.a.createElement("div",{style:{display:this.state.show?"block":"none"}},s.a.createElement(k,{show:this.state.show,message:"put"===this.state.method?"Instructor Updated Successfully":"Instructor Saved Successfully.",type:"success"})),s.a.createElement("div",{style:{display:this.state.showInvalidMessage?"block":"none"}},s.a.createElement(k,{show:this.state.showInvalidMessage,message:"Invalid Data - might be in the data base already",type:"dangerNoSuccess"})),s.a.createElement(w.a,{className:"border border-dark bg-dark text-white"},s.a.createElement(w.a.Header,null,s.a.createElement(N.a,{icon:r?C.h:C.m})," ",r?"Update Instructor":"Add New Instructor"),s.a.createElement(L.a,{onReset:this.resetInstructor,onSubmit:r?this.updateInstructor:this.submitInstructor},s.a.createElement(w.a.Body,null,s.a.createElement(L.a.Row,null,s.a.createElement(L.a.Group,{as:c.a,controlId:"formGridLastName"},s.a.createElement(L.a.Label,null,"Last Name"),s.a.createElement(L.a.Control,{required:!0,autoComplete:"off",type:"test",name:"lastName",value:n,onChange:this.instructorChange,placeholder:"Enter Last Name",className:"bg-dark text-white"})),s.a.createElement(L.a.Group,{as:c.a,controlId:"formGridFirstName"},s.a.createElement(L.a.Label,null,"First Name"),s.a.createElement(L.a.Control,{required:!0,autoComplete:"off",type:"test",name:"firstName",value:t,onChange:this.instructorChange,placeholder:" Enter First Name",className:"bg-dark text-white"}))),s.a.createElement(L.a.Group,{as:c.a,controlId:"formGridHourWage"},s.a.createElement(L.a.Label,null,"Hour's Wage"),s.a.createElement(L.a.Control,{required:!0,autoComplete:"off",type:"test",name:"hourWage",value:a,onChange:this.instructorChange,placeholder:" Enter Week's Wage",className:"bg-dark text-white"}))),s.a.createElement(w.a.Footer,null,s.a.createElement("div",null,s.a.createElement(P.a,{size:"sm",variant:"primary",type:"submit"},s.a.createElement(N.a,{icon:C.n})," ",r?"Update":"Submit"),"      ",s.a.createElement(P.a,{size:"sm",variant:"secondary",type:"reset"},s.a.createElement(N.a,{icon:C.t}),"  Reset")),"      ",s.a.createElement("div",null,s.a.createElement(P.a,{size:"sm",variant:"light",type:"button",onClick:this.returnToList.bind()},s.a.createElement(N.a,{icon:C.a}),"  Return"))))))}}]),n}(s.a.Component),Te=Object(D.b)((function(e){return{instructor:e.instructor}}),(function(e){return{saveInstructor:function(t){return e(function(e){return function(t){F.a.post("http://localhost:8080/instructor-api/list",e).then((function(n){t(j(e))})).catch((function(e){console.log(e),t(x(e))}))}}(t))},fetchInstructor:function(t){return e(_(t))},updateInstructor:function(t){return e(H(t))}}}))(ve),we=function(e){Object(g.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).deleteInstructor=function(e){a.props.deleteInstructor(e),setTimeout((function(){null!=a.props.instructor?(a.setState({show:!0}),setTimeout((function(){return a.setState({show:!1})}),1e3)):a.setState({show:!1})}),1e3),a.props.fetchAllInstructors(a.props.instructor.currentPage,a.state.instructorsPerPage,a.props.instructor.sortDirection,!1)},a.changePage=function(e){var t=parseInt(e.target.value);if(a.props.instructor.searchedInstructor)a.searchInstructor(t);else{a.state.sortToggle;a.props.fetchAllInstructors(t,a.state.instructorsPerPage,a.props.instructor.sortDirection,!1)}a.setState(Object(v.a)({},e.target.name,t))},a.firstPage=function(){if(a.props.instructor.currentPage>1)if(a.props.instructor.currentPage=1,a.props.instructor.searchedInstructor)a.searchInstructor(a.props.instructor.currentPage);else{a.state.sortToggle;a.props.fetchAllInstructors(a.props.instructor.currentPage,a.state.instructorsPerPage,a.props.instructor.sortDirection)}},a.prevPage=function(){if(a.props.instructor.currentPage>1)if(--a.props.instructor.currentPage,a.props.instructor.searchedInstructor)a.searchInstructor(a.props.instructor.currentPage);else{a.state.sortToggle;a.props.fetchAllInstructors(a.props.instructor.currentPage,a.state.instructorsPerPage,a.props.instructor.sortDirection,!1)}},a.lastPage=function(){a.state.instructors.length;var e=Math.ceil(a.props.totalElements/a.state.instructorsPerPage);a.props.instructor.currentPage<e&&(a.props.instructor.currentPage=e,a.props.instructor.searchedInstructor?a.searchInstructor(a.props.instructor.currentPage):a.props.fetchAllInstructors(a.props.instructor.currentPage,a.state.instructorsPerPage,a.props.instructor.sortDirection))},a.nextPage=function(){if(a.state.currentPage<Math.ceil(a.props.totalElements/a.state.instructorsPerPage))if(++a.props.instructor.currentPage,a.props.instructor.searchedInstructor)a.searchInstructor(a.props.instructor.currentPage);else{a.state.sortToggle;a.props.fetchAllInstructors(a.props.instructor.currentPage,a.state.instructorsPerPage,a.props.instructor.sortDirection,!1)}},a.searchChange=function(e){a.props.instructor.searchedInstructor=e.target.value,a.forceUpdate()},a.cancelSearch=function(){a.props.instructor.searchedInstructor="",a.props.fetchAllInstructors(a.props.instructor.currentPage,a.state.instructorsPerPage,a.props.instructor.sortDirection,!1),a.forceUpdate()},a.sortData=function(){"asc"===a.props.instructor.sortDirection?a.props.instructor.sortDirection="desc":a.props.instructor.sortDirection="asc",a.props.fetchAllInstructors(a.props.instructor.currentPage,a.state.instructorsPerPage,a.props.instructor.sortDirection,!1)},a.searchInstructor=function(e){a.props.instructor.searchedInstructor&&a.props.searchInstructors(a.props.instructor.searchedInstructor,a.props.instructor.currentPage,a.props.instructor.instructorsPerPage)},a.state={instructors:[],currentPage:1,instructorsPerPage:5,searchedInstructor:"",sortToggle:!0},a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchAllInstructors(this.props.instructor.currentPage,this.state.instructorsPerPage,this.props.instructor.sortDirection)}},{key:"render",value:function(){var e=this,t=this.props.instructor.searchedInstructor,n=this.props.instructor.totalPages,a=(this.props.instructor.totalElements,this.props.instructor,this.props.instructors),r=this.props.instructor.currentPage,o=this.props.instructor.sortDirection;return s.a.createElement("div",null,s.a.createElement("div",{style:{display:this.state.show?"block":"none"}},s.a.createElement(k,{show:this.state.show,message:"Instructor Deleted Successfully.",type:"danger"})),s.a.createElement(w.a,{className:"border border-dark bg-dark text-white"},s.a.createElement(w.a.Header,null,s.a.createElement("div",{style:{float:"left"}},s.a.createElement(N.a,{icon:C.e}),"     Instructors List"),s.a.createElement("div",{style:{float:"right"}},s.a.createElement(fe.a,{size:"sm"},s.a.createElement(ge.a,{style:{width:"100px",border:"1px solid #17A2B8",color:"#17A2B8",textAlign:"center",fontWeight:"bold"},className:"bg-dark",name:"searchedInstructor",value:t,placeholder:"Search",onChange:this.searchChange}),s.a.createElement(fe.a.Append,null,s.a.createElement(P.a,{size:"sm",variant:"outline-info",type:"button",onClick:this.searchInstructor},s.a.createElement(N.a,{icon:C.o})),s.a.createElement(P.a,{size:"sm",variant:"outline-danger",type:"button",onClick:this.cancelSearch},s.a.createElement(N.a,{icon:C.r})))))),s.a.createElement(w.a.Body,null,s.a.createElement(Ee.a,{striped:!0,bordered:!0,hover:!0,variant:"dark"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{onClick:this.sortData},"Last Name",s.a.createElement("div",{className:"asc"===o?"arrow arrow-down":"arrow arrow-up"})),s.a.createElement("th",null,"First Name"),s.a.createElement("th",null,"Hour's Wage [zl]"),s.a.createElement("th",null,"Nr Hours Week"),s.a.createElement("th",null,"Week's Wage"),s.a.createElement("th",null,"Full Nr Hours"),s.a.createElement("th",null,"Actions"))),s.a.createElement("tbody",null,0===a.length?s.a.createElement("tr",{align:"center"},s.a.createElement("td",{colSpan:"10"}," No Instructors in the Data Base")):a.map((function(t,n){return s.a.createElement("tr",{key:t.id},s.a.createElement("td",null,t.lastName),s.a.createElement("td",null,t.firstName),s.a.createElement("td",null,t.hourWage),s.a.createElement("td",null,t.nrHoursWeek),s.a.createElement("td",null,t.wageWeek),s.a.createElement("td",null,t.nrHoursFull),s.a.createElement("td",null,s.a.createElement(Se.a,null,s.a.createElement(p.b,{to:"settleInstructor/"+t.id}," ",s.a.createElement(P.a,{size:"sm",variant:"outline-success"}," ",s.a.createElement(N.a,{icon:C.w})," ")," "),s.a.createElement(p.b,{to:"editInstructor/"+t.id}," ",s.a.createElement(P.a,{size:"sm",variant:"outline-primary"}," ",s.a.createElement(N.a,{icon:C.h})," ")," "),s.a.createElement(P.a,{size:"sm",variant:"outline-danger",onClick:e.deleteInstructor.bind(e,t.id)}," ",s.a.createElement(N.a,{icon:C.s})," "))))}))))),s.a.createElement(w.a.Footer,null,s.a.createElement("div",{style:{float:"left"}},s.a.createElement(p.b,{to:"add-instructor",className:"nav-link"},s.a.createElement(Se.a,null,s.a.createElement(P.a,{size:"lg",variant:"outline-light"}," ",s.a.createElement(N.a,{icon:C.u})," "))),"Page ",r," of ",n),s.a.createElement("div",{style:{float:"right"}},s.a.createElement(fe.a,{size:"sm"},s.a.createElement(fe.a.Prepend,null,s.a.createElement(P.a,{type:"button",variant:"outline-light",disabled:1===r,onClick:this.firstPage},s.a.createElement(N.a,{icon:C.i})," First"),s.a.createElement(P.a,{type:"button",variant:"outline-light",disabled:1===r,onClick:this.prevPage},s.a.createElement(N.a,{icon:C.p})," Prev")),s.a.createElement(ge.a,{style:{width:"45px",border:"1px solid #F8F8FF",color:"#F8F8FF",textAlign:"center",fontWeight:"bold"},className:"page-num bg-dark",name:"currentPage",value:r,onChange:this.changePage}),s.a.createElement(fe.a.Append,null,s.a.createElement(P.a,{type:"button",variant:"outline-light",disabled:r===n,onClick:this.nextPage},s.a.createElement(N.a,{icon:C.q})," Next"),s.a.createElement(P.a,{type:"button",variant:"outline-light",disabled:r===n,onClick:this.lastPage},s.a.createElement(N.a,{icon:C.j})," Last")))))))}}]),n}(s.a.Component),Le=Object(D.b)((function(e){return{instructor:e.instructor,instructors:e.instructor.instructors,totalPages:e.instructor.totalPages,totalElements:e.instructor.totalElements,currentPage:e.instructor.currentPage,searchedInstructor:e.instructor.searchedInstructor,sortDirection:e.instructor.sortDirection}}),(function(e){return{fetchAllInstructors:function(t,n,a,s){return e(A(t,n,a,s))},deleteInstructor:function(t){return e(function(e){return function(t){F.a.delete("http://localhost:8080/instructor-api/list/"+e).then((function(n){t(function(e){return{type:"DELETE_INSTRUCTOR_REQUEST",instructorId:e}}(e)),t(U(n.data))})).catch((function(e){t(x(e))}))}}(t))},searchInstructors:function(t,n,a){return e(function(e,t,n){return--t,function(a){F.a.get("http://localhost:8080/instructor-api/search/"+e+"?page="+t+"&size="+n).then((function(e){a(M(e.data.content))})).catch((function(e){a(x(e.message))}))}}(t,n,a))}}}))(we),Pe=(n(81),function(e){Object(g.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).initialState={id:"",date:"Select Date",time:"Select Hour",nrStudents:"Select Nr of Students",status:0,howLong:"Select How Long",students:[],instructors:[],dates:[],times:[],nrStudTable:[],howLongTable:[],instructor:{id:"",lastName:"Select Instructor",firstName:"",NrHoursWeek:0,NrHoursFull:0,WeekWage:0},student:{id:"",lastName:"Select Student",firstName:"",idCardNr:"",telNr:"",paymentStatus:0,lessonHours:0,unpaidLessons:0,moneyOwing:0,moneyInAdvance:""}},a.filterTimesArray=function(){F.a.get("http://localhost:8080/lesson-api/"+a.state.instructor.id+"/"+a.state.date).then((function(e){if(null!=e.data){var t=e.data.content;t=t.map((function(e){return e.time}));var n=e.data.content;n=n.map((function(e){return e.howLong}));for(var s=0;s<n.length;++s)if(n[s]>1)for(var r=t[s].split(":"),o=1;o<n[s];++o){++r[0];var l=r[0]+":00";t=t.concat(l)}a.state.times=[],a.state.times.push("Select Hour"),a.state.times=a.state.times.concat(a.arrayWithHours()),a.setState({times:a.state.times.filter((function(e){return!t.includes(e)}))})}})).catch((function(e){console.error("Error: "+e)}))},a.findAllStudents=function(e){if(e){a.props.fetchAllStudents(1,999999999,"asc",{id:-1,lastName:"Select Student",firstName:"",idCardNr:"",telNr:"",paymentStatus:0,lessonHours:0,unpaidLessons:0,moneyOwing:0,moneyInAdvance:""})}else a.props.fetchAllStudents(1,999999999,"asc",null)},a.findAllInstructors=function(e){a.props.fetchAllInstructors(1,999999999,"asc",e)},a.findLessonById=function(e){F.a.get("http://localhost:8080/lesson-api/"+e).then((function(e){null!=e.data&&(a.props.student.students.unshift(e.data.student),a.props.instructor.instructors.unshift(e.data.instructor),a.setState({id:e.data.id,instructor:e.data.instructor,student:e.data.student,date:e.data.date,time:e.data.time,howLong:e.data.howLong,nrStudents:e.data.nrStudents,status:e.data.status}))})).catch((function(e){console.error("Error: "+e)}))},a.returnToList=function(){return a.props.history.push("/schedule")},a.isValid=function(){return"Select Student"!==a.state.student.lastName&&"Select Instructor"!==a.state.instructor.lastName&&"Select Date"!==a.state.date&&"Select Hour"!==a.state.time&&"Select Nr of Students"!==a.state.nrStudents&&"Select How Long"!==a.state.howLong||(a.setState({showInvalidMessage:!0,method:"post"}),setTimeout((function(){return a.setState({showInvalidMessage:!1})}),3e3),!1)},a.submitLesson=function(e){if(e.preventDefault(),a.isValid()){var t={instructor:JSON.parse(a.state.instructor),student:JSON.parse(a.state.student),date:a.state.date,time:a.state.time,howLong:a.state.howLong,nrStudents:a.state.nrStudents,status:a.state.status};a.props.saveLesson(t),setTimeout((function(){a.props.lesson.error?(a.setState({showInvalidMessage:!0,method:"post"}),setTimeout((function(){return a.setState({showInvalidMessage:!1})}),3e3)):(a.setState({show:!0,method:"post"}),setTimeout((function(){return a.setState({show:!1})}),3e3),setTimeout((function(){return a.returnToList()}),1e3))}),1e3)}},a.updateLesson=function(e){if(e.preventDefault(),a.isValid()){"object"===typeof a.state.instructor&&(a.state.instructor=JSON.stringify(a.state.instructor)),"object"===typeof a.state.student&&(a.state.student=JSON.stringify(a.state.student));var t={id:a.state.id,instructor:JSON.parse(a.state.instructor),student:JSON.parse(a.state.student),date:a.state.date,time:a.state.time,howLong:a.state.howLong,nrStudents:a.state.nrStudents,status:a.state.status};a.props.updateLesson(t),setTimeout((function(){a.props.student.error?(a.setState({showInvalidMessage:!0,method:"post"}),setTimeout((function(){return a.setState({showInvalidMessage:!1})}),3e3)):(a.setState({show:!0,method:"put"}),setTimeout((function(){return a.setState({show:!1})}),3e3),setTimeout((function(){return a.returnToList()}),1e3))}),2e3)}},a.resetLesson=function(){a.setState((function(){return a.initialState})),a.findAllInstructors(),a.findAllStudents(),a.setArrays()},a.lessonChange=function(e){a.setState(Object(v.a)({},e.target.name,e.target.value))},a.lessonChangeInstructor=function(e){a.setState(Object(v.a)({},e.target.name,e.target.value)),a.state.instructor=e.target.value,"string"===typeof a.state.instructor&&(a.state.instructor=JSON.parse(a.state.instructor)),a.filterTimesArray()},a.state=a.initialState,a.state.show=!1,a.state.showInvalidMessage=!1,a.state.method="post",a.lessonChange=a.lessonChange.bind(Object(T.a)(a)),a.submitLesson=a.submitLesson.bind(Object(T.a)(a)),a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=+this.props.match.params.id;this.findAllStudents(!e),this.findAllInstructors(!e),e&&this.findLessonById(e),this.setArrays()}},{key:"arrayWithHours",value:function(){var e,t=[];for(e=9;e<21;e++)t.push(e+":00");return t}},{key:"addDays",value:function(e,t){var n=new Date(e);return n.setDate(n.getDate()+t),n}},{key:"getDateArray",value:function(e,t){for(var n=new Array,a=new Date(e);a<t;){var s=a.getDate(),r=a.getMonth()+1;s<10&&(s="0"+s),r<10&&(r="0"+r);var o=r+"-"+s+"-"+a.getFullYear();n.push(o),a.setDate(a.getDate()+1)}return n}},{key:"getNrStudArray",value:function(){for(var e=new Array,t=1;t<6;++t)e.push(t);return e}},{key:"getHowLongArray",value:function(){for(var e=new Array,t=1;t<4;++t)e.push(t);return e}},{key:"setArrays",value:function(){this.state.dates.push("Select Date"),this.state.times.push("Select Hour"),this.state.howLongTable.push("Select How Long"),this.state.nrStudTable.push("Select Nr of Students"),this.setState({dates:this.state.dates.concat(this.getDateArray(new Date,this.addDays(new Date,14))),times:this.state.times.concat(this.arrayWithHours()),howLongTable:this.state.howLongTable.concat(this.getHowLongArray()),nrStudTable:this.state.nrStudTable.concat(this.getNrStudArray())}),this.state.id&&this.filterTimesArray()}},{key:"render",value:function(){var e=this.state,t=e.student,n=e.instructor,a=e.date,r=e.time,o=e.howLong,l=e.nrStudents,i=this.props.instructor.instructors,u=this.props.student.students;return s.a.createElement("div",null,s.a.createElement("div",{style:{display:this.state.show?"block":"none"}},s.a.createElement(k,{show:this.state.show,message:"put"===this.state.method?"Lesson Updated Successfully":"Lesson Saved Successfully.",type:"success"})),s.a.createElement("div",{style:{display:this.state.showInvalidMessage?"block":"none"}},s.a.createElement(k,{show:this.state.showInvalidMessage,message:"Fill out the required fields.",type:"dangerNoSuccess"})),s.a.createElement(w.a,{className:"border border-dark bg-dark text-white"},s.a.createElement(w.a.Header,null,s.a.createElement(N.a,{icon:this.state.id?C.h:C.m})," ",this.state.id?"Update Lesson":"Add New Lesson"),s.a.createElement(L.a,{onReset:this.resetLesson,onSubmit:this.state.id?this.updateLesson:this.submitLesson},s.a.createElement(w.a.Body,null,s.a.createElement(L.a.Row,null,s.a.createElement(L.a.Group,{as:c.a,controlId:"formGridStudent"},s.a.createElement(L.a.Label,null,"Student"),s.a.createElement(L.a.Control,{required:!0,as:"select",name:"student",value:t,onChange:this.lessonChange,className:"bg-dark text-white"},u.filter((function(e,t,n){return t===n.findIndex((function(t){return t.id===e.id}))})).map((function(e){return s.a.createElement("option",{key:e.id,value:JSON.stringify(e)},e.lastName+" "+e.firstName)})))),s.a.createElement(L.a.Group,{as:c.a,controlId:"formGridInstructor"},s.a.createElement(L.a.Label,null,"Instructor"),s.a.createElement(L.a.Control,{required:!0,as:"select",autoComplete:"off",name:"instructor",value:n,onChange:this.lessonChangeInstructor,className:"bg-dark text-white"},i.filter((function(e,t,n){return t===n.findIndex((function(t){return t.id===e.id}))})).map((function(e){return s.a.createElement("option",{key:e.id,value:JSON.stringify(e)},e.lastName+" "+e.firstName)}))))),s.a.createElement(L.a.Row,null,s.a.createElement(L.a.Group,{as:c.a,controlId:"formGridDate"},s.a.createElement(L.a.Label,null,"Date [dd-mm-yyyy]"),s.a.createElement(L.a.Control,{required:!0,as:"select",autoComplete:"off",name:"date",value:a,onChange:this.lessonChange,className:"bg-dark text-white",placeholder:"Select Date"},this.state.dates.map((function(e){return s.a.createElement("option",{key:e,value:e},e)})))),s.a.createElement(L.a.Group,{as:c.a,controlId:"formGridTime"},s.a.createElement(L.a.Label,null,"Time"),s.a.createElement(L.a.Control,{required:!0,as:"select",autoComplete:"off",name:"time",value:r,onChange:this.lessonChange,className:"bg-dark text-white"},this.state.times.map((function(e){return s.a.createElement("option",{key:e,value:e},e)}))))),s.a.createElement(L.a.Row,null,s.a.createElement(L.a.Group,{as:c.a,controlId:"formGridHowLong"},s.a.createElement(L.a.Label,null,"How Long [h]"),s.a.createElement(L.a.Control,{required:!0,as:"select",autoComplete:"off",name:"howLong",value:o,onChange:this.lessonChange,className:"bg-dark text-white"},this.state.howLongTable.map((function(e){return s.a.createElement("option",{key:e,value:e},e)})))),s.a.createElement(L.a.Group,{as:c.a,controlId:"formGridNrStudents"},s.a.createElement(L.a.Label,null,"Nr Of Students"),s.a.createElement(L.a.Control,{required:!0,as:"select",autoComplete:"off",name:"nrStudents",value:l,onChange:this.lessonChange,className:"bg-dark text-white"},this.state.nrStudTable.map((function(e){return s.a.createElement("option",{key:e,value:e},e)})))))),s.a.createElement(w.a.Footer,null,s.a.createElement("div",null,s.a.createElement(P.a,{size:"sm",variant:"primary",type:"submit"},s.a.createElement(N.a,{icon:C.n})," ",this.state.id?"Update":"Submit"),"      ",s.a.createElement(P.a,{size:"sm",variant:"secondary",type:"reset"},s.a.createElement(N.a,{icon:C.t}),"  Reset")),"      ",s.a.createElement("div",null,s.a.createElement(P.a,{size:"sm",variant:"light",type:"button",onClick:this.returnToList.bind()},s.a.createElement(N.a,{icon:C.a}),"  Return"))))))}}]),n}(s.a.Component)),Ce=Object(D.b)((function(e){return{lesson:e.lesson,instructor:e.instructor,student:e.student}}),(function(e){return{fetchAllStudents:function(t,n,a,s){return e(W(t,n,a,s))},fetchAllInstructors:function(t,n,a,s){return e(A(t,n,a,s))},saveLesson:function(t){return e($(t))},fetchLesson:function(t){return e(X(t))},updateLesson:function(t){return e(Z(t))}}}))(Pe),Ne=function(e){Object(g.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).deleteLesson=function(e){a.props.deleteLesson(e),setTimeout((function(){null!=a.props.lesson?(a.setState({show:!0}),setTimeout((function(){return a.setState({show:!1})}),1e3)):a.setState({show:!1})}),1e3),a.props.fetchAllLessons(a.props.lesson.currentPage,a.state.lessonsPerPage,a.props.lesson.sortDirection)},a.changePage=function(e){var t=parseInt(e.target.value);if(a.props.lesson.searchedLesson)a.searchLesson(t);else{a.state.sortToggle;a.props.fetchAllLessons(t,a.state.lessonsPerPage,a.props.lesson.sortDirection)}a.setState(Object(v.a)({},e.target.name,t))},a.firstPage=function(){if(a.props.lesson.currentPage>1)if(a.props.lesson.currentPage=1,a.props.lesson.searchedLesson)a.searchLesson(a.props.lesson.currentPage);else{a.state.sortToggle;a.props.fetchAllLessons(a.props.lesson.currentPage,a.state.lessonsPerPage,a.props.lesson.sortDirection)}},a.prevPage=function(){if(a.props.lesson.currentPage>1)if(--a.props.lesson.currentPage,a.props.lesson.searchedLesson)a.searchLesson(a.props.lesson.currentPage);else{a.state.sortToggle;a.props.fetchAllLessons(a.props.lesson.currentPage,a.state.lessonsPerPage,a.props.lesson.sortDirection)}},a.lastPage=function(){a.state.lessons.length;var e=Math.ceil(a.props.totalElements/a.state.lessonsPerPage);a.props.lesson.currentPage<e&&(a.props.lesson.currentPage=e,a.props.lesson.searchedLesson?a.searchLesson(a.props.lesson.currentPage):a.props.fetchAllLessons(a.props.lesson.currentPage,a.state.lessonsPerPage,a.props.lesson.sortDirection))},a.nextPage=function(){if(a.state.currentPage<Math.ceil(a.props.totalElements/a.state.lessonsPerPage))if(++a.props.lesson.currentPage,a.props.lesson.searchedLesson)a.searchLesson(a.props.lesson.currentPage);else{a.state.sortToggle;a.props.fetchAllLessons(a.props.lesson.currentPage,a.state.lessonsPerPage,a.props.lesson.sortDirection)}},a.searchChange=function(e){a.props.lesson.searchedLesson=e.target.value,a.forceUpdate()},a.cancelSearch=function(){a.props.lesson.searchedLesson="",a.props.fetchAllLessons(a.props.lesson.currentPage,a.state.lessonsPerPage,a.props.lesson.sortDirection),a.forceUpdate()},a.sortData=function(){"asc"===a.props.lesson.sortDirection?a.props.lesson.sortDirection="desc":a.props.lesson.sortDirection="asc",a.props.fetchAllLessons(a.props.lesson.currentPage,a.state.lessonsPerPage,a.props.lesson.sortDirection)},a.searchLesson=function(e){a.props.lesson.searchedLesson&&a.props.searchLessons(a.props.lesson.searchedLesson,a.props.lesson.currentPage,a.props.lesson.lessonsPerPage)},a.lessonStatusChange=function(e,t){e.status=t,a.props.updateLesson(e),a.props.fetchAllLessons(a.props.lesson.currentPage,a.state.lessonsPerPage,a.props.lesson.sortDirection)},a.state={lessons:[],currentPage:1,lessonsPerPage:5,searchedLesson:"",sortToggle:!1},a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.fetchAllLessons(this.props.lesson.currentPage,this.state.lessonsPerPage,this.props.lesson.sortDirection),setTimeout((function(){e.checkIfLessonInThePast()}),1e3)}},{key:"checkIfLessonInThePast",value:function(){for(var e=new Date((new Date).setDate((new Date).getDate()-1)),t=this.props.lesson.lessons.length,n=!1,a=0;a<t;++a){var s=new Date(this.props.lesson.lessons[a].date);"To_Give"===this.props.lesson.lessons[a].status&&s<e&&(this.lessonStatusChange(this.props.lesson.lessons[a],3),n||(n=!0))}n&&this.props.fetchAllLessons(this.props.lesson.currentPage,this.state.lessonsPerPage,this.props.lesson.sortDirection)}},{key:"render",value:function(){var e=this,t=this.props.lesson.searchedLesson,n=this.props.lesson.totalPages,a=(this.props.lesson.totalElements,this.props.lesson,this.props.lessons),r=this.props.lesson.currentPage;this.props.lesson.sortDirection;return s.a.createElement("div",null,s.a.createElement("div",{style:{float:"right"}}),s.a.createElement(w.a,{className:" bg-dark text-white"},s.a.createElement(w.a.Header,null,s.a.createElement("div",{style:{float:"left"}},s.a.createElement(N.a,{icon:C.v}),"     Lessons List"),s.a.createElement("div",{style:{float:"right"}},s.a.createElement(fe.a,{size:"sm"},s.a.createElement(ge.a,{style:{width:"100px",border:"1px solid #17A2B8",color:"#17A2B8",textAlign:"center",fontWeight:"bold"},className:"bg-dark",name:"searchedLesson",value:t,placeholder:"Search",onChange:this.searchChange}),s.a.createElement(fe.a.Append,null,s.a.createElement(P.a,{size:"sm",variant:"outline-info",type:"button",onClick:this.searchLesson},s.a.createElement(N.a,{icon:C.o})),s.a.createElement(P.a,{size:"sm",variant:"outline-danger",type:"button",onClick:this.cancelSearch},s.a.createElement(N.a,{icon:C.r})))))),s.a.createElement(w.a.Body,null,s.a.createElement(Ee.a,{striped:!0,bordered:!0,hover:!0,variant:"dark"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Instructor"),s.a.createElement("th",null,"Student"),s.a.createElement("th",{onClick:this.sortData}," Date ",s.a.createElement("div",{className:this.state.sortToggle?"arrow arrow-down":"arrow arrow-up"})," "),s.a.createElement("th",null,"Time"),s.a.createElement("th",null,"How Long [h]"),s.a.createElement("th",null,"Nr of Students"),s.a.createElement("th",null,"Status"),s.a.createElement("th",null,"Actions"))),s.a.createElement("tbody",null,0===a.length?s.a.createElement("tr",{align:"center"},s.a.createElement("td",{colSpan:"10"}," No Lessons in the Data Base")):a.map((function(t){return s.a.createElement("tr",{key:t.id},s.a.createElement("td",null,t.instructor.firstName+" "+t.instructor.lastName),s.a.createElement("td",null,t.student.firstName+" "+t.student.lastName),s.a.createElement("td",null,t.date),s.a.createElement("td",null,t.time),s.a.createElement("td",null,t.howLong),s.a.createElement("td",null,t.nrStudents),s.a.createElement("td",null,t.status),s.a.createElement("td",null,s.a.createElement(Se.a,null,s.a.createElement(P.a,{size:"sm",variant:"outline-success",onClick:e.lessonStatusChange.bind(e,t,2)}," ",s.a.createElement(N.a,{icon:C.g})," "),s.a.createElement(p.b,{to:"editLesson/"+t.id}," ",s.a.createElement(P.a,{size:"sm",variant:"outline-primary"}," ",s.a.createElement(N.a,{icon:C.h})," ")," "),s.a.createElement(P.a,{size:"sm",variant:"outline-danger",onClick:e.deleteLesson.bind(e,t.id)}," ",s.a.createElement(N.a,{icon:C.s})," "))))}))))),s.a.createElement(w.a.Footer,null,s.a.createElement("div",{style:{float:"left"}},s.a.createElement(p.b,{to:"add-lesson",className:"nav-link"},s.a.createElement(Se.a,null,s.a.createElement(P.a,{size:"lg",variant:"outline-light"}," ",s.a.createElement(N.a,{icon:C.d})," "))),"Page ",r," of ",0===n?1:n),s.a.createElement("div",{style:{float:"right"}},s.a.createElement(fe.a,{size:"sm"},s.a.createElement(fe.a.Prepend,null,s.a.createElement(P.a,{type:"button",variant:"outline-light",disabled:1===r,onClick:this.firstPage},s.a.createElement(N.a,{icon:C.i})," First"),s.a.createElement(P.a,{type:"button",variant:"outline-light",disabled:1===r,onClick:this.prevPage},s.a.createElement(N.a,{icon:C.p})," Prev")),s.a.createElement(ge.a,{style:{width:"45px",border:"1px solid #F8F8FF",color:"#F8F8FF",textAlign:"center",fontWeight:"bold"},className:"page-num bg-dark",name:"currentPage",value:r,onChange:this.changePage}),s.a.createElement(fe.a.Append,null,s.a.createElement(P.a,{type:"button",variant:"outline-light",disabled:r===n,onClick:this.nextPage},s.a.createElement(N.a,{icon:C.q})," Next"),s.a.createElement(P.a,{type:"button",variant:"outline-light",disabled:r===n,onClick:this.lastPage},s.a.createElement(N.a,{icon:C.j})," Last")))))))}}]),n}(s.a.Component),Ie=Object(D.b)((function(e){return{lesson:e.lesson,lessons:e.lesson.lessons,totalPages:e.lesson.totalPages,totalElements:e.lesson.totalElements,currentPage:e.lesson.currentPage,searchedLesson:e.lesson.searchedLesson,sortDirection:e.lesson.sortDirection}}),(function(e){return{fetchAllLessons:function(t,n,a){return e(function(e,t,n){return--e,function(a){F.a.get("http://localhost:8080/lesson-api/list?page="+e+"&size="+t+"&sortBy=status&sortDir="+n).then((function(e){a(Y(e.data.content,e.data.totalPages,e.data.totalElements,n))})).catch((function(e){a(ne(e.message))}))}}(t,n,a))},deleteLesson:function(t){return e(ee(t))},searchLessons:function(t,n,a){return e(ae(t,n,a))},updateLesson:function(t){return e(Z(t))}}}))(Ne),ke=n(142),De=n(143),Oe=function(e){Object(g.a)(n,e);var t=Object(E.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){var e=this;return this.props.data&&this.props.isNotInFuture?s.a.createElement(s.a.Fragment,null,s.a.createElement(ke.a,{trigger:"focus",key:"right",placement:"right",overlay:s.a.createElement(De.a,Object.assign({},this.props,{id:"popover-positioned-right"}),s.a.createElement(De.a.Title,{className:"border border-dark bg-dark text-white",as:"h3"},"Actions"),s.a.createElement(De.a.Content,{className:"border border-dark bg-light text-white"},s.a.createElement(P.a,{size:"sm",variant:"outline-info",type:"button",onClick:function(){e.props.lessonStatusChange()}},s.a.createElement(N.a,{icon:C.f})),s.a.createElement(P.a,{size:"sm",variant:"outline-dark",type:"button",onClick:function(){e.props.editLesson()}},s.a.createElement(N.a,{icon:C.h})),s.a.createElement(P.a,{size:"sm",variant:"outline-danger",type:"button",onClick:function(){e.props.deleteLesson()}},s.a.createElement(N.a,{icon:C.r}))))},s.a.createElement(P.a,{size:"sm",variant:this.props.buttonColor},this.props.data))):this.props.data&&!this.props.isNotInFuture?s.a.createElement(s.a.Fragment,null,s.a.createElement(ke.a,{trigger:"focus",key:"right",placement:"right-start",overlay:s.a.createElement(De.a,{id:"popover-positioned-right"},s.a.createElement(De.a.Title,{className:"border border-dark bg-dark text-white",as:"h3"},"Actions"),s.a.createElement(De.a.Content,{className:"border border-dark bg-light text-white"},s.a.createElement(P.a,{size:"sm",variant:"outline-dark",type:"button",onClick:function(){e.props.editLesson()}},s.a.createElement(N.a,{icon:C.h})),s.a.createElement(P.a,{size:"sm",variant:"outline-danger",type:"button",onClick:function(){e.props.deleteLesson()}},s.a.createElement(N.a,{icon:C.r}))))},s.a.createElement(P.a,{size:"sm",variant:this.props.buttonColor},this.props.data))):s.a.createElement(s.a.Fragment,null,s.a.createElement(ke.a,{trigger:"focus",key:"right",placement:"right",overlay:s.a.createElement(De.a,{id:"popover-positioned-right"},s.a.createElement(De.a.Title,{className:"border border-dark bg-dark text-white",as:"h3"},"Actions"),s.a.createElement(De.a.Content,{className:"border border-dark bg-light text-white"},s.a.createElement(P.a,{show:"false",size:"lg",variant:"info",block:!0,onClick:function(){e.props.changeShowForm()}},"  ",s.a.createElement(N.a,{icon:C.u})," ")))},s.a.createElement(Se.a,{vertical:!0},s.a.createElement(P.a,{size:"lg",variant:"transparent"}),s.a.createElement(P.a,{size:"lg",variant:"transparent"}))))}}]),n}(s.a.Component),Fe=function(e){Object(g.a)(n,e);var t=Object(E.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).getField=function(e,t){return e.lessonsThisDay[t]?e.lessonsThisDay[t].student.firstName+" "+e.lessonsThisDay[t].student.lastName+" "+e.lessonsThisDay[t].howLong+"h":void 0},e.getFieldColor=function(e,t){return!e.lessonsThisDay[t]||"Finished_Unpaid"!==e.lessonsThisDay[t].status&&"Finished_Paid"!==e.lessonsThisDay[t].status?"secondary":"info"},e.isNotInFuture=function(e,t){if(e.lessonsThisDay[t]){var n=new Date;return n.setHours(23),n.setMinutes(59),n.setSeconds(59),new Date(e.lessonsThisDay[t].date)<n}},e}return Object(f.a)(n,[{key:"render",value:function(){var e=this;return this.props.instructorDay.map((function(t,n){return s.a.createElement("tr",{key:t.instructor.id},s.a.createElement("td",null,t.instructor.firstName+" "+t.instructor.lastName),s.a.createElement("td",null,s.a.createElement(Oe,{lessonStatusChange:function(){return e.props.lessonStatusChange(t.lessonsThisDay[0],"Finished_Unpaid")},deleteLesson:function(){return e.props.deleteLesson(t.lessonsThisDay[0],n)},data:e.getField(t,0),buttonColor:e.getFieldColor(t,0),isNotInFuture:e.isNotInFuture(t,0),changeShowForm:function(){return e.props.changeShowForm(t.instructor,n,0)},editLesson:function(){return e.props.editLesson(t.lessonsThisDay[0],n,0)}})),s.a.createElement("td",null,s.a.createElement(Oe,{lessonStatusChange:function(){return e.props.lessonStatusChange(t.lessonsThisDay[1],"Finished_Unpaid")},deleteLesson:function(){return e.props.deleteLesson(t.lessonsThisDay[1],n)},data:e.getField(t,1),buttonColor:e.getFieldColor(t,1),isNotInFuture:e.isNotInFuture(t,1),changeShowForm:function(){return e.props.changeShowForm(t.instructor,n,1)},editLesson:function(){return e.props.editLesson(t.lessonsThisDay[1],n,1)}})),s.a.createElement("td",null,s.a.createElement(Oe,{lessonStatusChange:function(){return e.props.lessonStatusChange(t.lessonsThisDay[2],"Finished_Unpaid")},deleteLesson:function(){return e.props.deleteLesson(t.lessonsThisDay[2],n)},data:e.getField(t,2),buttonColor:e.getFieldColor(t,2),isNotInFuture:e.isNotInFuture(t,2),changeShowForm:function(){return e.props.changeShowForm(t.instructor,n,2)},editLesson:function(){return e.props.editLesson(t.lessonsThisDay[2],n,2)}})),s.a.createElement("td",null,s.a.createElement(Oe,{lessonStatusChange:function(){return e.props.lessonStatusChange(t.lessonsThisDay[3],"Finished_Unpaid")},deleteLesson:function(){return e.props.deleteLesson(t.lessonsThisDay[3],n)},data:e.getField(t,3),buttonColor:e.getFieldColor(t,3),isNotInFuture:e.isNotInFuture(t,3),changeShowForm:function(){return e.props.changeShowForm(t.instructor,n,3)},editLesson:function(){return e.props.editLesson(t.lessonsThisDay[3],n,3)}})),s.a.createElement("td",null,s.a.createElement(Oe,{lessonStatusChange:function(){return e.props.lessonStatusChange(t.lessonsThisDay[4],"Finished_Unpaid")},deleteLesson:function(){return e.props.deleteLesson(t.lessonsThisDay[4],n)},data:e.getField(t,4),buttonColor:e.getFieldColor(t,4),isNotInFuture:e.isNotInFuture(t,4),changeShowForm:function(){return e.props.changeShowForm(t.instructor,n,4)},editLesson:function(){return e.props.editLesson(t.lessonsThisDay[4],n,4)}})),s.a.createElement("td",null,s.a.createElement(Oe,{lessonStatusChange:function(){return e.props.lessonStatusChange(t.lessonsThisDay[5],"Finished_Unpaid")},deleteLesson:function(){return e.props.deleteLesson(t.lessonsThisDay[5],n)},data:e.getField(t,5),buttonColor:e.getFieldColor(t,5),isNotInFuture:e.isNotInFuture(t,5),changeShowForm:function(){return e.props.changeShowForm(t.instructor,n,5)},editLesson:function(){return e.props.editLesson(t.lessonsThisDay[5],n,5)}})),s.a.createElement("td",null,s.a.createElement(Oe,{lessonStatusChange:function(){return e.props.lessonStatusChange(t.lessonsThisDay[6],"Finished_Unpaid")},deleteLesson:function(){return e.props.deleteLesson(t.lessonsThisDay[6],6)},data:e.getField(t,6),buttonColor:e.getFieldColor(t,6),isNotInFuture:e.isNotInFuture(t,6),changeShowForm:function(){return e.props.changeShowForm(t.instructor,n,6)},editLesson:function(){return e.props.editLesson(t.lessonsThisDay[6],n,6)}})),s.a.createElement("td",null,s.a.createElement(Oe,{lessonStatusChange:function(){return e.props.lessonStatusChange(t.lessonsThisDay[7],"Finished_Unpaid")},deleteLesson:function(){return e.props.deleteLesson(t.lessonsThisDay[7],n)},data:e.getField(t,7),buttonColor:e.getFieldColor(t,7),isNotInFuture:e.isNotInFuture(t,7),changeShowForm:function(){return e.props.changeShowForm(t.instructor,n,7)},editLesson:function(){return e.props.editLesson(t.lessonsThisDay[7],n,7)}})),s.a.createElement("td",null,s.a.createElement(Oe,{lessonStatusChange:function(){return e.props.lessonStatusChange(t.lessonsThisDay[8],"Finished_Unpaid")},deleteLesson:function(){return e.props.deleteLesson(t.lessonsThisDay[8],n)},data:e.getField(t,8),buttonColor:e.getFieldColor(t,8),isNotInFuture:e.isNotInFuture(t,8),changeShowForm:function(){return e.props.changeShowForm(t.instructor,n,8)},editLesson:function(){return e.props.editLesson(t.lessonsThisDay[8],n,8)}})),s.a.createElement("td",null,s.a.createElement(Oe,{lessonStatusChange:function(){return e.props.lessonStatusChange(t.lessonsThisDay[9],"Finished_Unpaid")},deleteLesson:function(){return e.props.deleteLesson(t.lessonsThisDay[9],n)},data:e.getField(t,9),buttonColor:e.getFieldColor(t,9),isNotInFuture:e.isNotInFuture(t,9),changeShowForm:function(){return e.props.changeShowForm(t.instructor,n,9)},editLesson:function(){return e.props.editLesson(t.lessonsThisDay[9],n,9)}})),s.a.createElement("td",null,s.a.createElement(Oe,{lessonStatusChange:function(){return e.props.lessonStatusChange(t.lessonsThisDay[10],"Finished_Unpaid")},deleteLesson:function(){return e.props.deleteLesson(t.lessonsThisDay[10],n)},data:e.getField(t,10),buttonColor:e.getFieldColor(t,10),isNotInFuture:e.isNotInFuture(t,10),changeShowForm:function(){return e.props.changeShowForm(t.instructor,n,10)},editLesson:function(){return e.props.editLesson(t.lessonsThisDay[10],n,10)}})),s.a.createElement("td",null,s.a.createElement(Oe,{lessonStatusChange:function(){return e.props.lessonStatusChange(t.lessonsThisDay[11],"Finished_Unpaid")},deleteLesson:function(){return e.props.deleteLesson(t.lessonsThisDay[11],n)},data:e.getField(t,11),buttonColor:e.getFieldColor(t,11),isNotInFuture:e.isNotInFuture(t,11),changeShowForm:function(){return e.props.changeShowForm(t.instructor,n,11)},editLesson:function(){return e.props.editLesson(t.lessonsThisDay[11],n,11)}})))}))}}]),n}(s.a.Component),Ae=n(137),je=function(e){Object(g.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).initialState={id:"",date:"Select Date",time:"Select Hour",nrStudents:"Select Nr of Students",status:0,howLong:"Select How Long",students:[],instructors:[],dates:[],times:[],nrStudTable:[],howLongTable:[],instructor:{id:"",lastName:"Select Instructor",firstName:"",NrHoursWeek:0,NrHoursFull:0,WeekWage:0},student:{id:"",lastName:"Select Student",firstName:"",idCardNr:"",telNr:"",paymentStatus:0,lessonHours:0,unpaidLessons:0,moneyOwing:0,moneyInAdvance:""}},a.filterTimesArray=function(){F.a.get("http://localhost:8080/lesson-api/"+a.state.instructor.id+"/"+a.state.date).then((function(e){if(null!=e.data){var t=e.data.content;t=t.map((function(e){return e.time}));var n=e.data.content;n=n.map((function(e){return e.howLong}));for(var s=0;s<n.length;++s)if(n[s]>1)for(var r=t[s].split(":"),o=1;o<n[s];++o){++r[0];var l=r[0]+":00";t=t.concat(l)}a.state.times=[],a.state.times.push("Select Hour"),a.state.times=a.state.times.concat(a.arrayWithHours()),a.setState({times:a.state.times.filter((function(e){return!t.includes(e)}))})}})).catch((function(e){console.error("Error: "+e)}))},a.findAllStudents=function(e){a.props.fetchAllStudents(1,999999999,"asc",e)},a.findAllInstructors=function(e){a.props.fetchAllInstructors(1,999999999,"asc",e)},a.findLessonById=function(e){F.a.get("http://localhost:8080/lesson-api/"+e).then((function(e){null!=e.data&&(a.props.student.students.unshift(e.data.student),a.props.instructor.instructors.unshift(e.data.instructor),a.setState({id:e.data.id,instructor:e.data.instructor,student:e.data.student,date:e.data.date,time:e.data.time,howLong:e.data.howLong,nrStudents:e.data.nrStudents,status:e.data.status}))})).catch((function(e){console.error("Error: "+e)}))},a.isValid=function(){return"Select Student"!==a.state.student.lastName&&"Select Nr of Students"!==a.state.nrStudents&&"Select How Long"!==a.state.howLong||(a.setState({showInvalidMessage:!0,method:"post"}),setTimeout((function(){return a.setState({showInvalidMessage:!1})}),3e3),!1)},a.submitLesson=function(){if(a.isValid()){var e={instructor:a.props.instructor,student:JSON.parse(a.state.student),date:a.props.date,time:a.props.lessonHour,howLong:a.state.howLong,nrStudents:a.state.nrStudents,status:a.state.status};a.props.saveLesson(e),setTimeout((function(){a.props.lesson.error?(a.setState({showCantCreateLessonMessage:!0,method:"post"}),setTimeout((function(){return a.setState({showCantCreateLessonMessage:!1})}),3e3),a.props.lesson.error=""):(a.setState({show:!0,method:"post"}),setTimeout((function(){return a.setState({show:!1})}),3e3),a.resetForm(),setTimeout((function(){return a.props.handleClose(null,a.props.instrIndex,a.props.lessonIndex,!0,e)}),1e3))}),1e3)}},a.updateLesson=function(){if(a.isValid()){"object"===typeof a.state.instructor&&(a.state.instructor=JSON.stringify(a.state.instructor)),"object"===typeof a.state.student&&(a.state.student=JSON.stringify(a.state.student));var e={id:a.state.id,instructor:JSON.parse(a.state.instructor),student:JSON.parse(a.state.student),date:a.state.date,time:a.state.time,howLong:a.state.howLong,nrStudents:a.state.nrStudents,status:a.state.status};a.props.updateLesson(e),setTimeout((function(){a.props.lesson.error?(a.setState({showCantCreateLessonMessage:!0,method:"put"}),setTimeout((function(){return a.setState({showCantCreateLessonMessage:!1})}),3e3),a.props.lesson.error=""):(a.setState({show:!0,method:"put"}),setTimeout((function(){return a.setState({show:!1})}),3e3),a.resetForm(),setTimeout((function(){return a.props.handleClose(null,a.props.instrIndex,a.props.lessonIndex,null,e,!0)}),1e3))}),2e3)}},a.resetForm=function(){a.findAllStudents({id:-1,lastName:"Select Student",firstName:"",idCardNr:"",telNr:"",paymentStatus:0,lessonHours:0,unpaidLessons:0,moneyOwing:0,moneyInAdvance:""}),a.setState({student:a.initialState.student,howLong:a.initialState.howLong,nrStudents:a.initialState.nrStudents})},a.lessonChange=function(e){a.setState(Object(v.a)({},e.target.name,e.target.value))},a.lessonChangeInstructor=function(e){a.setState(Object(v.a)({},e.target.name,e.target.value)),a.state.instructor=e.target.value,"string"===typeof a.state.instructor&&(a.state.instructor=JSON.parse(a.state.instructor)),a.filterTimesArray()},a.onShowHandle=function(){a.props.editedLesson&&(a.setState({id:a.props.editedLesson.id,student:a.props.editedLesson.student,howLong:a.props.editedLesson.howLong,nrStudents:a.props.editedLesson.nrStudents,instructor:a.props.editedLesson.instructor,date:a.props.editedLesson.date,time:a.props.editedLesson.time,status:a.props.editedLesson.status}),a.findAllStudents(a.props.editedLesson.student),a.props.student.students[0]=a.props.editedLesson.student)},a.resetAndCloseForm=function(){a.resetForm(),a.props.handleClose(!1)},a.state=a.initialState,a.state.show=!1,a.state.showInvalidMessage=!1,a.state.showCantCreateLessonMessage=!1,a.state.method="post",a.lessonChange=a.lessonChange.bind(Object(T.a)(a)),a.submitLesson=a.submitLesson.bind(Object(T.a)(a)),a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.findAllStudents({id:-1,lastName:"Select Student",firstName:"",idCardNr:"",telNr:"",paymentStatus:0,lessonHours:0,unpaidLessons:0,moneyOwing:0,moneyInAdvance:""}),this.setArrays()}},{key:"arrayWithHours",value:function(){var e,t=[];for(e=9;e<21;e++)t.push(e+":00");return t}},{key:"addDays",value:function(e,t){var n=new Date(e);return n.setDate(n.getDate()+t),n}},{key:"getDateArray",value:function(e,t){for(var n=new Array,a=new Date(e);a<t;){var s=a.getDate(),r=a.getMonth()+1;s<10&&(s="0"+s),r<10&&(r="0"+r);var o=r+"-"+s+"-"+a.getFullYear();n.push(o),a.setDate(a.getDate()+1)}return n}},{key:"getNrStudArray",value:function(){for(var e=new Array,t=1;t<6;++t)e.push(t);return e}},{key:"getHowLongArray",value:function(){for(var e=new Array,t=1;t<4;++t)e.push(t);return e}},{key:"setArrays",value:function(){this.state.dates.push("Select Date"),this.state.times.push("Select Hour"),this.state.howLongTable.push("Select How Long"),this.state.nrStudTable.push("Select Nr of Students"),this.setState({dates:this.state.dates.concat(this.getDateArray(new Date,this.addDays(new Date,7))),times:this.state.times.concat(this.arrayWithHours()),howLongTable:this.state.howLongTable.concat(this.getHowLongArray()),nrStudTable:this.state.nrStudTable.concat(this.getNrStudArray())}),this.state.id&&this.filterTimesArray()}},{key:"render",value:function(){var e=this,t=this.state,n=t.student,a=(t.time,t.howLong),r=t.nrStudents,o=(this.props.instructor.instructors,this.props.student.students);return s.a.createElement(s.a.Fragment,null,s.a.createElement(Ae.a,{show:this.props.showForm,onHide:function(){return e.resetAndCloseForm()},onShow:function(){return e.onShowHandle()}},s.a.createElement(Ae.a.Header,{className:"border border-light bg-dark text-white",closeButton:!0},s.a.createElement("div",{style:{display:this.state.show?"block":"none"}},s.a.createElement(k,{show:this.state.show,message:"put"===this.state.method?"Lesson Updated Successfully":"Lesson Saved Successfully.",type:"success"})),s.a.createElement("div",{style:{display:this.state.showInvalidMessage?"block":"none"}},s.a.createElement(k,{show:this.state.showInvalidMessage,message:"Fill out the required fields.",type:"dangerNoSuccess"})),s.a.createElement("div",{style:{display:this.state.showCantCreateLessonMessage?"block":"none"}},s.a.createElement(k,{show:this.state.showCantCreateLessonMessage,message:"Can't create such lesson - conflict with other lesson",type:"dangerNoSuccess"})),s.a.createElement(Ae.a.Title,null,s.a.createElement(N.a,{icon:this.props.editedLesson?C.h:C.m})," ",this.props.editedLesson?"Update Lesson":"Add New Lesson")),s.a.createElement(Ae.a.Body,{className:"border border-light bg-dark text-white"},s.a.createElement(w.a,{className:"border border-dark bg-dark text-white"},s.a.createElement(L.a,{onReset:this.resetLesson,onSubmit:this.props.editedLesson?this.updateLesson:this.submitLesson},s.a.createElement(w.a.Body,null,s.a.createElement("h6",null,"Instructor"),s.a.createElement("h5",null,this.props.instructor.firstName+" "+this.props.instructor.lastName),s.a.createElement("h6",null,"Date"),s.a.createElement("h5",null,this.props.date),s.a.createElement("h6",null,"Time"),s.a.createElement("h5",null,this.props.lessonHour),s.a.createElement(L.a.Group,{as:c.a,controlId:"formGridStudent"},s.a.createElement(L.a.Label,null,"Student"),s.a.createElement(L.a.Control,{required:!0,as:"select",name:"student",value:n,onChange:this.lessonChange,className:"bg-dark text-white"},o.filter((function(e,t,n){return t===n.findIndex((function(t){return t.id===e.id}))})).map((function(e){return s.a.createElement("option",{key:e.id,value:JSON.stringify(e)},e.lastName+" "+e.firstName)})))),s.a.createElement(L.a.Row,null,s.a.createElement(L.a.Group,{as:c.a,controlId:"formGridHowLong"},s.a.createElement(L.a.Label,null,"How Long [h]"),s.a.createElement(L.a.Control,{required:!0,as:"select",autoComplete:"off",name:"howLong",value:a,onChange:this.lessonChange,className:"bg-dark text-white"},this.state.howLongTable.map((function(e){return s.a.createElement("option",{key:e,value:e},e)})))),s.a.createElement(L.a.Group,{as:c.a,controlId:"formGridNrStudents"},s.a.createElement(L.a.Label,null,"Nr Of Students"),s.a.createElement(L.a.Control,{required:!0,as:"select",autoComplete:"off",name:"nrStudents",value:r,onChange:this.lessonChange,className:"bg-dark text-white"},this.state.nrStudTable.map((function(e){return s.a.createElement("option",{key:e,value:e},e)}))))))))),s.a.createElement(Ae.a.Footer,{className:"border border-light bg-light text-white"},s.a.createElement("div",null,s.a.createElement(P.a,{size:"sm",variant:"info",type:"submit",onClick:this.props.editedLesson?function(){return e.updateLesson()}:function(){return e.submitLesson()}},s.a.createElement(N.a,{icon:C.n})," ",this.props.editedLesson?"Update":"Submit"),"      ",this.props.editedLesson?" ":s.a.createElement(P.a,{size:"sm",variant:"secondary",type:"reset",onClick:function(){return e.resetForm()}},s.a.createElement(N.a,{icon:C.t}),"  Reset")),"      ",s.a.createElement("div",null,s.a.createElement(P.a,{size:"sm",variant:"border border-dark bg-light",type:"button",onClick:function(){return e.resetAndCloseForm()}},s.a.createElement(N.a,{icon:C.a}),"  Return")))))}}]),n}(s.a.Component),_e=Object(D.b)((function(e){return{lesson:e.lesson,student:e.student}}),(function(e){return{fetchAllStudents:function(t,n,a,s){return e(W(t,n,a,s))},fetchAllInstructors:function(t,n,a,s){return e(A(t,n,a,s))},saveLesson:function(t){return e($(t))},fetchLesson:function(t){return e(X(t))},updateLesson:function(t){return e(Z(t))}}}))(je),He=function(e){Object(g.a)(n,e);var t=Object(E.a)(n);function n(e){var a;Object(m.a)(this,n),(a=t.call(this,e)).changePage=function(e){var t=parseInt(e.target.value);a.state.searchedLesson?a.searchLesson(t):a.findAllLessons(t),a.setState(Object(v.a)({},e.target.name,t))},a.prevPage=function(){var e=a.state.currentPage-1;a.state.currentPage>1&&(a.state.searchedLesson?a.searchLesson(e):a.findAllLessons(e))},a.nextPage=function(){var e=a.state.currentPage+1;a.state.currentPage<Math.ceil(a.state.totalElements/a.state.lessonsPerPage)&&(a.state.searchedLesson?a.searchLesson(e):a.findAllLessons(e))},a.lessonStatusChange=function(e,t){e&&(e.status=t,a.props.updateLesson(e))},a.deleteLesson=function(e,t){if(e){var n=a.state.instructorDay[t].lessonsThisDay.indexOf(e);console.log(a.props),a.props.deleteLesson(e.id),console.log(a.props);for(var s=a.state.instructorDay,r=0;r<e.howLong;++r)s[t].lessonsThisDay[n+r]=null;a.setState({instructorDay:s})}},a.changeShowForm=function(e,t,n,s,r,o){if(a.state.showForm){if(a.setState({showForm:!a.state.showForm,editedLesson:null}),o){for(var l=a.state.instructorDay,i=0;i<3;++i)r.howLong>i?l[t].lessonsThisDay[n+i]=r:l[t].lessonsThisDay[n+i]=null;return void a.setState({instructorDay:l})}if(s){F.a.get("http://localhost:8080/lesson-api/"+r.instructor.id+"/"+r.date+"?page=0&size=1&sortBy=id&sortDir=desc").then((function(e){r.id=e.data.content[0].id})).catch((function(e){console.error("error: "+e)}));for(var c=a.state.instructorDay,u=0;u<r.howLong;++u)c[t].lessonsThisDay[n+u]=r;a.setState({instructorDay:c})}}else a.setState({showForm:!a.state.showForm,instructor:e,lessonHour:n+9+":00",lessonIndex:n,instrIndex:t})},a.editLesson=function(e,t,n){a.setState({editedLesson:e,showForm:!0,instructor:e.instructor,lessonHour:e.time,lessonIndex:n,instrIndex:t})},a.changeDate=function(e){var t=new Date(a.state.date);t.setDate(t.getDate()+e),a.setState({date:t.getMonth()+1+"-"+t.getDate()+"-"+t.getFullYear(),dayName:t.toLocaleString("en-us",{weekday:"long"})}),setTimeout((function(){return a.findAllInstructorsAndSchedules(a.state.date)}),10)};var s=new Date;return a.state={date:s.getMonth()+1+"-"+s.getDate()+"-"+s.getFullYear(),dayName:s.toLocaleString("en-us",{weekday:"long"}),instructor:"khjghgxchgvjh",lessonHour:"",instructors:[],lessons:[],instructorDay:[],currentPage:1,lessonsPerPage:5,searchedLesson:"",sortToggle:!1,showForm:!1,lessonIndex:"",instrIndex:"",editedLesson:""},a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.findAllInstructorsAndSchedules(this.state.date)}},{key:"findAllInstructorsAndSchedules",value:function(e){var t=this,n=[];F.a.get("http://localhost:8080/instructor-api/list?page=0&size=999999999&sortBy=firstName&sortDir=desc").then((function(e){return e.data})).then((function(a){n=a.content,t.findAllInstructorDay(n,e)}))}},{key:"findAllInstructorDay",value:function(e,t){for(var n=this,a=[],s=e.length,r=function(n){var s=e[n];F.a.get("http://localhost:8080/lesson-api/"+s.id+"/"+t).then((function(e){if(null!=e.data){var t={instructor:"",lessonsThisDay:[]};t.instructor=s,e.data.content.forEach((function(e){for(var n=e.time,a=(n=n.split(":")[0])-9,s=0;s<e.howLong;++s)t.lessonsThisDay[a+s]=e})),a[n]=t}}))},o=0;o<s;++o)r(o);this.setState({instructorDay:a}),setTimeout((function(){return n.forceUpdate()}),500)}},{key:"checkIfLessonInThePast",value:function(){for(var e=new Date,t=0;t<this.state.lessons.length;++t){var n=new Date(this.state.lessons[t].date);"To_Give"===this.state.lessons[t].status&&n<e&&this.lessonStatusChange(this.state.lessons[t],3)}}},{key:"render",value:function(){var e=this,t=this.state,n=t.instructorDay;t.instructors;return s.a.createElement("div",null,s.a.createElement(_e,{instructor:this.state.instructor,lessonHour:this.state.lessonHour,date:this.state.date,instrIndex:this.state.instrIndex,lessonIndex:this.state.lessonIndex,editedLesson:this.state.editedLesson,showForm:this.state.showForm,handleClose:function(t,n,a,s,r,o){return e.changeShowForm(t,n,a,s,r,o)}}),s.a.createElement(w.a,{className:"border border-dark bg-dark text-white"},s.a.createElement(w.a.Header,null,s.a.createElement("div",{id:"container",style:{clear:"both",display:"flex",justifyContent:"space-between"}},s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement(P.a,{variant:"outline-light",onClick:function(t){return e.changeDate(-1)}}," ",s.a.createElement(N.a,{icon:C.a})," "),"  ",s.a.createElement(N.a,{icon:C.c}),"   ",this.state.dayName," ",this.state.date," ",s.a.createElement(P.a,{variant:"outline-light",onClick:function(t){return e.changeDate(1)}}," ",s.a.createElement(N.a,{icon:C.b})," ")),s.a.createElement("div",{style:{textAlign:"right"}},s.a.createElement(p.b,{to:"add-lesson",className:"nav-link"},s.a.createElement(Se.a,null,s.a.createElement(P.a,{size:"lg",variant:"outline-light"}," ",s.a.createElement(N.a,{icon:C.d})," ")))))),s.a.createElement(w.a.Body,null,s.a.createElement(Ee.a,{striped:!0,bordered:!0,hover:!0,variant:"dark"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Instructor"),s.a.createElement("th",null,"9:00"),s.a.createElement("th",null,"10:00"),s.a.createElement("th",null,"11:00"),s.a.createElement("th",null,"12:00"),s.a.createElement("th",null,"13:00"),s.a.createElement("th",null,"14:00"),s.a.createElement("th",null,"15:00"),s.a.createElement("th",null,"16:00"),s.a.createElement("th",null,"17:00"),s.a.createElement("th",null,"18:00"),s.a.createElement("th",null,"19:00"),s.a.createElement("th",null,"20:00"))),s.a.createElement("tbody",null,s.a.createElement(Fe,{instructorDay:n,lessonStatusChange:function(t,n){return e.lessonStatusChange(t,n)},deleteLesson:function(t,n){return e.deleteLesson(t,n)},changeShowForm:function(t,n,a,s,r,o){return e.changeShowForm(t,n,a,s,r,o)},editLesson:function(t,n,a){return e.editLesson(t,n,a)}})))),s.a.createElement(w.a.Footer,null)))}}]),n}(s.a.Component),Ue=Object(D.b)((function(e){return{lesson:e.lesson}}),(function(e){return{updateLesson:function(t){return e(Z(t))},deleteLesson:function(t){return e(ee(t))}}}))(He),xe=function(e){Object(g.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).initialState={id:"",name:"",minNrHours:"",onePPrice:"",twoPPrice:"",threePPrice:""},a.findPriceTableById=function(e){a.props.fetchPriceTable(e),setTimeout((function(){var e=a.props.priceTable.priceTable;null!=e&&a.setState({id:e.id,name:e.name,minNrHours:e.minNrHours,onePPrice:e.onePPrice,twoPPrice:e.twoPPrice,threePPrice:e.threePPrice})}),1e3)},a.returnToList=function(){return a.props.history.push("/priceTableList")},a.submitPriceTable=function(e){e.preventDefault();var t={name:a.state.name,minNrHours:a.state.minNrHours,onePPrice:a.state.onePPrice,twoPPrice:a.state.twoPPrice,threePPrice:a.state.threePPrice};a.props.savePriceTable(t),setTimeout((function(){a.props.priceTable?(a.setState({show:!0,method:"post"}),setTimeout((function(){return a.setState({show:!1})}),3e3),setTimeout((function(){return a.returnToList()}),1e3)):(a.setState({showInvalidMessage:!0,method:"post"}),setTimeout((function(){return a.setState({showInvalidMessage:!1})}),3e3))}),1e3)},a.updatePriceTable=function(e){e.preventDefault();var t={id:a.state.id,name:a.state.name,minNrHours:a.state.minNrHours,onePPrice:a.state.onePPrice,twoPPrice:a.state.twoPPrice,threePPrice:a.state.threePPrice};a.props.updatePriceTable(t),setTimeout((function(){a.props.priceTable.error?(a.setState({showInvalidMessage:!0,method:"post"}),setTimeout((function(){return a.setState({showInvalidMessage:!1})}),3e3)):(a.setState({show:!0,method:"put"}),setTimeout((function(){return a.setState({show:!1})}),3e3),setTimeout((function(){return a.returnToList()}),1e3))}),2e3)},a.resetPriceTable=function(){a.setState((function(){return a.initialState}))},a.priceTableChange=function(e){a.setState(Object(v.a)({},e.target.name,e.target.value))},a.state=a.initialState,a.state.show=!1,a.state.showInvalidMessage=!1,a.state.method="post",a.priceTableChange=a.priceTableChange.bind(Object(T.a)(a)),a.submitPriceTable=a.submitPriceTable.bind(Object(T.a)(a)),a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=+this.props.match.params.id;e&&this.findPriceTableById(e)}},{key:"render",value:function(){var e=this.state,t=e.name,n=e.minNrHours,a=e.onePPrice,r=e.twoPPrice,o=e.threePPrice,l=+this.props.match.params.id;return s.a.createElement("div",null,s.a.createElement("div",{style:{display:this.state.show?"block":"none"}},s.a.createElement(k,{show:this.state.show,message:"put"===this.state.method?"PriceTable Updated Successfully":"PriceTable Saved Successfully.",type:"success"})),s.a.createElement("div",{style:{display:this.state.showInvalidMessage?"block":"none"}},s.a.createElement(k,{show:this.state.showInvalidMessage,message:"Invalid Data - might be in the data base already",type:"dangerNoSuccess"})),s.a.createElement(w.a,{className:"border border-dark bg-dark text-white"},s.a.createElement(w.a.Header,null,s.a.createElement(N.a,{icon:l?C.h:C.m})," ",l?"Update PriceTable":"Add New PriceTable"),s.a.createElement(L.a,{onReset:this.resetPriceTable,onSubmit:l?this.updatePriceTable:this.submitPriceTable},s.a.createElement(w.a.Body,null,s.a.createElement(L.a.Row,null,s.a.createElement(L.a.Group,{as:c.a,controlId:"formGridName"},s.a.createElement(L.a.Label,null,"Offer Name"),s.a.createElement(L.a.Control,{required:!0,autoComplete:"off",type:"test",name:"name",value:t,onChange:this.priceTableChange,placeholder:"Enter Offer Name",className:"bg-dark text-white"})),s.a.createElement(L.a.Group,{as:c.a,controlId:"formGridMinNrHours"},s.a.createElement(L.a.Label,null,"Min Nr of Hours"),s.a.createElement(L.a.Control,{required:!0,autoComplete:"off",type:"test",name:"minNrHours",value:n,onChange:this.priceTableChange,placeholder:" Enter Min Nr of Hours",className:"bg-dark text-white"}))),s.a.createElement(L.a.Row,null,s.a.createElement(L.a.Group,{as:c.a,controlId:"formGridOnePPrice"},s.a.createElement(L.a.Label,null,"Price for 1 Person"),s.a.createElement(L.a.Control,{required:!0,autoComplete:"off",type:"test",name:"onePPrice",value:a,onChange:this.priceTableChange,placeholder:"Enter Price",className:"bg-dark text-white"})),s.a.createElement(L.a.Group,{as:c.a,controlId:"formGridTwoPPrice"},s.a.createElement(L.a.Label,null,"Price for 1 P in group of 2"),s.a.createElement(L.a.Control,{required:!0,autoComplete:"off",type:"test",name:"twoPPrice",value:r,onChange:this.priceTableChange,placeholder:" Enter price",className:"bg-dark text-white"})),s.a.createElement(L.a.Group,{as:c.a,controlId:"formGridThreePPrice"},s.a.createElement(L.a.Label,null,"Price for 1 P in group of 3"),s.a.createElement(L.a.Control,{required:!0,autoComplete:"off",type:"test",name:"threePPrice",value:o,onChange:this.priceTableChange,placeholder:" Enter price",className:"bg-dark text-white"})))),s.a.createElement(w.a.Footer,null,s.a.createElement("div",null,s.a.createElement(P.a,{size:"sm",variant:"primary",type:"submit"},s.a.createElement(N.a,{icon:C.n})," ",l?"Update":"Submit"),"      ",s.a.createElement(P.a,{size:"sm",variant:"secondary",type:"reset"},s.a.createElement(N.a,{icon:C.t}),"  Reset")),"      ",s.a.createElement("div",null,s.a.createElement(P.a,{size:"sm",variant:"light",type:"button",onClick:this.returnToList.bind()},s.a.createElement(N.a,{icon:C.a}),"  Return"))))))}}]),n}(s.a.Component),Re=Object(D.b)((function(e){return{priceTable:e.priceTable}}),(function(e){return{savePriceTable:function(t){return e(function(e){return function(t){F.a.post("http://localhost:8080/priceTable-api/list",e).then((function(n){t(ie(e))})).catch((function(e){console.log(e),t(de(e))}))}}(t))},fetchPriceTable:function(t){return e(function(e){return function(t){F.a.get("http://localhost:8080/priceTable-api/"+e).then((function(e){t(ce(e.data))})).catch((function(e){t(de(e))}))}}(t))},updatePriceTable:function(t){return e(function(e){return e.NrHoursWeek=0,e.NrHoursFull=0,e.WeekWage=0,function(t){F.a.put("http://localhost:8080/priceTable-api/"+e.id,e).then((function(n){t(function(e){return{type:"UPDATE_PRICE_TABLE_REQUEST",updatedPriceTable:e}}(e))})).catch((function(e){console.log(e),t(de(e))}))}}(t))}}}))(xe),Me=function(e){Object(g.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).deletePriceTable=function(e){a.props.deletePriceTable(e),setTimeout((function(){null!=a.props.priceTable?(a.setState({show:!0}),setTimeout((function(){return a.setState({show:!1})}),1e3)):a.setState({show:!1})}),1e3),a.props.fetchAllPriceTables()},a.state={priceTables:[]},a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchAllPriceTables()}},{key:"render",value:function(){var e=this,t=(this.props.priceTable,this.props.priceTables);return s.a.createElement("div",null,s.a.createElement("div",{style:{display:this.state.show?"block":"none"}},s.a.createElement(k,{show:this.state.show,message:"PriceTable Deleted Successfully.",type:"danger"})),s.a.createElement(w.a,{className:"border border-dark bg-dark text-white"},s.a.createElement(w.a.Header,null,s.a.createElement("div",{style:{float:"left"}},s.a.createElement(N.a,{icon:C.l}),"     PriceTables List")),s.a.createElement(w.a.Body,null,s.a.createElement(Ee.a,{striped:!0,bordered:!0,hover:!0,variant:"dark"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Name"),s.a.createElement("th",null,"Min nr hours"),s.a.createElement("th",null,"1 Person [zl]"),s.a.createElement("th",null,"2 People [zl/1 Person]"),s.a.createElement("th",null,"3+ People [zl/1 Person]"),s.a.createElement("th",null,"Actions"))),s.a.createElement("tbody",null,0===t.length?s.a.createElement("tr",{align:"center"},s.a.createElement("td",{colSpan:"10"}," No PriceTables in the Data Base")):t.map((function(t,n){return s.a.createElement("tr",{key:t.id},s.a.createElement("td",null,t.name),s.a.createElement("td",null,t.minNrHours),s.a.createElement("td",null,t.onePPrice),s.a.createElement("td",null,t.twoPPrice),s.a.createElement("td",null,t.threePPrice),s.a.createElement("td",null,s.a.createElement(Se.a,null,s.a.createElement(p.b,{to:"editPriceTable/"+t.id}," ",s.a.createElement(P.a,{size:"sm",variant:"outline-primary"}," ",s.a.createElement(N.a,{icon:C.h})," ")," "),s.a.createElement(P.a,{size:"sm",variant:"outline-danger",onClick:e.deletePriceTable.bind(e,t.id)}," ",s.a.createElement(N.a,{icon:C.s})," "))))}))))),s.a.createElement(w.a.Footer,null,s.a.createElement("div",{style:{float:"left"}},s.a.createElement(p.b,{to:"add-priceTable",className:"nav-link"},s.a.createElement(Se.a,null,s.a.createElement(P.a,{size:"lg",variant:"outline-light"}," ",s.a.createElement(N.a,{icon:C.m})," ")))))))}}]),n}(s.a.Component),We=Object(D.b)((function(e){return{priceTable:e.priceTable,priceTables:e.priceTable.priceTables}}),(function(e){return{fetchAllPriceTables:function(){return e(le())},deletePriceTable:function(t){return e(function(e){return function(t){F.a.delete("http://localhost:8080/priceTable-api/list/"+e).then((function(n){t(function(e){return{type:"DELETE_PRICE_TABLE_REQUEST",priceTableId:e}}(e)),t(ue(n.data))})).catch((function(e){t(de(e))}))}}(t))}}}))(Me),ze=function(e){Object(g.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).lessonStatusChange=function(e,t){e.status=t,a.props.updateLesson(e),a.props.fetchAllLessonsForStudent(a.props.studentId,0,999999)},a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.checkIfLessonInThePast()}),99999900)}},{key:"checkIfLessonInThePast",value:function(){for(var e=new Date((new Date).setDate((new Date).getDate()-1)),t=this.props.lessons.length,n=!1,a=0;a<t;++a){var s=new Date(this.props.lessons[a].date);"To_Give"===this.props.lessons[a].status&&s<e&&(this.lessonStatusChange(this.props.lessons[a],3),n||(n=!0))}n&&this.props.fetchAllLessonsForStudent(this.props.studentId,0,999999)}},{key:"render",value:function(){var e=this,t=(this.props.lesson.searchedLesson,this.props.lesson.totalPages,this.props.lesson.totalElements,this.props.lesson,this.props.lessons);return s.a.createElement("div",null,s.a.createElement(Ae.a,{show:this.props.showLessonList,onHide:function(){return e.props.onClose()}},s.a.createElement(Ae.a.Header,{className:"border border-light bg-dark text-white",closeButton:!0},s.a.createElement("div",{style:{float:"left"}},s.a.createElement(N.a,{icon:C.k}),"  ",this.props.student.firstName," ",this.props.student.lastName,"'s lessons list")),s.a.createElement(w.a,{className:" bg-dark text-white"},s.a.createElement(w.a.Body,null,s.a.createElement(Ee.a,{striped:!0,bordered:!0,hover:!0,variant:"dark"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null," Date ",s.a.createElement("div",null)," "),s.a.createElement("th",null,"Time"),s.a.createElement("th",null,"How Long [h]"),s.a.createElement("th",null,"Nr of Students"),s.a.createElement("th",null,"Instructor"))),s.a.createElement("tbody",null,0===t.length?s.a.createElement("tr",{align:"center"},s.a.createElement("td",{colSpan:"999999"}," No Lessons in the Data Base")):t.filter((function(e){return"Finished_Unpaid"==e.status})).map((function(e){return s.a.createElement("tr",{key:e.id},s.a.createElement("td",null,e.date),s.a.createElement("td",null,e.time),s.a.createElement("td",null,e.howLong),s.a.createElement("td",null,e.nrStudents),s.a.createElement("td",null,e.instructor.firstName," ",e.instructor.lastName))}))))))))}}]),n}(s.a.Component),Be=Object(D.b)((function(e){return{lesson:e.lesson,lessons:e.lesson.lessons,totalPages:e.lesson.totalPages,totalElements:e.lesson.totalElements,currentPage:e.lesson.currentPage}}),(function(e){return{fetchAllLessonsForStudent:function(t,n,a){return e(re(t,n,a))},deleteLesson:function(t){return e(ee(t))},searchLessons:function(t,n,a){return e(ae(t,n,a))},updateLesson:function(t){return e(Z(t))}}}))(ze),Ge=function(e){Object(g.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).countTotalPrice=function(){var e=a.state.priceOneH[0]*a.state.howMany1p;e+=a.state.priceOneH[1]*a.state.howMany2p,e=(e+=a.state.priceOneH[2]*a.state.howMany3p)*(100-a.state.discount)/100,a.props.student.student.moneyInAdvance&&(e-=a.props.student.student.moneyInAdvance),a.setState({totalPrice:e})},a.countLessons=function(){var e=a.props.lessons;e=e.filter((function(e){return"Finished_Unpaid"===e.status}));for(var t=0,n=0,s=0,r=0;r<e.length;++r){switch(e[r].nrStudents){case 1:t+=e[r].howLong;break;case 2:n+=e[r].howLong;break;default:s+=e[r].howLong}a.setState({howMany1p:t,howMany2p:n,howMany3p:s})}},a.findAllPriceTables=function(){var e=a.props.student.student.lessonHours;a.props.fetchPriceTableWithNrOfLessons(e),setTimeout((function(){a.props.fetchAllPriceTables(a.props.priceTable.priceTable)}),100),setTimeout((function(){a.setState({priceTable:a.props.priceTable.priceTable}),a.setPriceOneH()}),100)},a.setPriceOneH=function(){var e,t;a.state.customPrice?e=[a.state.customPrice,a.state.customPrice,a.state.customPrice]:e=[(t="object"!==typeof a.state.priceTable?JSON.parse(a.state.priceTable):a.state.priceTable).onePPrice,t.twoPPrice,t.threePPrice];a.setState({priceOneH:e})},a.findStudentById=function(e){a.props.fetchStudent(e),setTimeout((function(){var e=a.props.student.student;null!=e&&a.setState({student:e})}),1e3)},a.settleChange=function(e){a.setState(Object(v.a)({},e.target.name,e.target.value)),a.setPriceOneH(),setTimeout((function(){a.setPriceOneH(),a.countTotalPrice()}),100)},a.handleCheckboxCustomPriceChange=function(){a.setState({disableCustomPrice:!a.state.disableCustomPrice,customPrice:""}),setTimeout((function(){a.state.disableCustomPrice&&(a.setPriceOneH(),a.countTotalPrice())}),10)},a.handleCheckboxDiscountChange=function(){a.setState({disableDiscount:!a.state.disableDiscount,discount:""}),setTimeout((function(){a.state.disableDiscount&&(a.setPriceOneH(),a.countTotalPrice())}),10)},a.returnToStudentList=function(){return a.props.history.push("/students")},a.settleStudent=function(){for(var e=a.props.lessons,t=0;t<e.length;++t)if("Finished_Unpaid"===e[t].status){var n={id:e[t].id,instructor:e[t].instructor,student:e[t].student,date:e[t].date,time:e[t].time,howLong:e[t].howLong,nrStudents:e[t].nrStudents,status:"Finished_Paid"};a.props.updateLesson(n)}if(a.state.totalPrice<0)var s=-a.state.totalPrice,r="We_Owe";else s=0,r="Settled";var o={id:a.props.student.student.id,lastName:a.props.student.student.lastName,firstName:a.props.student.student.firstName,idCardNr:a.props.student.student.idCardNr,telNr:a.props.student.student.telNr,paymentStatus:r,lessonHours:a.props.student.student.lessonHours,unpaidLessons:a.props.student.student.unpaidLessons,moneyOwing:a.props.student.student.moneyOwing,moneyInAdvance:s};a.props.updateStudent(o),setTimeout((function(){a.props.student.error||a.props.lesson.error?(a.setState({showInvalidMessage:!0,method:"post"}),setTimeout((function(){return a.setState({showInvalidMessage:!1})}),3e3)):(a.setState({showSuccesMessage:!0}),setTimeout((function(){return a.setState({showSuccessMessage:!1})}),3e3),setTimeout((function(){return a.returnToStudentList()}),1e3))}),2e3)},a.listButtonHandle=function(){a.setState({showLessonList:!a.state.showLessonList})},a.state={idStudent:+a.props.match.params.id,student:"",lessons:[],priceTable:"",priceOneH:[],customPrice:"",discount:"",totalPrice:"",howMany1p:"",howMany2p:"",howMany3p:"",currentPage:1,lessonsPerPage:20,searchedLesson:"",sortToggle:!1,disableCustomPrice:!0,disableDiscount:!0,showSuccessMessage:!1,showLessonList:!1},a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.findStudentById(this.state.idStudent),this.props.fetchAllLessonsForStudent(+this.props.match.params.id,1,this.state.lessonsPerPage),setTimeout((function(){e.findAllPriceTables(),e.countLessons(),setTimeout((function(){e.countTotalPrice()}),100)}),1e3)}},{key:"render",value:function(){var e=this,t=(this.props.lesson.searchedLesson,this.props.lesson.totalPages,this.props.lesson.totalElements,this.props.lesson,this.props.lessons),n=(this.props.lesson.currentPage,this.props.student.student),a=this.props.student.student,r=a.moneyInAdvance,o=a.unpaidLessons,l=(a.paymentStatus,a.lessonHours),i=this.props.priceTable.priceTables,u=this.state,d=u.priceTable,p=(u.priceOneH,u.discount),h=u.totalPrice,m=(u.payForHowMany,u.howMany1p),f=u.howMany2p,g=u.howMany3p,E=u.customPrice;return s.a.createElement("div",null,s.a.createElement("div",{style:{display:this.state.show?"block":"none"}},s.a.createElement(k,{show:this.state.show,message:"Student Settled Successfully",type:"success"})),s.a.createElement(Be,{showLessonList:this.state.showLessonList,student:n,lessons:t,onClose:this.listButtonHandle}),s.a.createElement(w.a,{className:"border border-dark bg-dark text-white"},s.a.createElement(w.a.Header,null,s.a.createElement(N.a,{icon:C.w})," Settle Student"),s.a.createElement(L.a,null,s.a.createElement(w.a.Body,null,s.a.createElement("div",{id:"container",style:{clear:"both",display:"flex",justifyContent:"space-between"}},s.a.createElement("div",null,s.a.createElement("h5",null,"Student"),s.a.createElement("h4",null,n.firstName+" "+n.lastName),s.a.createElement("h6",null,"Full Nr of Lessons [h]"),s.a.createElement("h5",null,l),s.a.createElement("h6",null,"Nr of Unpaid Lessons [h] (1p/2p/+3p)"),s.a.createElement("h5",null,o," (",m||0,"/",f||0,"/",g||0,")"),s.a.createElement("h6",null,"Money in advance [zl]"),s.a.createElement("h5",null,r),s.a.createElement("h5",null,"Total price"),s.a.createElement("h4",null,h||0," zl")),s.a.createElement("div",null,s.a.createElement(L.a.Group,{as:c.a,controlId:"formGridPriceTables"},s.a.createElement(L.a.Label,null,"Offer"),s.a.createElement(L.a.Control,{disabled:!this.state.disableCustomPrice,required:!0,as:"select",autoComplete:"off",name:"priceTable",value:d,onChange:this.settleChange,className:"bg-dark text-white"},this.state.disableCustomPrice?i.map((function(e){return s.a.createElement("option",{key:e.id,value:JSON.stringify(e)},e.name+" "+e.minNrHours+"h")})):"")),s.a.createElement(fe.a,{className:"mb-3"},s.a.createElement(fe.a.Prepend,null,s.a.createElement(fe.a.Checkbox,{onChange:function(){return e.handleCheckboxCustomPriceChange()}})),s.a.createElement(L.a.Group,{as:c.a,controlId:"formGridCustomPrice",name:"customPrice"},s.a.createElement(L.a.Label,null,"Custom Price"),s.a.createElement(L.a.Control,{disabled:this.state.disableCustomPrice,autoComplete:"off",type:"test",name:"customPrice",value:E,onChange:this.settleChange,placeholder:this.state.disableCustomPrice?"":"Enter Price [zl]",className:"bg-dark text-white"}))),s.a.createElement(fe.a,{className:"mb-3"},s.a.createElement(fe.a.Prepend,null,s.a.createElement(fe.a.Checkbox,{onChange:function(){return e.handleCheckboxDiscountChange()}})),s.a.createElement(L.a.Group,{as:c.a,controlId:"formGridDiscount",name:"discount"},s.a.createElement(L.a.Label,null,"Discount [%]"),s.a.createElement(L.a.Control,{disabled:this.state.disableDiscount,autoComplete:"off",type:"test",name:"discount",value:p,onChange:this.settleChange,placeholder:this.state.disableDiscount?"":"Enter Discount [%]",className:"bg-dark text-white"})))))),s.a.createElement(w.a.Footer,null,s.a.createElement("div",{id:"container",style:{clear:"both",display:"flex",justifyContent:"space-between"}},s.a.createElement("div",null,s.a.createElement(P.a,{size:"sm",variant:"info",onClick:function(){return e.settleStudent()}},s.a.createElement(N.a,{icon:C.l}),"  Settle"),"      ",s.a.createElement(P.a,{size:"sm",variant:"secondary",type:"reset"},s.a.createElement(N.a,{icon:C.t}),"  Reset")),s.a.createElement(P.a,{size:"bg",variant:"light",disabled:!t.filter((function(e){return"Finished_Unpaid"==e.status})).length,onClick:function(){return e.listButtonHandle()}},s.a.createElement(N.a,{icon:C.k}),"  Unpaid Lessons")),"      ",s.a.createElement("div",null,s.a.createElement(P.a,{size:"sm",variant:"light",type:"button",onClick:function(){return e.returnToStudentList()}},s.a.createElement(N.a,{icon:C.a}),"  Return"))))))}}]),n}(s.a.Component),Qe=Object(D.b)((function(e){return{lessons:e.lesson.lessons,lesson:e.lesson.lesson,student:e.student,priceTable:e.priceTable}}),(function(e){return{fetchAllLessonsForStudent:function(t,n,a){return e(re(t,n,a))},deleteLesson:function(t){return e(ee(t))},searchLessons:function(t,n,a){return e(ae(t,n,a))},updateLesson:function(t){return e(Z(t))},fetchStudent:function(t){return e(G(t))},fetchAllPriceTables:function(t){return e(le(t))},fetchPriceTableWithNrOfLessons:function(t){return e(function(e){return function(t){F.a.get("http://localhost:8080/priceTable-api/fullNrOfLessons/"+e).then((function(e){t(ce(e.data))})).catch((function(e){t(de(e))}))}}(t))},updateStudent:function(t){return e(Q(t))}}}))(Ge),qe=function(e){Object(g.a)(n,e);var t=Object(E.a)(n);function n(e){var a;Object(m.a)(this,n),(a=t.call(this,e)).findWeekInstructorTab=function(e){F.a.get("http://localhost:8080/weekInstructor-api/studentWeekInstructors/"+e).then((function(e){null!=e.data&&a.setState({weekInstructorTab:e.data.content})})).catch((function(e){console.error("Error: "+e)}))},a.findWeekInstructor=function(e,t){F.a.get("http://localhost:8080/weekInstructor-api/"+e+"/"+t).then((function(e){null!=e.data&&a.setState({weekInstructor:e.data})})).catch((function(e){console.error("Error: "+e)}))},a.findInstructorById=function(e){a.props.fetchInstructor(e),setTimeout((function(){var e=a.props.instructor.instructor;null!=e&&a.setState({instructor:e})}),1e3)},a.settleChange=function(e){a.setState(Object(v.a)({},e.target.name,e.target.value))},a.returnToInstructorList=function(){return a.props.history.push("/instructors")},a.settleInstructor=function(){var e={id:a.state.weekInstructor.id,instructor:a.state.instructor,beginningDate:a.state.weekInstructor.beginningDate,endDate:a.state.weekInstructor.endDate,fullNrOfLessonsWeek:a.state.weekInstructor.fullNrOfLessonsWeek,nrOfLessons1p:a.state.weekInstructor.nrOfLessons1p,nrOfLessons2p:a.state.weekInstructor.nrOfLessons2p,nrOfLessons3p:a.state.weekInstructor.nrOfLessons3p,weekWage:a.state.weekInstructor.weekWage,status:1};F.a.put("http://localhost:8080/weekInstructor-api/"+e.id,e).then((function(e){null!=e.data?(a.setState({showSuccesMessage:!0}),setTimeout((function(){return a.setState({showSuccessMessage:!1})}),3e3),setTimeout((function(){return a.returnToInstructorList()}),2e3)):(a.setState({showInvalidMessage:!0,method:"post"}),setTimeout((function(){return a.setState({showInvalidMessage:!1})}),3e3))})).catch((function(e){console.error("Error: "+e)}))};var s=new Date;return a.state={idInstructor:+a.props.match.params.id,instructor:"",weekInstructorTab:[],weekInstructor:"",showSuccessMessage:!1,showInvalidMessage:!1,date:s.getMonth()+1+"-"+s.getDate()+"-"+s.getFullYear()},a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.findInstructorById(this.state.idInstructor),this.findWeekInstructorTab(this.state.idInstructor),this.findWeekInstructor(this.state.idInstructor,this.state.date)}},{key:"render",value:function(){var e=this,t=this.state.instructor,n=this.state,a=n.weekInstructorTab,r=n.weekInstructor;return s.a.createElement("div",null,s.a.createElement("div",{style:{display:this.state.showSuccessMessage?"block":"none"}},s.a.createElement(k,{show:this.state.showSuccessMessage,message:"Instructor Settled Successfully",type:"success"})),s.a.createElement("div",{style:{display:this.state.showInvalidMessage?"block":"none"}},s.a.createElement(k,{show:this.state.showInvalidMessage,message:"Couldn't settle instructor",type:"dangerNoSuccess"})),s.a.createElement(w.a,{className:"border border-dark bg-dark text-white"},s.a.createElement(w.a.Header,null,s.a.createElement(N.a,{icon:C.w})," Settle Instructor"),s.a.createElement(L.a,null,s.a.createElement(w.a.Body,null,s.a.createElement("div",{id:"container",style:{clear:"both",display:"flex",justifyContent:"space-between"}},s.a.createElement("div",null,s.a.createElement("h5",null,"Instructor"),s.a.createElement("h4",null,t.firstName+" "+t.lastName),s.a.createElement("h6",null,"Date (Monday - Sunday)"),s.a.createElement("h5",null,r.beginningDate," - ",r.endDate),s.a.createElement("h6",null,"Nr of Lessons This Week[h]"),s.a.createElement("h5",null,r.fullNrOfLessonsWeek),s.a.createElement("h6",null,"(1p/2p/+3p)"),s.a.createElement("h5",null,r.nrOfLessons1p?r.nrOfLessons1p:0," /",r.nrOfLessons2p?r.nrOfLessons2p:0," /",r.nrOfLessons3p?r.nrOfLessons3p:0," "),s.a.createElement("h5",null," Week's Wage [zl]"),s.a.createElement("h4",null,r.weekWage?r.weekWage:0)),s.a.createElement(L.a.Group,{as:c.a,controlId:"formGridWhichWeek"},s.a.createElement(L.a.Label,null,"Choose Week"),s.a.createElement(L.a.Control,{required:!0,as:"select",autoComplete:"off",name:"weekInstructor",value:r,onChange:this.settleChange,className:"bg-dark text-white"},a.filter((function(e){return"Not_Settled"===e.status})).length?a.filter((function(e){return"Not_Settled"===e.status})).map((function(e){return s.a.createElement("option",{key:e.id,value:e},e.beginningDate," - ",e.endDate)})):s.a.createElement("option",null,"All weeks are settled"))))),s.a.createElement(w.a.Footer,null,s.a.createElement("div",null,s.a.createElement(P.a,{size:"sm",variant:"info",onClick:function(){return e.settleInstructor()}},s.a.createElement(N.a,{icon:C.l}),"  Settle"),"     ",s.a.createElement(P.a,{size:"sm",variant:"light",type:"button",onClick:function(){return e.returnToInstructorList()}},s.a.createElement(N.a,{icon:C.a}),"  Return"))))))}}]),n}(s.a.Component),Je=Object(D.b)((function(e){return{instructor:e.instructor}}),(function(e){return{fetchInstructor:function(t){return e(_(t))},updateInstructor:function(t){return e(H(t))}}}))(qe);function Ve(){return s.a.createElement(p.a,null,s.a.createElement(h,null),s.a.createElement(l.a,null,s.a.createElement(i.a,null,s.a.createElement(c.a,{lg:12,style:{marginTop:"20px"}},s.a.createElement(y.c,null,s.a.createElement(y.a,{path:"/",exact:!0,component:function(){return s.a.createElement(b,{heading:"Surf School App",footer:"In progress"})}}),s.a.createElement(y.a,{path:"/students",exact:!0,component:ye}),s.a.createElement(y.a,{path:"/add-student",exact:!0,component:me}),s.a.createElement(y.a,{path:"/add-instructor",exact:!0,component:Te}),s.a.createElement(y.a,{path:"/editStudent/:id",exact:!0,component:me}),s.a.createElement(y.a,{path:"/settleStudent/:id",exact:!0,component:Qe}),s.a.createElement(y.a,{path:"/editInstructor/:id",exact:!0,component:Te}),s.a.createElement(y.a,{path:"/settleInstructor/:id",exact:!0,component:Je}),s.a.createElement(y.a,{path:"/lessons",exact:!0,component:Ie}),s.a.createElement(y.a,{path:"/add-lesson",exact:!0,component:Ce}),s.a.createElement(y.a,{path:"/editLesson/:id",exact:!0,component:Ce}),s.a.createElement(y.a,{path:"/schedule",exact:!0,component:Ue}),s.a.createElement(y.a,{path:"/instructors",exact:!0,component:Le}),s.a.createElement(y.a,{path:"/priceTableList",exact:!0,component:We}),s.a.createElement(y.a,{path:"/add-priceTable",exact:!0,component:Re}),s.a.createElement(y.a,{path:"/editPriceTable/:id",exact:!0,component:Re}))))))}var Ye=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function $e(e,t){navigator.serviceWorker.register(e,{scope:"/"}).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Ke=n(40),Xe=n(88),Ze=n(8),et={instructor:"",error:"",instructors:[],currentPage:1,searchedInstructor:"",sortDirection:"asc",instructorsPerPage:5},tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ALL_INSTRUCTORS_REQUEST":return Object(Ze.a)({},e);case"UPDATE_INSTRUCTOR_REQUEST":return console.log(t),Object(Ze.a)(Object(Ze.a)({},e),{},{instructor:t.updatedInstructor,instructors:e.instructors.map((function(e,n){return n===t.updatedInstructor.id?t.updatedInstructor:e}))});case"FETCH_INSTRUCTOR_REQUEST":return Object(Ze.a)(Object(Ze.a)({},e),{},{instructor:t.updatedInstructor});case"SAVE_INSTRUCTOR_REQUEST":return Object(Ze.a)(Object(Ze.a)({},e),{},{instructors:e.instructors.concat(t.newItem),instructor:t.newItem});case"DELETE_INSTRUCTOR_REQUEST":return Object(Ze.a)(Object(Ze.a)({},e),{},{instructors:e.instructors.filter((function(e){return e.id!==t.instructorId}))});case"INSTRUCTOR_SUCCESS":return Object(Ze.a)(Object(Ze.a)({},e),{},{instructor:t.payload,error:""});case"INSTRUCTOR_FAILURE":return Object(Ze.a)(Object(Ze.a)({},e),{},{error:t.payload});case"FETCH_ALL_INSTRUCTORS_SUCCESS":return Object(Ze.a)(Object(Ze.a)({},e),{},{instructors:t.payload,totalElements:t.totalElements,totalPages:t.totalPages,sortDirection:t.sortDirection,error:""});case"FETCH_SEARCH_INSTRUCTORS_REQUEST":return Object(Ze.a)(Object(Ze.a)({},e),{},{instructors:t.instructors,error:""});default:return e}},nt={student:"",error:"",students:[],currentPage:1,searchedStudent:"",sortDirection:"asc",studentsPerPage:5},at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ALL_STUDENTS_REQUEST":return Object(Ze.a)(Object(Ze.a)({},e),{},{students:t.payload,totalElements:t.totalElements,totalPages:t.totalPages,sortDirection:t.sortDirection,error:""});case"UPDATE_STUDENT_REQUEST":return Object(Ze.a)(Object(Ze.a)({},e),{},{student:t.updatedStudent,students:e.students.map((function(e,n){return n===t.updatedStudent.id?t.updatedStudent:e}))});case"FETCH_STUDENT_REQUEST":return Object(Ze.a)(Object(Ze.a)({},e),{},{student:t.updatedStudent});case"SAVE_STUDENT_REQUEST":return Object(Ze.a)(Object(Ze.a)({},e),{},{students:e.students.concat(t.newItem),student:t.newItem});case"DELETE_STUDENT_REQUEST":return Object(Ze.a)(Object(Ze.a)({},e),{},{students:e.students.filter((function(e){return e.id!==t.studentId}))});case"STUDENT_SUCCESS":return Object(Ze.a)(Object(Ze.a)({},e),{},{student:t.payload,error:""});case"STUDENT_FAILURE":return Object(Ze.a)(Object(Ze.a)({},e),{},{error:t.payload});case"FETCH_SEARCH_STUDENTS_REQUEST":return Object(Ze.a)(Object(Ze.a)({},e),{},{students:t.students,error:""});default:return e}},st={lesson:"",error:"",lessons:[],currentPage:1,searchedLesson:"",sortDirection:"asc",lessonsPerPage:5},rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ALL_LESSONS_REQUEST":return Object(Ze.a)(Object(Ze.a)({},e),{},{lessons:t.payload,totalElements:t.totalElements,totalPages:t.totalPages,sortDirection:t.sortDirection,error:""});case"UPDATE_LESSON_REQUEST":return Object(Ze.a)(Object(Ze.a)({},e),{},{lesson:t.updatedLesson,lessons:e.lessons.map((function(e,n){return n===t.updatedLesson.id?t.updatedLesson:e}))});case"FETCH_LESSON_REQUEST":return Object(Ze.a)(Object(Ze.a)({},e),{},{lesson:t.updatedLesson});case"SAVE_LESSON_REQUEST":return Object(Ze.a)(Object(Ze.a)({},e),{},{lessons:e.lessons.concat(t.newItem),lesson:t.newItem});case"DELETE_LESSON_REQUEST":return Object(Ze.a)(Object(Ze.a)({},e),{},{lessons:e.lessons.filter((function(e){return e.id!==t.lessonId}))});case"LESSON_SUCCESS":return Object(Ze.a)(Object(Ze.a)({},e),{},{lesson:t.payload,error:""});case"LESSON_FAILURE":return Object(Ze.a)(Object(Ze.a)({},e),{},{error:t.payload});case"FETCH_SEARCH_LESSONS_REQUEST":return Object(Ze.a)(Object(Ze.a)({},e),{},{lessons:t.lessons,error:""});case"FETCH_ALL_STUDENT_LESSONS_REQUEST":return Object(Ze.a)(Object(Ze.a)({},e),{},{lessons:t.payload,totalElements:t.totalElements,totalPages:t.totalPages,error:""});default:return e}},ot={priceTable:"",error:"",priceTables:[]},lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ALL_PRICE_TABLES_REQUEST":return Object(Ze.a)({},e);case"UPDATE_PRICE_TABLE_REQUEST":return console.log(t),Object(Ze.a)(Object(Ze.a)({},e),{},{priceTable:t.updatedPriceTable,priceTables:e.priceTables.map((function(e,n){return n===t.updatedPriceTable.id?t.updatedPriceTable:e}))});case"FETCH_PRICE_TABLE_REQUEST":return Object(Ze.a)(Object(Ze.a)({},e),{},{priceTable:t.updatedPriceTable});case"SAVE_PRICE_TABLE_REQUEST":return Object(Ze.a)(Object(Ze.a)({},e),{},{priceTables:e.priceTables.concat(t.newItem),priceTable:t.newItem});case"DELETE_PRICE_TABLE_REQUEST":return Object(Ze.a)(Object(Ze.a)({},e),{},{priceTables:e.priceTables.filter((function(e){return e.id!==t.priceTableId}))});case"PRICE_TABLE_SUCCESS":return Object(Ze.a)(Object(Ze.a)({},e),{},{priceTable:t.payload,error:""});case"PRICE_TABLE_FAILURE":return Object(Ze.a)(Object(Ze.a)({},e),{},{error:t.payload});case"FETCH_ALL_PRICE_TABLES_SUCCESS":return Object(Ze.a)(Object(Ze.a)({},e),{},{priceTables:t.payload,error:""});default:return e}},it=Object(Ke.c)({instructor:tt,student:at,lesson:rt,priceTable:lt}),ct=Object(Ke.d)(it,Object(Ke.a)(Xe.a));o.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(D.a,{store:ct},"     ",s.a.createElement(Ve,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Ye?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):$e(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):$e(t,e)}))}}()},34:function(e,t,n){},91:function(e,t,n){e.exports=n(125)},96:function(e,t,n){},97:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},98:function(e,t,n){}},[[91,1,2]]]);
//# sourceMappingURL=main.7498c62b.chunk.js.map